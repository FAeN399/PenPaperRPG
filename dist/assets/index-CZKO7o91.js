var Cu=Object.defineProperty;var Nu=(e,t,a)=>t in e?Cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var _e=(e,t,a)=>Nu(e,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=a(i);fetch(i.href,r)}})();function Au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hl={exports:{}},xi={},ml={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mn=Symbol.for("react.element"),Yu=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),Lu=Symbol.for("react.profiler"),Bu=Symbol.for("react.provider"),Iu=Symbol.for("react.context"),Du=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Mu=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),Js=Symbol.iterator;function Ru(e){return e===null||typeof e!="object"?null:(e=Js&&e[Js]||e["@@iterator"],typeof e=="function"?e:null)}var fl={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pl=Object.assign,gl={};function ja(e,t,a){this.props=e,this.context=t,this.refs=gl,this.updater=a||fl}ja.prototype.isReactComponent={};ja.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ja.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yl(){}yl.prototype=ja.prototype;function is(e,t,a){this.props=e,this.context=t,this.refs=gl,this.updater=a||fl}var rs=is.prototype=new yl;rs.constructor=is;pl(rs,ja.prototype);rs.isPureReactComponent=!0;var eo=Array.isArray,vl=Object.prototype.hasOwnProperty,ss={current:null},xl={key:!0,ref:!0,__self:!0,__source:!0};function bl(e,t,a){var n,i={},r=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)vl.call(t,n)&&!xl.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=a;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:mn,type:e,key:r,ref:o,props:i,_owner:ss.current}}function Ou(e,t){return{$$typeof:mn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function os(e){return typeof e=="object"&&e!==null&&e.$$typeof===mn}function _u(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var to=/\/+/g;function Fi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_u(""+e.key):t.toString(36)}function Fn(e,t,a,n,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mn:case Yu:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Fi(o,0):n,eo(i)?(a="",e!=null&&(a=e.replace(to,"$&/")+"/"),Fn(i,t,a,"",function(d){return d})):i!=null&&(os(i)&&(i=Ou(i,a+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(to,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",eo(e))for(var c=0;c<e.length;c++){r=e[c];var l=n+Fi(r,c);o+=Fn(r,t,a,l,i)}else if(l=Ru(e),typeof l=="function")for(e=l.call(e),c=0;!(r=e.next()).done;)r=r.value,l=n+Fi(r,c++),o+=Fn(r,t,a,l,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xn(e,t,a){if(e==null)return e;var n=[],i=0;return Fn(e,n,"","",function(r){return t.call(a,r,i++)}),n}function Wu(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Mn={transition:null},Hu={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Mn,ReactCurrentOwner:ss};function kl(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:xn,forEach:function(e,t,a){xn(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return xn(e,function(){t++}),t},toArray:function(e){return xn(e,function(t){return t})||[]},only:function(e){if(!os(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=ja;z.Fragment=Eu;z.Profiler=Lu;z.PureComponent=is;z.StrictMode=Pu;z.Suspense=Fu;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hu;z.act=kl;z.cloneElement=function(e,t,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pl({},e.props),i=e.key,r=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=ss.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)vl.call(t,l)&&!xl.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=a;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:mn,type:e.type,key:i,ref:r,props:n,_owner:o}};z.createContext=function(e){return e={$$typeof:Iu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bu,_context:e},e.Consumer=e};z.createElement=bl;z.createFactory=function(e){var t=bl.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:Du,render:e}};z.isValidElement=os;z.lazy=function(e){return{$$typeof:zu,_payload:{_status:-1,_result:e},_init:Wu}};z.memo=function(e,t){return{$$typeof:Mu,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Mn.transition;Mn.transition={};try{e()}finally{Mn.transition=t}};z.unstable_act=kl;z.useCallback=function(e,t){return be.current.useCallback(e,t)};z.useContext=function(e){return be.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return be.current.useDeferredValue(e)};z.useEffect=function(e,t){return be.current.useEffect(e,t)};z.useId=function(){return be.current.useId()};z.useImperativeHandle=function(e,t,a){return be.current.useImperativeHandle(e,t,a)};z.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return be.current.useMemo(e,t)};z.useReducer=function(e,t,a){return be.current.useReducer(e,t,a)};z.useRef=function(e){return be.current.useRef(e)};z.useState=function(e){return be.current.useState(e)};z.useSyncExternalStore=function(e,t,a){return be.current.useSyncExternalStore(e,t,a)};z.useTransition=function(){return be.current.useTransition()};z.version="18.3.1";ml.exports=z;var L=ml.exports;const qu=Au(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=L,$u=Symbol.for("react.element"),Uu=Symbol.for("react.fragment"),Vu=Object.prototype.hasOwnProperty,Qu=Gu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ku={key:!0,ref:!0,__self:!0,__source:!0};function wl(e,t,a){var n,i={},r=null,o=null;a!==void 0&&(r=""+a),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Vu.call(t,n)&&!Ku.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:$u,type:e,key:r,ref:o,props:i,_owner:Qu.current}}xi.Fragment=Uu;xi.jsx=wl;xi.jsxs=wl;hl.exports=xi;var s=hl.exports,dr={},Sl={exports:{}},Le={},Tl={exports:{}},jl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var M=A.length;A.push(D);e:for(;0<M;){var Z=M-1>>>1,ie=A[Z];if(0<i(ie,D))A[Z]=D,A[M]=ie,M=Z;else break e}}function a(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var D=A[0],M=A.pop();if(M!==D){A[0]=M;e:for(var Z=0,ie=A.length,I=ie>>>1;Z<I;){var nt=2*(Z+1)-1,Di=A[nt],Mt=nt+1,vn=A[Mt];if(0>i(Di,M))Mt<ie&&0>i(vn,Di)?(A[Z]=vn,A[Mt]=M,Z=Mt):(A[Z]=Di,A[nt]=M,Z=nt);else if(Mt<ie&&0>i(vn,M))A[Z]=vn,A[Mt]=M,Z=Mt;else break e}}return D}function i(A,D){var M=A.sortIndex-D.sortIndex;return M!==0?M:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],d=[],f=1,p=null,v=3,x=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var D=a(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=A)n(d),D.sortIndex=D.expirationTime,t(l,D);else break;D=a(d)}}function y(A){if(w=!1,m(A),!b)if(a(l)!==null)b=!0,H(k);else{var D=a(d);D!==null&&at(y,D.startTime-A)}}function k(A,D){b=!1,w&&(w=!1,h(Y),Y=-1),x=!0;var M=v;try{for(m(D),p=a(l);p!==null&&(!(p.expirationTime>D)||A&&!ne());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,v=p.priorityLevel;var ie=Z(p.expirationTime<=D);D=e.unstable_now(),typeof ie=="function"?p.callback=ie:p===a(l)&&n(l),m(D)}else n(l);p=a(l)}if(p!==null)var I=!0;else{var nt=a(d);nt!==null&&at(y,nt.startTime-D),I=!1}return I}finally{p=null,v=M,x=!1}}var T=!1,N=null,Y=-1,R=5,B=-1;function ne(){return!(e.unstable_now()-B<R)}function we(){if(N!==null){var A=e.unstable_now();B=A;var D=!0;try{D=N(!0,A)}finally{D?S():(T=!1,N=null)}}else T=!1}var S;if(typeof u=="function")S=function(){u(we)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,P=g.port2;g.port1.onmessage=we,S=function(){P.postMessage(null)}}else S=function(){C(we,0)};function H(A){N=A,T||(T=!0,S())}function at(A,D){Y=C(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,H(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return a(l)},e.unstable_next=function(A){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var M=v;v=D;try{return A()}finally{v=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=v;v=A;try{return D()}finally{v=M}},e.unstable_scheduleCallback=function(A,D,M){var Z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,A){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=M+ie,A={id:f++,callback:D,priorityLevel:A,startTime:M,expirationTime:ie,sortIndex:-1},M>Z?(A.sortIndex=M,t(d,A),a(l)===null&&A===a(d)&&(w?(h(Y),Y=-1):w=!0,at(y,M-Z))):(A.sortIndex=ie,t(l,A),b||x||(b=!0,H(k))),A},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(A){var D=v;return function(){var M=v;v=D;try{return A.apply(this,arguments)}finally{v=M}}}})(jl);Tl.exports=jl;var Xu=Tl.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=L,Pe=Xu;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cl=new Set,Qa={};function Xt(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(Qa[e]=t,e=0;e<t.length;e++)Cl.add(t[e])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=Object.prototype.hasOwnProperty,Ju=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ao={},no={};function ed(e){return hr.call(no,e)?!0:hr.call(ao,e)?!1:Ju.test(e)?no[e]=!0:(ao[e]=!0,!1)}function td(e,t,a,n){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ad(e,t,a,n){if(t===null||typeof t>"u"||td(e,t,a,n))return!0;if(n)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,a,n,i,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var ls=/[\-:]([a-z])/g;function cs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ls,cs);de[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ls,cs);de[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ls,cs);de[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function us(e,t,a,n){var i=de.hasOwnProperty(t)?de[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ad(t,a,i,n)&&(a=null),n||i===null?ed(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):i.mustUseProperty?e[i.propertyName]=a===null?i.type===3?!1:"":a:(t=i.attributeName,n=i.attributeNamespace,a===null?e.removeAttribute(t):(i=i.type,a=i===3||i===4&&a===!0?"":""+a,n?e.setAttributeNS(n,t,a):e.setAttribute(t,a))))}var pt=Zu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bn=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),ds=Symbol.for("react.strict_mode"),mr=Symbol.for("react.profiler"),Nl=Symbol.for("react.provider"),Al=Symbol.for("react.context"),hs=Symbol.for("react.forward_ref"),fr=Symbol.for("react.suspense"),pr=Symbol.for("react.suspense_list"),ms=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Yl=Symbol.for("react.offscreen"),io=Symbol.iterator;function Aa(e){return e===null||typeof e!="object"?null:(e=io&&e[io]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,Mi;function Fa(e){if(Mi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Mi=t&&t[1]||""}return`
`+Mi+e}var zi=!1;function Ri(e,t){if(!e||zi)return"";zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),r=n.stack.split(`
`),o=i.length-1,c=r.length-1;1<=o&&0<=c&&i[o]!==r[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==r[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==r[c]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{zi=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Fa(e):""}function nd(e){switch(e.tag){case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return e=Ri(e.type,!1),e;case 11:return e=Ri(e.type.render,!1),e;case 1:return e=Ri(e.type,!0),e;default:return""}}function gr(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ta:return"Fragment";case ea:return"Portal";case mr:return"Profiler";case ds:return"StrictMode";case fr:return"Suspense";case pr:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Al:return(e.displayName||"Context")+".Consumer";case Nl:return(e._context.displayName||"Context")+".Provider";case hs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ms:return t=e.displayName||null,t!==null?t:gr(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return gr(e(t))}catch{}}return null}function id(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gr(t);case 8:return t===ds?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function El(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rd(e){var t=El(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kn(e){e._valueTracker||(e._valueTracker=rd(e))}function Pl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=El(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Qn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yr(e,t){var a=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function ro(e,t){var a=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;a=Lt(t.value!=null?t.value:a),e._wrapperState={initialChecked:n,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ll(e,t){t=t.checked,t!=null&&us(e,"checked",t,!1)}function vr(e,t){Ll(e,t);var a=Lt(t.value),n=t.type;if(a!=null)n==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xr(e,t.type,a):t.hasOwnProperty("defaultValue")&&xr(e,t.type,Lt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function so(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function xr(e,t,a){(t!=="number"||Qn(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Ma=Array.isArray;function ha(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function br(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oo(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(j(92));if(Ma(a)){if(1<a.length)throw Error(j(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:Lt(a)}}function Bl(e,t){var a=Lt(t.value),n=Lt(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),n!=null&&(e.defaultValue=""+n)}function lo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Il(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Il(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wn,Dl=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,a,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ka(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sd=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(e){sd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oa[t]=Oa[e]})});function Fl(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Oa.hasOwnProperty(e)&&Oa[e]?(""+t).trim():t+"px"}function Ml(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var n=a.indexOf("--")===0,i=Fl(a,t[a],n);a==="float"&&(a="cssFloat"),n?e.setProperty(a,i):e[a]=i}}var od=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wr(e,t){if(t){if(od[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Sr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=null;function fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,ma=null,fa=null;function co(e){if(e=gn(e)){if(typeof jr!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Ti(t),jr(e.stateNode,e.type,t))}}function zl(e){ma?fa?fa.push(e):fa=[e]:ma=e}function Rl(){if(ma){var e=ma,t=fa;if(fa=ma=null,co(e),t)for(e=0;e<t.length;e++)co(t[e])}}function Ol(e,t){return e(t)}function _l(){}var Oi=!1;function Wl(e,t,a){if(Oi)return e(t,a);Oi=!0;try{return Ol(e,t,a)}finally{Oi=!1,(ma!==null||fa!==null)&&(_l(),Rl())}}function Xa(e,t){var a=e.stateNode;if(a===null)return null;var n=Ti(a);if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(j(231,t,typeof a));return a}var Cr=!1;if(dt)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Cr=!1}function ld(e,t,a,n,i,r,o,c,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(a,d)}catch(f){this.onError(f)}}var _a=!1,Kn=null,Xn=!1,Nr=null,cd={onError:function(e){_a=!0,Kn=e}};function ud(e,t,a,n,i,r,o,c,l){_a=!1,Kn=null,ld.apply(cd,arguments)}function dd(e,t,a,n,i,r,o,c,l){if(ud.apply(this,arguments),_a){if(_a){var d=Kn;_a=!1,Kn=null}else throw Error(j(198));Xn||(Xn=!0,Nr=d)}}function Zt(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Hl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uo(e){if(Zt(e)!==e)throw Error(j(188))}function hd(e){var t=e.alternate;if(!t){if(t=Zt(e),t===null)throw Error(j(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===a)return uo(i),e;if(r===n)return uo(i),t;r=r.sibling}throw Error(j(188))}if(a.return!==n.return)a=i,n=r;else{for(var o=!1,c=i.child;c;){if(c===a){o=!0,a=i,n=r;break}if(c===n){o=!0,n=i,a=r;break}c=c.sibling}if(!o){for(c=r.child;c;){if(c===a){o=!0,a=r,n=i;break}if(c===n){o=!0,n=r,a=i;break}c=c.sibling}if(!o)throw Error(j(189))}}if(a.alternate!==n)throw Error(j(190))}if(a.tag!==3)throw Error(j(188));return a.stateNode.current===a?e:t}function ql(e){return e=hd(e),e!==null?Gl(e):null}function Gl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gl(e);if(t!==null)return t;e=e.sibling}return null}var $l=Pe.unstable_scheduleCallback,ho=Pe.unstable_cancelCallback,md=Pe.unstable_shouldYield,fd=Pe.unstable_requestPaint,te=Pe.unstable_now,pd=Pe.unstable_getCurrentPriorityLevel,ps=Pe.unstable_ImmediatePriority,Ul=Pe.unstable_UserBlockingPriority,Zn=Pe.unstable_NormalPriority,gd=Pe.unstable_LowPriority,Vl=Pe.unstable_IdlePriority,bi=null,Je=null;function yd(e){if(Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(bi,e,void 0,(e.current.flags&128)===128)}catch{}}var $e=Math.clz32?Math.clz32:bd,vd=Math.log,xd=Math.LN2;function bd(e){return e>>>=0,e===0?32:31-(vd(e)/xd|0)|0}var Sn=64,Tn=4194304;function za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jn(e,t){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes,o=a&268435455;if(o!==0){var c=o&~i;c!==0?n=za(c):(r&=o,r!==0&&(n=za(r)))}else o=a&~i,o!==0?n=za(o):r!==0&&(n=za(r));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(n&4&&(n|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)a=31-$e(t),i=1<<a,n|=e[a],t&=~i;return n}function kd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-$e(r),c=1<<o,l=i[o];l===-1?(!(c&a)||c&n)&&(i[o]=kd(c,t)):l<=t&&(e.expiredLanes|=c),r&=~c}}function Ar(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ql(){var e=Sn;return Sn<<=1,!(Sn&4194240)&&(Sn=64),e}function _i(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function fn(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$e(t),e[t]=a}function Sd(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var i=31-$e(a),r=1<<i;t[i]=0,n[i]=-1,e[i]=-1,a&=~r}}function gs(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-$e(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}var W=0;function Kl(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xl,ys,Zl,Jl,ec,Yr=!1,jn=[],Tt=null,jt=null,Ct=null,Za=new Map,Ja=new Map,bt=[],Td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(t.pointerId)}}function Ea(e,t,a,n,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},t!==null&&(t=gn(t),t!==null&&ys(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jd(e,t,a,n,i){switch(t){case"focusin":return Tt=Ea(Tt,e,t,a,n,i),!0;case"dragenter":return jt=Ea(jt,e,t,a,n,i),!0;case"mouseover":return Ct=Ea(Ct,e,t,a,n,i),!0;case"pointerover":var r=i.pointerId;return Za.set(r,Ea(Za.get(r)||null,e,t,a,n,i)),!0;case"gotpointercapture":return r=i.pointerId,Ja.set(r,Ea(Ja.get(r)||null,e,t,a,n,i)),!0}return!1}function tc(e){var t=_t(e.target);if(t!==null){var a=Zt(t);if(a!==null){if(t=a.tag,t===13){if(t=Hl(a),t!==null){e.blockedOn=t,ec(e.priority,function(){Zl(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Er(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Tr=n,a.target.dispatchEvent(n),Tr=null}else return t=gn(a),t!==null&&ys(t),e.blockedOn=a,!1;t.shift()}return!0}function fo(e,t,a){zn(e)&&a.delete(t)}function Cd(){Yr=!1,Tt!==null&&zn(Tt)&&(Tt=null),jt!==null&&zn(jt)&&(jt=null),Ct!==null&&zn(Ct)&&(Ct=null),Za.forEach(fo),Ja.forEach(fo)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Yr||(Yr=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Cd)))}function en(e){function t(i){return Pa(i,e)}if(0<jn.length){Pa(jn[0],e);for(var a=1;a<jn.length;a++){var n=jn[a];n.blockedOn===e&&(n.blockedOn=null)}}for(Tt!==null&&Pa(Tt,e),jt!==null&&Pa(jt,e),Ct!==null&&Pa(Ct,e),Za.forEach(t),Ja.forEach(t),a=0;a<bt.length;a++)n=bt[a],n.blockedOn===e&&(n.blockedOn=null);for(;0<bt.length&&(a=bt[0],a.blockedOn===null);)tc(a),a.blockedOn===null&&bt.shift()}var pa=pt.ReactCurrentBatchConfig,ei=!0;function Nd(e,t,a,n){var i=W,r=pa.transition;pa.transition=null;try{W=1,vs(e,t,a,n)}finally{W=i,pa.transition=r}}function Ad(e,t,a,n){var i=W,r=pa.transition;pa.transition=null;try{W=4,vs(e,t,a,n)}finally{W=i,pa.transition=r}}function vs(e,t,a,n){if(ei){var i=Er(e,t,a,n);if(i===null)Xi(e,t,n,ti,a),mo(e,n);else if(jd(i,e,t,a,n))n.stopPropagation();else if(mo(e,n),t&4&&-1<Td.indexOf(e)){for(;i!==null;){var r=gn(i);if(r!==null&&Xl(r),r=Er(e,t,a,n),r===null&&Xi(e,t,n,ti,a),r===i)break;i=r}i!==null&&n.stopPropagation()}else Xi(e,t,n,null,a)}}var ti=null;function Er(e,t,a,n){if(ti=null,e=fs(n),e=_t(e),e!==null)if(t=Zt(e),t===null)e=null;else if(a=t.tag,a===13){if(e=Hl(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pd()){case ps:return 1;case Ul:return 4;case Zn:case gd:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var wt=null,xs=null,Rn=null;function nc(){if(Rn)return Rn;var e,t=xs,a=t.length,n,i="value"in wt?wt.value:wt.textContent,r=i.length;for(e=0;e<a&&t[e]===i[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===i[r-n];n++);return Rn=i.slice(e,1<n?1-n:void 0)}function On(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function po(){return!1}function Be(e){function t(a,n,i,r,o){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Cn:po,this.isPropagationStopped=po,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Be(Ca),pn=X({},Ca,{view:0,detail:0}),Yd=Be(pn),Wi,Hi,La,ki=X({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==La&&(La&&e.type==="mousemove"?(Wi=e.screenX-La.screenX,Hi=e.screenY-La.screenY):Hi=Wi=0,La=e),Wi)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),go=Be(ki),Ed=X({},ki,{dataTransfer:0}),Pd=Be(Ed),Ld=X({},pn,{relatedTarget:0}),qi=Be(Ld),Bd=X({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Id=Be(Bd),Dd=X({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fd=Be(Dd),Md=X({},Ca,{data:0}),yo=Be(Md),zd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _d(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Od[e])?!!t[e]:!1}function ks(){return _d}var Wd=X({},pn,{key:function(e){if(e.key){var t=zd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=On(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return e.type==="keypress"?On(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?On(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hd=Be(Wd),qd=X({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=Be(qd),Gd=X({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),$d=Be(Gd),Ud=X({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vd=Be(Ud),Qd=X({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kd=Be(Qd),Xd=[9,13,27,32],ws=dt&&"CompositionEvent"in window,Wa=null;dt&&"documentMode"in document&&(Wa=document.documentMode);var Zd=dt&&"TextEvent"in window&&!Wa,ic=dt&&(!ws||Wa&&8<Wa&&11>=Wa),xo=" ",bo=!1;function rc(e,t){switch(e){case"keyup":return Xd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function Jd(e,t){switch(e){case"compositionend":return sc(t);case"keypress":return t.which!==32?null:(bo=!0,xo);case"textInput":return e=t.data,e===xo&&bo?null:e;default:return null}}function eh(e,t){if(aa)return e==="compositionend"||!ws&&rc(e,t)?(e=nc(),Rn=xs=wt=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ic&&t.locale!=="ko"?null:t.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!th[e.type]:t==="textarea"}function oc(e,t,a,n){zl(n),t=ai(t,"onChange"),0<t.length&&(a=new bs("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ha=null,tn=null;function ah(e){vc(e,0)}function wi(e){var t=ra(e);if(Pl(t))return e}function nh(e,t){if(e==="change")return t}var lc=!1;if(dt){var Gi;if(dt){var $i="oninput"in document;if(!$i){var wo=document.createElement("div");wo.setAttribute("oninput","return;"),$i=typeof wo.oninput=="function"}Gi=$i}else Gi=!1;lc=Gi&&(!document.documentMode||9<document.documentMode)}function So(){Ha&&(Ha.detachEvent("onpropertychange",cc),tn=Ha=null)}function cc(e){if(e.propertyName==="value"&&wi(tn)){var t=[];oc(t,tn,e,fs(e)),Wl(ah,t)}}function ih(e,t,a){e==="focusin"?(So(),Ha=t,tn=a,Ha.attachEvent("onpropertychange",cc)):e==="focusout"&&So()}function rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(tn)}function sh(e,t){if(e==="click")return wi(t)}function oh(e,t){if(e==="input"||e==="change")return wi(t)}function lh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:lh;function an(e,t){if(Ve(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!hr.call(t,i)||!Ve(e[i],t[i]))return!1}return!0}function To(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jo(e,t){var a=To(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=To(a)}}function uc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dc(){for(var e=window,t=Qn();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Qn(e.document)}return t}function Ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ch(e){var t=dc(),a=e.focusedElem,n=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&uc(a.ownerDocument.documentElement,a)){if(n!==null&&Ss(a)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=a.textContent.length,r=Math.min(n.start,i);n=n.end===void 0?r:Math.min(n.end,i),!e.extend&&r>n&&(i=n,n=r,r=i),i=jo(a,r);var o=jo(a,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uh=dt&&"documentMode"in document&&11>=document.documentMode,na=null,Pr=null,qa=null,Lr=!1;function Co(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lr||na==null||na!==Qn(n)||(n=na,"selectionStart"in n&&Ss(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qa&&an(qa,n)||(qa=n,n=ai(Pr,"onSelect"),0<n.length&&(t=new bs("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=na)))}function Nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ia={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionend:Nn("Transition","TransitionEnd")},Ui={},hc={};dt&&(hc=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Si(e){if(Ui[e])return Ui[e];if(!ia[e])return e;var t=ia[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in hc)return Ui[e]=t[a];return e}var mc=Si("animationend"),fc=Si("animationiteration"),pc=Si("animationstart"),gc=Si("transitionend"),yc=new Map,No="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(e,t){yc.set(e,t),Xt(t,[e])}for(var Vi=0;Vi<No.length;Vi++){var Qi=No[Vi],dh=Qi.toLowerCase(),hh=Qi[0].toUpperCase()+Qi.slice(1);It(dh,"on"+hh)}It(mc,"onAnimationEnd");It(fc,"onAnimationIteration");It(pc,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(gc,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Ao(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,dd(n,t,void 0,e),e.currentTarget=null}function vc(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,d=c.currentTarget;if(c=c.listener,l!==r&&i.isPropagationStopped())break e;Ao(i,c,d),r=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,d=c.currentTarget,c=c.listener,l!==r&&i.isPropagationStopped())break e;Ao(i,c,d),r=l}}}if(Xn)throw e=Nr,Xn=!1,Nr=null,e}function G(e,t){var a=t[Mr];a===void 0&&(a=t[Mr]=new Set);var n=e+"__bubble";a.has(n)||(xc(t,e,2,!1),a.add(n))}function Ki(e,t,a){var n=0;t&&(n|=4),xc(a,e,n,t)}var An="_reactListening"+Math.random().toString(36).slice(2);function nn(e){if(!e[An]){e[An]=!0,Cl.forEach(function(a){a!=="selectionchange"&&(mh.has(a)||Ki(a,!1,e),Ki(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[An]||(t[An]=!0,Ki("selectionchange",!1,t))}}function xc(e,t,a,n){switch(ac(t)){case 1:var i=Nd;break;case 4:i=Ad;break;default:i=vs}a=i.bind(null,t,a,e),i=void 0,!Cr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Xi(e,t,a,n,i){var r=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;c!==null;){if(o=_t(c),o===null)return;if(l=o.tag,l===5||l===6){n=r=o;continue e}c=c.parentNode}}n=n.return}Wl(function(){var d=r,f=fs(a),p=[];e:{var v=yc.get(e);if(v!==void 0){var x=bs,b=e;switch(e){case"keypress":if(On(a)===0)break e;case"keydown":case"keyup":x=Hd;break;case"focusin":b="focus",x=qi;break;case"focusout":b="blur",x=qi;break;case"beforeblur":case"afterblur":x=qi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=$d;break;case mc:case fc:case pc:x=Id;break;case gc:x=Vd;break;case"scroll":x=Yd;break;case"wheel":x=Kd;break;case"copy":case"cut":case"paste":x=Fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=vo}var w=(t&4)!==0,C=!w&&e==="scroll",h=w?v!==null?v+"Capture":null:v;w=[];for(var u=d,m;u!==null;){m=u;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,h!==null&&(y=Xa(u,h),y!=null&&w.push(rn(u,y,m)))),C)break;u=u.return}0<w.length&&(v=new x(v,b,null,a,f),p.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&a!==Tr&&(b=a.relatedTarget||a.fromElement)&&(_t(b)||b[ht]))break e;if((x||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,x?(b=a.relatedTarget||a.toElement,x=d,b=b?_t(b):null,b!==null&&(C=Zt(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(w=go,y="onMouseLeave",h="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=vo,y="onPointerLeave",h="onPointerEnter",u="pointer"),C=x==null?v:ra(x),m=b==null?v:ra(b),v=new w(y,u+"leave",x,a,f),v.target=C,v.relatedTarget=m,y=null,_t(f)===d&&(w=new w(h,u+"enter",b,a,f),w.target=m,w.relatedTarget=C,y=w),C=y,x&&b)t:{for(w=x,h=b,u=0,m=w;m;m=Jt(m))u++;for(m=0,y=h;y;y=Jt(y))m++;for(;0<u-m;)w=Jt(w),u--;for(;0<m-u;)h=Jt(h),m--;for(;u--;){if(w===h||h!==null&&w===h.alternate)break t;w=Jt(w),h=Jt(h)}w=null}else w=null;x!==null&&Yo(p,v,x,w,!1),b!==null&&C!==null&&Yo(p,C,b,w,!0)}}e:{if(v=d?ra(d):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var k=nh;else if(ko(v))if(lc)k=oh;else{k=rh;var T=ih}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(k=sh);if(k&&(k=k(e,d))){oc(p,k,a,f);break e}T&&T(e,v,d),e==="focusout"&&(T=v._wrapperState)&&T.controlled&&v.type==="number"&&xr(v,"number",v.value)}switch(T=d?ra(d):window,e){case"focusin":(ko(T)||T.contentEditable==="true")&&(na=T,Pr=d,qa=null);break;case"focusout":qa=Pr=na=null;break;case"mousedown":Lr=!0;break;case"contextmenu":case"mouseup":case"dragend":Lr=!1,Co(p,a,f);break;case"selectionchange":if(uh)break;case"keydown":case"keyup":Co(p,a,f)}var N;if(ws)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else aa?rc(e,a)&&(Y="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Y="onCompositionStart");Y&&(ic&&a.locale!=="ko"&&(aa||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&aa&&(N=nc()):(wt=f,xs="value"in wt?wt.value:wt.textContent,aa=!0)),T=ai(d,Y),0<T.length&&(Y=new yo(Y,e,null,a,f),p.push({event:Y,listeners:T}),N?Y.data=N:(N=sc(a),N!==null&&(Y.data=N)))),(N=Zd?Jd(e,a):eh(e,a))&&(d=ai(d,"onBeforeInput"),0<d.length&&(f=new yo("onBeforeInput","beforeinput",null,a,f),p.push({event:f,listeners:d}),f.data=N))}vc(p,t)})}function rn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ai(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Xa(e,a),r!=null&&n.unshift(rn(e,r,i)),r=Xa(e,t),r!=null&&n.push(rn(e,r,i))),e=e.return}return n}function Jt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yo(e,t,a,n,i){for(var r=t._reactName,o=[];a!==null&&a!==n;){var c=a,l=c.alternate,d=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&d!==null&&(c=d,i?(l=Xa(a,r),l!=null&&o.unshift(rn(a,l,c))):i||(l=Xa(a,r),l!=null&&o.push(rn(a,l,c)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var fh=/\r\n?/g,ph=/\u0000|\uFFFD/g;function Eo(e){return(typeof e=="string"?e:""+e).replace(fh,`
`).replace(ph,"")}function Yn(e,t,a){if(t=Eo(t),Eo(e)!==t&&a)throw Error(j(425))}function ni(){}var Br=null,Ir=null;function Dr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fr=typeof setTimeout=="function"?setTimeout:void 0,gh=typeof clearTimeout=="function"?clearTimeout:void 0,Po=typeof Promise=="function"?Promise:void 0,yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Po<"u"?function(e){return Po.resolve(null).then(e).catch(vh)}:Fr;function vh(e){setTimeout(function(){throw e})}function Zi(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(n===0){e.removeChild(i),en(t);return}n--}else a!=="$"&&a!=="$?"&&a!=="$!"||n++;a=i}while(a);en(t)}function Nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var Na=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Na,sn="__reactProps$"+Na,ht="__reactContainer$"+Na,Mr="__reactEvents$"+Na,xh="__reactListeners$"+Na,bh="__reactHandles$"+Na;function _t(e){var t=e[Xe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ht]||a[Xe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Lo(e);e!==null;){if(a=e[Xe])return a;e=Lo(e)}return t}e=a,a=e.parentNode}return null}function gn(e){return e=e[Xe]||e[ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Ti(e){return e[sn]||null}var zr=[],sa=-1;function Dt(e){return{current:e}}function $(e){0>sa||(e.current=zr[sa],zr[sa]=null,sa--)}function q(e,t){sa++,zr[sa]=e.current,e.current=t}var Bt={},ge=Dt(Bt),je=Dt(!1),$t=Bt;function xa(e,t){var a=e.type.contextTypes;if(!a)return Bt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in a)i[r]=t[r];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ce(e){return e=e.childContextTypes,e!=null}function ii(){$(je),$(ge)}function Bo(e,t,a){if(ge.current!==Bt)throw Error(j(168));q(ge,t),q(je,a)}function bc(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return a;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(j(108,id(e)||"Unknown",i));return X({},a,n)}function ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,$t=ge.current,q(ge,e),q(je,je.current),!0}function Io(e,t,a){var n=e.stateNode;if(!n)throw Error(j(169));a?(e=bc(e,t,$t),n.__reactInternalMemoizedMergedChildContext=e,$(je),$(ge),q(ge,e)):$(je),q(je,a)}var st=null,ji=!1,Ji=!1;function kc(e){st===null?st=[e]:st.push(e)}function kh(e){ji=!0,kc(e)}function Ft(){if(!Ji&&st!==null){Ji=!0;var e=0,t=W;try{var a=st;for(W=1;e<a.length;e++){var n=a[e];do n=n(!0);while(n!==null)}st=null,ji=!1}catch(i){throw st!==null&&(st=st.slice(e+1)),$l(ps,Ft),i}finally{W=t,Ji=!1}}return null}var oa=[],la=0,si=null,oi=0,De=[],Fe=0,Ut=null,ot=1,lt="";function zt(e,t){oa[la++]=oi,oa[la++]=si,si=e,oi=t}function wc(e,t,a){De[Fe++]=ot,De[Fe++]=lt,De[Fe++]=Ut,Ut=e;var n=ot;e=lt;var i=32-$e(n)-1;n&=~(1<<i),a+=1;var r=32-$e(t)+i;if(30<r){var o=i-i%5;r=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ot=1<<32-$e(t)+i|a<<i|n,lt=r+e}else ot=1<<r|a<<i|n,lt=e}function Ts(e){e.return!==null&&(zt(e,1),wc(e,1,0))}function js(e){for(;e===si;)si=oa[--la],oa[la]=null,oi=oa[--la],oa[la]=null;for(;e===Ut;)Ut=De[--Fe],De[Fe]=null,lt=De[--Fe],De[Fe]=null,ot=De[--Fe],De[Fe]=null}var Ee=null,Ye=null,U=!1,Ge=null;function Sc(e,t){var a=Me(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Do(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ee=e,Ye=Nt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ee=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Ut!==null?{id:ot,overflow:lt}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Me(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,Ee=e,Ye=null,!0):!1;default:return!1}}function Rr(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Or(e){if(U){var t=Ye;if(t){var a=t;if(!Do(e,t)){if(Rr(e))throw Error(j(418));t=Nt(a.nextSibling);var n=Ee;t&&Do(e,t)?Sc(n,a):(e.flags=e.flags&-4097|2,U=!1,Ee=e)}}else{if(Rr(e))throw Error(j(418));e.flags=e.flags&-4097|2,U=!1,Ee=e}}}function Fo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ee=e}function En(e){if(e!==Ee)return!1;if(!U)return Fo(e),U=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dr(e.type,e.memoizedProps)),t&&(t=Ye)){if(Rr(e))throw Tc(),Error(j(418));for(;t;)Sc(e,t),t=Nt(t.nextSibling)}if(Fo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Ye=Nt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Ee?Nt(e.stateNode.nextSibling):null;return!0}function Tc(){for(var e=Ye;e;)e=Nt(e.nextSibling)}function ba(){Ye=Ee=null,U=!1}function Cs(e){Ge===null?Ge=[e]:Ge.push(e)}var wh=pt.ReactCurrentBatchConfig;function Ba(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(j(309));var n=a.stateNode}if(!n)throw Error(j(147,e));var i=n,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var c=i.refs;o===null?delete c[r]:c[r]=o},t._stringRef=r,t)}if(typeof e!="string")throw Error(j(284));if(!a._owner)throw Error(j(290,e))}return e}function Pn(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mo(e){var t=e._init;return t(e._payload)}function jc(e){function t(h,u){if(e){var m=h.deletions;m===null?(h.deletions=[u],h.flags|=16):m.push(u)}}function a(h,u){if(!e)return null;for(;u!==null;)t(h,u),u=u.sibling;return null}function n(h,u){for(h=new Map;u!==null;)u.key!==null?h.set(u.key,u):h.set(u.index,u),u=u.sibling;return h}function i(h,u){return h=Pt(h,u),h.index=0,h.sibling=null,h}function r(h,u,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<u?(h.flags|=2,u):m):(h.flags|=2,u)):(h.flags|=1048576,u)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,u,m,y){return u===null||u.tag!==6?(u=sr(m,h.mode,y),u.return=h,u):(u=i(u,m),u.return=h,u)}function l(h,u,m,y){var k=m.type;return k===ta?f(h,u,m.props.children,y,m.key):u!==null&&(u.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vt&&Mo(k)===u.type)?(y=i(u,m.props),y.ref=Ba(h,u,m),y.return=h,y):(y=Un(m.type,m.key,m.props,null,h.mode,y),y.ref=Ba(h,u,m),y.return=h,y)}function d(h,u,m,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=or(m,h.mode,y),u.return=h,u):(u=i(u,m.children||[]),u.return=h,u)}function f(h,u,m,y,k){return u===null||u.tag!==7?(u=Gt(m,h.mode,y,k),u.return=h,u):(u=i(u,m),u.return=h,u)}function p(h,u,m){if(typeof u=="string"&&u!==""||typeof u=="number")return u=sr(""+u,h.mode,m),u.return=h,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case bn:return m=Un(u.type,u.key,u.props,null,h.mode,m),m.ref=Ba(h,null,u),m.return=h,m;case ea:return u=or(u,h.mode,m),u.return=h,u;case vt:var y=u._init;return p(h,y(u._payload),m)}if(Ma(u)||Aa(u))return u=Gt(u,h.mode,m,null),u.return=h,u;Pn(h,u)}return null}function v(h,u,m,y){var k=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:c(h,u,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bn:return m.key===k?l(h,u,m,y):null;case ea:return m.key===k?d(h,u,m,y):null;case vt:return k=m._init,v(h,u,k(m._payload),y)}if(Ma(m)||Aa(m))return k!==null?null:f(h,u,m,y,null);Pn(h,m)}return null}function x(h,u,m,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(m)||null,c(u,h,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bn:return h=h.get(y.key===null?m:y.key)||null,l(u,h,y,k);case ea:return h=h.get(y.key===null?m:y.key)||null,d(u,h,y,k);case vt:var T=y._init;return x(h,u,m,T(y._payload),k)}if(Ma(y)||Aa(y))return h=h.get(m)||null,f(u,h,y,k,null);Pn(u,y)}return null}function b(h,u,m,y){for(var k=null,T=null,N=u,Y=u=0,R=null;N!==null&&Y<m.length;Y++){N.index>Y?(R=N,N=null):R=N.sibling;var B=v(h,N,m[Y],y);if(B===null){N===null&&(N=R);break}e&&N&&B.alternate===null&&t(h,N),u=r(B,u,Y),T===null?k=B:T.sibling=B,T=B,N=R}if(Y===m.length)return a(h,N),U&&zt(h,Y),k;if(N===null){for(;Y<m.length;Y++)N=p(h,m[Y],y),N!==null&&(u=r(N,u,Y),T===null?k=N:T.sibling=N,T=N);return U&&zt(h,Y),k}for(N=n(h,N);Y<m.length;Y++)R=x(N,h,Y,m[Y],y),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?Y:R.key),u=r(R,u,Y),T===null?k=R:T.sibling=R,T=R);return e&&N.forEach(function(ne){return t(h,ne)}),U&&zt(h,Y),k}function w(h,u,m,y){var k=Aa(m);if(typeof k!="function")throw Error(j(150));if(m=k.call(m),m==null)throw Error(j(151));for(var T=k=null,N=u,Y=u=0,R=null,B=m.next();N!==null&&!B.done;Y++,B=m.next()){N.index>Y?(R=N,N=null):R=N.sibling;var ne=v(h,N,B.value,y);if(ne===null){N===null&&(N=R);break}e&&N&&ne.alternate===null&&t(h,N),u=r(ne,u,Y),T===null?k=ne:T.sibling=ne,T=ne,N=R}if(B.done)return a(h,N),U&&zt(h,Y),k;if(N===null){for(;!B.done;Y++,B=m.next())B=p(h,B.value,y),B!==null&&(u=r(B,u,Y),T===null?k=B:T.sibling=B,T=B);return U&&zt(h,Y),k}for(N=n(h,N);!B.done;Y++,B=m.next())B=x(N,h,Y,B.value,y),B!==null&&(e&&B.alternate!==null&&N.delete(B.key===null?Y:B.key),u=r(B,u,Y),T===null?k=B:T.sibling=B,T=B);return e&&N.forEach(function(we){return t(h,we)}),U&&zt(h,Y),k}function C(h,u,m,y){if(typeof m=="object"&&m!==null&&m.type===ta&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case bn:e:{for(var k=m.key,T=u;T!==null;){if(T.key===k){if(k=m.type,k===ta){if(T.tag===7){a(h,T.sibling),u=i(T,m.props.children),u.return=h,h=u;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vt&&Mo(k)===T.type){a(h,T.sibling),u=i(T,m.props),u.ref=Ba(h,T,m),u.return=h,h=u;break e}a(h,T);break}else t(h,T);T=T.sibling}m.type===ta?(u=Gt(m.props.children,h.mode,y,m.key),u.return=h,h=u):(y=Un(m.type,m.key,m.props,null,h.mode,y),y.ref=Ba(h,u,m),y.return=h,h=y)}return o(h);case ea:e:{for(T=m.key;u!==null;){if(u.key===T)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){a(h,u.sibling),u=i(u,m.children||[]),u.return=h,h=u;break e}else{a(h,u);break}else t(h,u);u=u.sibling}u=or(m,h.mode,y),u.return=h,h=u}return o(h);case vt:return T=m._init,C(h,u,T(m._payload),y)}if(Ma(m))return b(h,u,m,y);if(Aa(m))return w(h,u,m,y);Pn(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,u!==null&&u.tag===6?(a(h,u.sibling),u=i(u,m),u.return=h,h=u):(a(h,u),u=sr(m,h.mode,y),u.return=h,h=u),o(h)):a(h,u)}return C}var ka=jc(!0),Cc=jc(!1),li=Dt(null),ci=null,ca=null,Ns=null;function As(){Ns=ca=ci=null}function Ys(e){var t=li.current;$(li),e._currentValue=t}function _r(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ga(e,t){ci=e,Ns=ca=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Re(e){var t=e._currentValue;if(Ns!==e)if(e={context:e,memoizedValue:t,next:null},ca===null){if(ci===null)throw Error(j(308));ca=e,ci.dependencies={lanes:0,firstContext:e}}else ca=ca.next=e;return t}var Wt=null;function Es(e){Wt===null?Wt=[e]:Wt.push(e)}function Nc(e,t,a,n){var i=t.interleaved;return i===null?(a.next=a,Es(t)):(a.next=i.next,i.next=a),t.interleaved=a,mt(e,n)}function mt(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var xt=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,O&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,mt(e,a)}return i=n.interleaved,i===null?(t.next=t,Es(n)):(t.next=i.next,i.next=t),n.interleaved=t,mt(e,a)}function _n(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,gs(e,a)}}function zo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var o={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};r===null?i=r=o:r=r.next=o,a=a.next}while(a!==null);r===null?i=r=t:r=r.next=t}else i=r=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,effects:n.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function ui(e,t,a,n){var i=e.updateQueue;xt=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,d=l.next;l.next=null,o===null?r=d:o.next=d,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=l))}if(r!==null){var p=i.baseState;o=0,f=d=l=null,c=r;do{var v=c.lane,x=c.eventTime;if((n&v)===v){f!==null&&(f=f.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,w=c;switch(v=t,x=a,w.tag){case 1:if(b=w.payload,typeof b=="function"){p=b.call(x,p,v);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,v=typeof b=="function"?b.call(x,p,v):b,v==null)break e;p=X({},p,v);break e;case 2:xt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else x={eventTime:x,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=x,l=p):f=f.next=x,o|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);Qt|=o,e.lanes=o,e.memoizedState=p}}function Ro(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=a,typeof i!="function")throw Error(j(191,i));i.call(n)}}}var yn={},et=Dt(yn),on=Dt(yn),ln=Dt(yn);function Ht(e){if(e===yn)throw Error(j(174));return e}function Ls(e,t){switch(q(ln,t),q(on,e),q(et,yn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kr(t,e)}$(et),q(et,t)}function wa(){$(et),$(on),$(ln)}function Yc(e){Ht(ln.current);var t=Ht(et.current),a=kr(t,e.type);t!==a&&(q(on,e),q(et,a))}function Bs(e){on.current===e&&($(et),$(on))}var Q=Dt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var er=[];function Is(){for(var e=0;e<er.length;e++)er[e]._workInProgressVersionPrimary=null;er.length=0}var Wn=pt.ReactCurrentDispatcher,tr=pt.ReactCurrentBatchConfig,Vt=0,K=null,re=null,oe=null,hi=!1,Ga=!1,cn=0,Sh=0;function he(){throw Error(j(321))}function Ds(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ve(e[a],t[a]))return!1;return!0}function Fs(e,t,a,n,i,r){if(Vt=r,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wn.current=e===null||e.memoizedState===null?Nh:Ah,e=a(n,i),Ga){r=0;do{if(Ga=!1,cn=0,25<=r)throw Error(j(301));r+=1,oe=re=null,t.updateQueue=null,Wn.current=Yh,e=a(n,i)}while(Ga)}if(Wn.current=mi,t=re!==null&&re.next!==null,Vt=0,oe=re=K=null,hi=!1,t)throw Error(j(300));return e}function Ms(){var e=cn!==0;return cn=0,e}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?K.memoizedState=oe=e:oe=oe.next=e,oe}function Oe(){if(re===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=oe===null?K.memoizedState:oe.next;if(t!==null)oe=t,re=e;else{if(e===null)throw Error(j(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},oe===null?K.memoizedState=oe=e:oe=oe.next=e}return oe}function un(e,t){return typeof t=="function"?t(e):t}function ar(e){var t=Oe(),a=t.queue;if(a===null)throw Error(j(311));a.lastRenderedReducer=e;var n=re,i=n.baseQueue,r=a.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}n.baseQueue=i=r,a.pending=null}if(i!==null){r=i.next,n=n.baseState;var c=o=null,l=null,d=r;do{var f=d.lane;if((Vt&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(c=l=p,o=n):l=l.next=p,K.lanes|=f,Qt|=f}d=d.next}while(d!==null&&d!==r);l===null?o=n:l.next=c,Ve(n,t.memoizedState)||(Te=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,a.lastRenderedState=n}if(e=a.interleaved,e!==null){i=e;do r=i.lane,K.lanes|=r,Qt|=r,i=i.next;while(i!==e)}else i===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function nr(e){var t=Oe(),a=t.queue;if(a===null)throw Error(j(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,r=t.memoizedState;if(i!==null){a.pending=null;var o=i=i.next;do r=e(r,o.action),o=o.next;while(o!==i);Ve(r,t.memoizedState)||(Te=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function Ec(){}function Pc(e,t){var a=K,n=Oe(),i=t(),r=!Ve(n.memoizedState,i);if(r&&(n.memoizedState=i,Te=!0),n=n.queue,zs(Ic.bind(null,a,n,e),[e]),n.getSnapshot!==t||r||oe!==null&&oe.memoizedState.tag&1){if(a.flags|=2048,dn(9,Bc.bind(null,a,n,i,t),void 0,null),le===null)throw Error(j(349));Vt&30||Lc(a,t,i)}return i}function Lc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bc(e,t,a,n){t.value=a,t.getSnapshot=n,Dc(t)&&Fc(e)}function Ic(e,t,a){return a(function(){Dc(t)&&Fc(e)})}function Dc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ve(e,a)}catch{return!0}}function Fc(e){var t=mt(e,1);t!==null&&Ue(t,e,1,-1)}function Oo(e){var t=Ke();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},t.queue=e,e=e.dispatch=Ch.bind(null,K,e),[t.memoizedState,e]}function dn(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e)),e}function Mc(){return Oe().memoizedState}function Hn(e,t,a,n){var i=Ke();K.flags|=e,i.memoizedState=dn(1|t,a,void 0,n===void 0?null:n)}function Ci(e,t,a,n){var i=Oe();n=n===void 0?null:n;var r=void 0;if(re!==null){var o=re.memoizedState;if(r=o.destroy,n!==null&&Ds(n,o.deps)){i.memoizedState=dn(t,a,r,n);return}}K.flags|=e,i.memoizedState=dn(1|t,a,r,n)}function _o(e,t){return Hn(8390656,8,e,t)}function zs(e,t){return Ci(2048,8,e,t)}function zc(e,t){return Ci(4,2,e,t)}function Rc(e,t){return Ci(4,4,e,t)}function Oc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _c(e,t,a){return a=a!=null?a.concat([e]):null,Ci(4,4,Oc.bind(null,t,e),a)}function Rs(){}function Wc(e,t){var a=Oe();t=t===void 0?null:t;var n=a.memoizedState;return n!==null&&t!==null&&Ds(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Hc(e,t){var a=Oe();t=t===void 0?null:t;var n=a.memoizedState;return n!==null&&t!==null&&Ds(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function qc(e,t,a){return Vt&21?(Ve(a,t)||(a=Ql(),K.lanes|=a,Qt|=a,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=a)}function Th(e,t){var a=W;W=a!==0&&4>a?a:4,e(!0);var n=tr.transition;tr.transition={};try{e(!1),t()}finally{W=a,tr.transition=n}}function Gc(){return Oe().memoizedState}function jh(e,t,a){var n=Et(e);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},$c(e))Uc(t,a);else if(a=Nc(e,t,a,n),a!==null){var i=xe();Ue(a,e,n,i),Vc(a,t,n)}}function Ch(e,t,a){var n=Et(e),i={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(e))Uc(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,c=r(o,a);if(i.hasEagerState=!0,i.eagerState=c,Ve(c,o)){var l=t.interleaved;l===null?(i.next=i,Es(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}a=Nc(e,t,i,n),a!==null&&(i=xe(),Ue(a,e,n,i),Vc(a,t,n))}}function $c(e){var t=e.alternate;return e===K||t!==null&&t===K}function Uc(e,t){Ga=hi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Vc(e,t,a){if(a&4194240){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,gs(e,a)}}var mi={readContext:Re,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Nh={readContext:Re,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:_o,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Hn(4194308,4,Oc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hn(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hn(4,2,e,t)},useMemo:function(e,t){var a=Ke();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=Ke();return t=a!==void 0?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jh.bind(null,K,e),[n.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:Oo,useDebugValue:Rs,useDeferredValue:function(e){return Ke().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Th.bind(null,e[1]),Ke().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=K,i=Ke();if(U){if(a===void 0)throw Error(j(407));a=a()}else{if(a=t(),le===null)throw Error(j(349));Vt&30||Lc(n,t,a)}i.memoizedState=a;var r={value:a,getSnapshot:t};return i.queue=r,_o(Ic.bind(null,n,r,e),[e]),n.flags|=2048,dn(9,Bc.bind(null,n,r,a,t),void 0,null),a},useId:function(){var e=Ke(),t=le.identifierPrefix;if(U){var a=lt,n=ot;a=(n&~(1<<32-$e(n)-1)).toString(32)+a,t=":"+t+"R"+a,a=cn++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Sh++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ah={readContext:Re,useCallback:Wc,useContext:Re,useEffect:zs,useImperativeHandle:_c,useInsertionEffect:zc,useLayoutEffect:Rc,useMemo:Hc,useReducer:ar,useRef:Mc,useState:function(){return ar(un)},useDebugValue:Rs,useDeferredValue:function(e){var t=Oe();return qc(t,re.memoizedState,e)},useTransition:function(){var e=ar(un)[0],t=Oe().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:Pc,useId:Gc,unstable_isNewReconciler:!1},Yh={readContext:Re,useCallback:Wc,useContext:Re,useEffect:zs,useImperativeHandle:_c,useInsertionEffect:zc,useLayoutEffect:Rc,useMemo:Hc,useReducer:nr,useRef:Mc,useState:function(){return nr(un)},useDebugValue:Rs,useDeferredValue:function(e){var t=Oe();return re===null?t.memoizedState=e:qc(t,re.memoizedState,e)},useTransition:function(){var e=nr(un)[0],t=Oe().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:Pc,useId:Gc,unstable_isNewReconciler:!1};function He(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Wr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:X({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ni={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=xe(),i=Et(e),r=ct(n,i);r.payload=t,a!=null&&(r.callback=a),t=At(e,r,i),t!==null&&(Ue(t,e,i,n),_n(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=xe(),i=Et(e),r=ct(n,i);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=At(e,r,i),t!==null&&(Ue(t,e,i,n),_n(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=xe(),n=Et(e),i=ct(a,n);i.tag=2,t!=null&&(i.callback=t),t=At(e,i,n),t!==null&&(Ue(t,e,n,a),_n(t,e,n))}};function Wo(e,t,a,n,i,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!an(a,n)||!an(i,r):!0}function Qc(e,t,a){var n=!1,i=Bt,r=t.contextType;return typeof r=="object"&&r!==null?r=Re(r):(i=Ce(t)?$t:ge.current,n=t.contextTypes,r=(n=n!=null)?xa(e,i):Bt),t=new t(a,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function Ho(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function Hr(e,t,a,n){var i=e.stateNode;i.props=a,i.state=e.memoizedState,i.refs={},Ps(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=Re(r):(r=Ce(t)?$t:ge.current,i.context=xa(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Wr(e,t,r,a),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ni.enqueueReplaceState(i,i.state,null),ui(e,a,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sa(e,t){try{var a="",n=t;do a+=nd(n),n=n.return;while(n);var i=a}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function ir(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function qr(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Eh=typeof WeakMap=="function"?WeakMap:Map;function Kc(e,t,a){a=ct(-1,a),a.tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){pi||(pi=!0,es=n),qr(e,t)},a}function Xc(e,t,a){a=ct(-1,a),a.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;a.payload=function(){return n(i)},a.callback=function(){qr(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(a.callback=function(){qr(e,t),typeof n!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),a}function qo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Eh;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(i.add(a),e=qh.bind(null,e,t,a),t.then(e,e))}function Go(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $o(e,t,a,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=ct(-1,1),t.tag=2,At(a,t,1))),a.lanes|=1),e)}var Ph=pt.ReactCurrentOwner,Te=!1;function ye(e,t,a,n){t.child=e===null?Cc(t,null,a,n):ka(t,e.child,a,n)}function Uo(e,t,a,n,i){a=a.render;var r=t.ref;return ga(t,i),n=Fs(e,t,a,n,r,i),a=Ms(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ft(e,t,i)):(U&&a&&Ts(t),t.flags|=1,ye(e,t,n,i),t.child)}function Vo(e,t,a,n,i){if(e===null){var r=a.type;return typeof r=="function"&&!Us(r)&&r.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=r,Zc(e,t,r,n,i)):(e=Un(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var o=r.memoizedProps;if(a=a.compare,a=a!==null?a:an,a(o,n)&&e.ref===t.ref)return ft(e,t,i)}return t.flags|=1,e=Pt(r,n),e.ref=t.ref,e.return=t,t.child=e}function Zc(e,t,a,n,i){if(e!==null){var r=e.memoizedProps;if(an(r,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=r,(e.lanes&i)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,ft(e,t,i)}return Gr(e,t,a,n,i)}function Jc(e,t,a){var n=t.pendingProps,i=n.children,r=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(da,Ae),Ae|=a;else{if(!(a&1073741824))return e=r!==null?r.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(da,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:a,q(da,Ae),Ae|=n}else r!==null?(n=r.baseLanes|a,t.memoizedState=null):n=a,q(da,Ae),Ae|=n;return ye(e,t,i,a),t.child}function eu(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Gr(e,t,a,n,i){var r=Ce(a)?$t:ge.current;return r=xa(t,r),ga(t,i),a=Fs(e,t,a,n,r,i),n=Ms(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ft(e,t,i)):(U&&n&&Ts(t),t.flags|=1,ye(e,t,a,i),t.child)}function Qo(e,t,a,n,i){if(Ce(a)){var r=!0;ri(t)}else r=!1;if(ga(t,i),t.stateNode===null)qn(e,t),Qc(t,a,n),Hr(t,a,n,i),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,d=a.contextType;typeof d=="object"&&d!==null?d=Re(d):(d=Ce(a)?$t:ge.current,d=xa(t,d));var f=a.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==d)&&Ho(t,o,n,d),xt=!1;var v=t.memoizedState;o.state=v,ui(t,n,o,i),l=t.memoizedState,c!==n||v!==l||je.current||xt?(typeof f=="function"&&(Wr(t,a,f,n),l=t.memoizedState),(c=xt||Wo(t,a,c,n,v,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ac(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:He(t.type,c),o.props=d,p=t.pendingProps,v=o.context,l=a.contextType,typeof l=="object"&&l!==null?l=Re(l):(l=Ce(a)?$t:ge.current,l=xa(t,l));var x=a.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||v!==l)&&Ho(t,o,n,l),xt=!1,v=t.memoizedState,o.state=v,ui(t,n,o,i);var b=t.memoizedState;c!==p||v!==b||je.current||xt?(typeof x=="function"&&(Wr(t,a,x,n),b=t.memoizedState),(d=xt||Wo(t,a,d,n,v,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return $r(e,t,a,n,r,i)}function $r(e,t,a,n,i,r){eu(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Io(t,a,!1),ft(e,t,r);n=t.stateNode,Ph.current=t;var c=o&&typeof a.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ka(t,e.child,null,r),t.child=ka(t,null,c,r)):ye(e,t,c,r),t.memoizedState=n.state,i&&Io(t,a,!0),t.child}function tu(e){var t=e.stateNode;t.pendingContext?Bo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bo(e,t.context,!1),Ls(e,t.containerInfo)}function Ko(e,t,a,n,i){return ba(),Cs(i),t.flags|=256,ye(e,t,a,n),t.child}var Ur={dehydrated:null,treeContext:null,retryLane:0};function Vr(e){return{baseLanes:e,cachePool:null,transitions:null}}function au(e,t,a){var n=t.pendingProps,i=Q.current,r=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),q(Q,i&1),e===null)return Or(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,r?(n=t.mode,r=t.child,o={mode:"hidden",children:o},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Ei(o,n,0,null),e=Gt(e,n,a,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=Vr(a),t.memoizedState=Ur,e):Os(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Lh(e,t,o,n,c,i,a);if(r){r=n.fallback,o=t.mode,i=e.child,c=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Pt(i,l),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?r=Pt(c,r):(r=Gt(r,o,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,o=e.child.memoizedState,o=o===null?Vr(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=e.childLanes&~a,t.memoizedState=Ur,n}return r=e.child,e=r.sibling,n=Pt(r,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=a),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n}function Os(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ln(e,t,a,n){return n!==null&&Cs(n),ka(t,e.child,null,a),e=Os(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,a,n,i,r,o){if(a)return t.flags&256?(t.flags&=-257,n=ir(Error(j(422))),Ln(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=n.fallback,i=t.mode,n=Ei({mode:"visible",children:n.children},i,0,null),r=Gt(r,i,o,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,t.mode&1&&ka(t,e.child,null,o),t.child.memoizedState=Vr(o),t.memoizedState=Ur,r);if(!(t.mode&1))return Ln(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,r=Error(j(419)),n=ir(r,n,void 0),Ln(e,t,o,n)}if(c=(o&e.childLanes)!==0,Te||c){if(n=le,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,mt(e,i),Ue(n,e,i,-1))}return $s(),n=ir(Error(j(421))),Ln(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Gh.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,Ye=Nt(i.nextSibling),Ee=t,U=!0,Ge=null,e!==null&&(De[Fe++]=ot,De[Fe++]=lt,De[Fe++]=Ut,ot=e.id,lt=e.overflow,Ut=t),t=Os(t,n.children),t.flags|=4096,t)}function Xo(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_r(e.return,t,a)}function rr(e,t,a,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=i)}function nu(e,t,a){var n=t.pendingProps,i=n.revealOrder,r=n.tail;if(ye(e,t,n.children,a),n=Q.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xo(e,a,t);else if(e.tag===19)Xo(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(q(Q,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&di(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),rr(t,!1,i,a,r);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&di(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}rr(t,!0,a,null,r);break;case"together":rr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ft(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Qt|=t.lanes,!(a&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,a=Pt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Pt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Bh(e,t,a){switch(t.tag){case 3:tu(t),ba();break;case 5:Yc(t);break;case 1:Ce(t.type)&&ri(t);break;case 4:Ls(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;q(li,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(q(Q,Q.current&1),t.flags|=128,null):a&t.child.childLanes?au(e,t,a):(q(Q,Q.current&1),e=ft(e,t,a),e!==null?e.sibling:null);q(Q,Q.current&1);break;case 19:if(n=(a&t.childLanes)!==0,e.flags&128){if(n)return nu(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(Q,Q.current),n)break;return null;case 22:case 23:return t.lanes=0,Jc(e,t,a)}return ft(e,t,a)}var iu,Qr,ru,su;iu=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Qr=function(){};ru=function(e,t,a,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ht(et.current);var r=null;switch(a){case"input":i=yr(e,i),n=yr(e,n),r=[];break;case"select":i=X({},i,{value:void 0}),n=X({},n,{value:void 0}),r=[];break;case"textarea":i=br(e,i),n=br(e,n),r=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ni)}wr(a,n);var o;a=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(a||(a={}),a[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Qa.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in n){var l=n[d];if(c=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&l!==c&&(l!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(a||(a={}),a[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(a||(a={}),a[o]=l[o])}else a||(r||(r=[]),r.push(d,a)),a=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(r=r||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&G("scroll",e),r||c===l||(r=[])):(r=r||[]).push(d,l))}a&&(r=r||[]).push("style",a);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};su=function(e,t,a,n){a!==n&&(t.flags|=4)};function Ia(e,t){if(!U)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ih(e,t,a){var n=t.pendingProps;switch(js(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Ce(t.type)&&ii(),me(t),null;case 3:return n=t.stateNode,wa(),$(je),$(ge),Is(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(En(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ge!==null&&(ns(Ge),Ge=null))),Qr(e,t),me(t),null;case 5:Bs(t);var i=Ht(ln.current);if(a=t.type,e!==null&&t.stateNode!=null)ru(e,t,a,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(j(166));return me(t),null}if(e=Ht(et.current),En(t)){n=t.stateNode,a=t.type;var r=t.memoizedProps;switch(n[Xe]=t,n[sn]=r,e=(t.mode&1)!==0,a){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(i=0;i<Ra.length;i++)G(Ra[i],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":ro(n,r),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},G("invalid",n);break;case"textarea":oo(n,r),G("invalid",n)}wr(a,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var c=r[o];o==="children"?typeof c=="string"?n.textContent!==c&&(r.suppressHydrationWarning!==!0&&Yn(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(r.suppressHydrationWarning!==!0&&Yn(n.textContent,c,e),i=["children",""+c]):Qa.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&G("scroll",n)}switch(a){case"input":kn(n),so(n,r,!0);break;case"textarea":kn(n),lo(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=ni)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Il(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(a,{is:n.is}):(e=o.createElement(a),a==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,a),e[Xe]=t,e[sn]=n,iu(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sr(a,n),a){case"dialog":G("cancel",e),G("close",e),i=n;break;case"iframe":case"object":case"embed":G("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ra.length;i++)G(Ra[i],e);i=n;break;case"source":G("error",e),i=n;break;case"img":case"image":case"link":G("error",e),G("load",e),i=n;break;case"details":G("toggle",e),i=n;break;case"input":ro(e,n),i=yr(e,n),G("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=X({},n,{value:void 0}),G("invalid",e);break;case"textarea":oo(e,n),i=br(e,n),G("invalid",e);break;default:i=n}wr(a,i),c=i;for(r in c)if(c.hasOwnProperty(r)){var l=c[r];r==="style"?Ml(e,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dl(e,l)):r==="children"?typeof l=="string"?(a!=="textarea"||l!=="")&&Ka(e,l):typeof l=="number"&&Ka(e,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Qa.hasOwnProperty(r)?l!=null&&r==="onScroll"&&G("scroll",e):l!=null&&us(e,r,l,o))}switch(a){case"input":kn(e),so(e,n,!1);break;case"textarea":kn(e),lo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Lt(n.value));break;case"select":e.multiple=!!n.multiple,r=n.value,r!=null?ha(e,!!n.multiple,r,!1):n.defaultValue!=null&&ha(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ni)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)su(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(j(166));if(a=Ht(ln.current),Ht(et.current),En(t)){if(n=t.stateNode,a=t.memoizedProps,n[Xe]=t,(r=n.nodeValue!==a)&&(e=Ee,e!==null))switch(e.tag){case 3:Yn(n.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yn(n.nodeValue,a,(e.mode&1)!==0)}r&&(t.flags|=4)}else n=(a.nodeType===9?a:a.ownerDocument).createTextNode(n),n[Xe]=t,t.stateNode=n}return me(t),null;case 13:if($(Q),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(U&&Ye!==null&&t.mode&1&&!(t.flags&128))Tc(),ba(),t.flags|=98560,r=!1;else if(r=En(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(j(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[Xe]=t}else ba(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),r=!1}else Ge!==null&&(ns(Ge),Ge=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=a,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?se===0&&(se=3):$s())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return wa(),Qr(e,t),e===null&&nn(t.stateNode.containerInfo),me(t),null;case 10:return Ys(t.type._context),me(t),null;case 17:return Ce(t.type)&&ii(),me(t),null;case 19:if($(Q),r=t.memoizedState,r===null)return me(t),null;if(n=(t.flags&128)!==0,o=r.rendering,o===null)if(n)Ia(r,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=di(e),o!==null){for(t.flags|=128,Ia(r,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;a!==null;)r=a,e=n,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return q(Q,Q.current&1|2),t.child}e=e.sibling}r.tail!==null&&te()>Ta&&(t.flags|=128,n=!0,Ia(r,!1),t.lanes=4194304)}else{if(!n)if(e=di(o),e!==null){if(t.flags|=128,n=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Ia(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!U)return me(t),null}else 2*te()-r.renderingStartTime>Ta&&a!==1073741824&&(t.flags|=128,n=!0,Ia(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(a=r.last,a!==null?a.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,a=Q.current,q(Q,n?a&1|2:a&1),t):(me(t),null);case 22:case 23:return Gs(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Dh(e,t){switch(js(t),t.tag){case 1:return Ce(t.type)&&ii(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),$(je),$(ge),Is(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bs(t),null;case 13:if($(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(Q),null;case 4:return wa(),null;case 10:return Ys(t.type._context),null;case 22:case 23:return Gs(),null;case 24:return null;default:return null}}var Bn=!1,fe=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,E=null;function ua(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(n){J(e,t,n)}else a.current=null}function Kr(e,t,a){try{a()}catch(n){J(e,t,n)}}var Zo=!1;function Mh(e,t){if(Br=ei,e=dc(),Ss(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var o=0,c=-1,l=-1,d=0,f=0,p=e,v=null;t:for(;;){for(var x;p!==a||i!==0&&p.nodeType!==3||(c=o+i),p!==r||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)v=p,p=x;for(;;){if(p===e)break t;if(v===a&&++d===i&&(c=o),v===r&&++f===n&&(l=o),(x=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=x}a=c===-1||l===-1?null:{start:c,end:l}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ir={focusedElem:e,selectionRange:a},ei=!1,E=t;E!==null;)if(t=E,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,E=e;else for(;E!==null;){t=E;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,C=b.memoizedState,h=t.stateNode,u=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:He(t.type,w),C);h.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(y){J(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,E=e;break}E=t.return}return b=Zo,Zo=!1,b}function $a(e,t,a){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&Kr(t,a,r)}i=i.next}while(i!==n)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function Xr(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function ou(e){var t=e.alternate;t!==null&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xe],delete t[sn],delete t[Mr],delete t[xh],delete t[bh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lu(e){return e.tag===5||e.tag===3||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ni));else if(n!==4&&(e=e.child,e!==null))for(Zr(e,t,a),e=e.sibling;e!==null;)Zr(e,t,a),e=e.sibling}function Jr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jr(e,t,a),e=e.sibling;e!==null;)Jr(e,t,a),e=e.sibling}var ce=null,qe=!1;function yt(e,t,a){for(a=a.child;a!==null;)cu(e,t,a),a=a.sibling}function cu(e,t,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(bi,a)}catch{}switch(a.tag){case 5:fe||ua(a,t);case 6:var n=ce,i=qe;ce=null,yt(e,t,a),ce=n,qe=i,ce!==null&&(qe?(e=ce,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ce.removeChild(a.stateNode));break;case 18:ce!==null&&(qe?(e=ce,a=a.stateNode,e.nodeType===8?Zi(e.parentNode,a):e.nodeType===1&&Zi(e,a),en(e)):Zi(ce,a.stateNode));break;case 4:n=ce,i=qe,ce=a.stateNode.containerInfo,qe=!0,yt(e,t,a),ce=n,qe=i;break;case 0:case 11:case 14:case 15:if(!fe&&(n=a.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Kr(a,t,o),i=i.next}while(i!==n)}yt(e,t,a);break;case 1:if(!fe&&(ua(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(c){J(a,t,c)}yt(e,t,a);break;case 21:yt(e,t,a);break;case 22:a.mode&1?(fe=(n=fe)||a.memoizedState!==null,yt(e,t,a),fe=n):yt(e,t,a);break;default:yt(e,t,a)}}function el(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Fh),t.forEach(function(n){var i=$h.bind(null,e,n);a.has(n)||(a.add(n),n.then(i,i))})}}function We(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n];try{var r=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:ce=c.stateNode,qe=!1;break e;case 3:ce=c.stateNode.containerInfo,qe=!0;break e;case 4:ce=c.stateNode.containerInfo,qe=!0;break e}c=c.return}if(ce===null)throw Error(j(160));cu(r,o,i),ce=null,qe=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){J(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uu(t,e),t=t.sibling}function uu(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(We(t,e),Qe(e),n&4){try{$a(3,e,e.return),Ai(3,e)}catch(w){J(e,e.return,w)}try{$a(5,e,e.return)}catch(w){J(e,e.return,w)}}break;case 1:We(t,e),Qe(e),n&512&&a!==null&&ua(a,a.return);break;case 5:if(We(t,e),Qe(e),n&512&&a!==null&&ua(a,a.return),e.flags&32){var i=e.stateNode;try{Ka(i,"")}catch(w){J(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,o=a!==null?a.memoizedProps:r,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&r.type==="radio"&&r.name!=null&&Ll(i,r),Sr(c,o);var d=Sr(c,r);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?Ml(i,p):f==="dangerouslySetInnerHTML"?Dl(i,p):f==="children"?Ka(i,p):us(i,f,p,d)}switch(c){case"input":vr(i,r);break;case"textarea":Bl(i,r);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var x=r.value;x!=null?ha(i,!!r.multiple,x,!1):v!==!!r.multiple&&(r.defaultValue!=null?ha(i,!!r.multiple,r.defaultValue,!0):ha(i,!!r.multiple,r.multiple?[]:"",!1))}i[sn]=r}catch(w){J(e,e.return,w)}}break;case 6:if(We(t,e),Qe(e),n&4){if(e.stateNode===null)throw Error(j(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(w){J(e,e.return,w)}}break;case 3:if(We(t,e),Qe(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{en(t.containerInfo)}catch(w){J(e,e.return,w)}break;case 4:We(t,e),Qe(e);break;case 13:We(t,e),Qe(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Hs=te())),n&4&&el(e);break;case 22:if(f=a!==null&&a.memoizedState!==null,e.mode&1?(fe=(d=fe)||f,We(t,e),fe=d):We(t,e),Qe(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(E=e,f=e.child;f!==null;){for(p=E=f;E!==null;){switch(v=E,x=v.child,v.tag){case 0:case 11:case 14:case 15:$a(4,v,v.return);break;case 1:ua(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){n=v,a=v.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){J(n,a,w)}}break;case 5:ua(v,v.return);break;case 22:if(v.memoizedState!==null){al(p);continue}}x!==null?(x.return=v,E=x):al(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(c=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=Fl("display",o))}catch(w){J(e,e.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(w){J(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:We(t,e),Qe(e),n&4&&el(e);break;case 21:break;default:We(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(lu(a)){var n=a;break e}a=a.return}throw Error(j(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ka(i,""),n.flags&=-33);var r=Jo(e);Jr(e,r,i);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Jo(e);Zr(e,c,o);break;default:throw Error(j(161))}}catch(l){J(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zh(e,t,a){E=e,du(e)}function du(e,t,a){for(var n=(e.mode&1)!==0;E!==null;){var i=E,r=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Bn;if(!o){var c=i.alternate,l=c!==null&&c.memoizedState!==null||fe;c=Bn;var d=fe;if(Bn=o,(fe=l)&&!d)for(E=i;E!==null;)o=E,l=o.child,o.tag===22&&o.memoizedState!==null?nl(i):l!==null?(l.return=o,E=l):nl(i);for(;r!==null;)E=r,du(r),r=r.sibling;E=i,Bn=c,fe=d}tl(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,E=r):tl(e)}}function tl(e){for(;E!==null;){var t=E;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||Ai(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fe)if(a===null)n.componentDidMount();else{var i=t.elementType===t.type?a.memoizedProps:He(t.type,a.memoizedProps);n.componentDidUpdate(i,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Ro(t,r,n);break;case 3:var o=t.updateQueue;if(o!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Ro(t,o,a)}break;case 5:var c=t.stateNode;if(a===null&&t.flags&4){a=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break;case"img":l.src&&(a.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&en(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}fe||t.flags&512&&Xr(t)}catch(v){J(t,t.return,v)}}if(t===e){E=null;break}if(a=t.sibling,a!==null){a.return=t.return,E=a;break}E=t.return}}function al(e){for(;E!==null;){var t=E;if(t===e){E=null;break}var a=t.sibling;if(a!==null){a.return=t.return,E=a;break}E=t.return}}function nl(e){for(;E!==null;){var t=E;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Ai(4,t)}catch(l){J(t,a,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){J(t,i,l)}}var r=t.return;try{Xr(t)}catch(l){J(t,r,l)}break;case 5:var o=t.return;try{Xr(t)}catch(l){J(t,o,l)}}}catch(l){J(t,t.return,l)}if(t===e){E=null;break}var c=t.sibling;if(c!==null){c.return=t.return,E=c;break}E=t.return}}var Rh=Math.ceil,fi=pt.ReactCurrentDispatcher,_s=pt.ReactCurrentOwner,ze=pt.ReactCurrentBatchConfig,O=0,le=null,ae=null,ue=0,Ae=0,da=Dt(0),se=0,hn=null,Qt=0,Yi=0,Ws=0,Ua=null,Se=null,Hs=0,Ta=1/0,rt=null,pi=!1,es=null,Yt=null,In=!1,St=null,gi=0,Va=0,ts=null,Gn=-1,$n=0;function xe(){return O&6?te():Gn!==-1?Gn:Gn=te()}function Et(e){return e.mode&1?O&2&&ue!==0?ue&-ue:wh.transition!==null?($n===0&&($n=Ql()),$n):(e=W,e!==0||(e=window.event,e=e===void 0?16:ac(e.type)),e):1}function Ue(e,t,a,n){if(50<Va)throw Va=0,ts=null,Error(j(185));fn(e,a,n),(!(O&2)||e!==le)&&(e===le&&(!(O&2)&&(Yi|=a),se===4&&kt(e,ue)),Ne(e,n),a===1&&O===0&&!(t.mode&1)&&(Ta=te()+500,ji&&Ft()))}function Ne(e,t){var a=e.callbackNode;wd(e,t);var n=Jn(e,e===le?ue:0);if(n===0)a!==null&&ho(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(a!=null&&ho(a),t===1)e.tag===0?kh(il.bind(null,e)):kc(il.bind(null,e)),yh(function(){!(O&6)&&Ft()}),a=null;else{switch(Kl(n)){case 1:a=ps;break;case 4:a=Ul;break;case 16:a=Zn;break;case 536870912:a=Vl;break;default:a=Zn}a=xu(a,hu.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function hu(e,t){if(Gn=-1,$n=0,O&6)throw Error(j(327));var a=e.callbackNode;if(ya()&&e.callbackNode!==a)return null;var n=Jn(e,e===le?ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yi(e,n);else{t=n;var i=O;O|=2;var r=fu();(le!==e||ue!==t)&&(rt=null,Ta=te()+500,qt(e,t));do try{Wh();break}catch(c){mu(e,c)}while(!0);As(),fi.current=r,O=i,ae!==null?t=0:(le=null,ue=0,t=se)}if(t!==0){if(t===2&&(i=Ar(e),i!==0&&(n=i,t=as(e,i))),t===1)throw a=hn,qt(e,0),kt(e,n),Ne(e,te()),a;if(t===6)kt(e,n);else{if(i=e.current.alternate,!(n&30)&&!Oh(i)&&(t=yi(e,n),t===2&&(r=Ar(e),r!==0&&(n=r,t=as(e,r))),t===1))throw a=hn,qt(e,0),kt(e,n),Ne(e,te()),a;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(j(345));case 2:Rt(e,Se,rt);break;case 3:if(kt(e,n),(n&130023424)===n&&(t=Hs+500-te(),10<t)){if(Jn(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fr(Rt.bind(null,e,Se,rt),t);break}Rt(e,Se,rt);break;case 4:if(kt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-$e(n);r=1<<o,o=t[o],o>i&&(i=o),n&=~r}if(n=i,n=te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rh(n/1960))-n,10<n){e.timeoutHandle=Fr(Rt.bind(null,e,Se,rt),n);break}Rt(e,Se,rt);break;case 5:Rt(e,Se,rt);break;default:throw Error(j(329))}}}return Ne(e,te()),e.callbackNode===a?hu.bind(null,e):null}function as(e,t){var a=Ua;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=yi(e,t),e!==2&&(t=Se,Se=a,t!==null&&ns(t)),e}function ns(e){Se===null?Se=e:Se.push.apply(Se,e)}function Oh(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var n=0;n<a.length;n++){var i=a[n],r=i.getSnapshot;i=i.value;try{if(!Ve(r(),i))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kt(e,t){for(t&=~Ws,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-$e(t),n=1<<a;e[a]=-1,t&=~n}}function il(e){if(O&6)throw Error(j(327));ya();var t=Jn(e,0);if(!(t&1))return Ne(e,te()),null;var a=yi(e,t);if(e.tag!==0&&a===2){var n=Ar(e);n!==0&&(t=n,a=as(e,n))}if(a===1)throw a=hn,qt(e,0),kt(e,t),Ne(e,te()),a;if(a===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rt(e,Se,rt),Ne(e,te()),null}function qs(e,t){var a=O;O|=1;try{return e(t)}finally{O=a,O===0&&(Ta=te()+500,ji&&Ft())}}function Kt(e){St!==null&&St.tag===0&&!(O&6)&&ya();var t=O;O|=1;var a=ze.transition,n=W;try{if(ze.transition=null,W=1,e)return e()}finally{W=n,ze.transition=a,O=t,!(O&6)&&Ft()}}function Gs(){Ae=da.current,$(da)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,gh(a)),ae!==null)for(a=ae.return;a!==null;){var n=a;switch(js(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ii();break;case 3:wa(),$(je),$(ge),Is();break;case 5:Bs(n);break;case 4:wa();break;case 13:$(Q);break;case 19:$(Q);break;case 10:Ys(n.type._context);break;case 22:case 23:Gs()}a=a.return}if(le=e,ae=e=Pt(e.current,null),ue=Ae=t,se=0,hn=null,Ws=Yi=Qt=0,Se=Ua=null,Wt!==null){for(t=0;t<Wt.length;t++)if(a=Wt[t],n=a.interleaved,n!==null){a.interleaved=null;var i=n.next,r=a.pending;if(r!==null){var o=r.next;r.next=i,n.next=o}a.pending=n}Wt=null}return e}function mu(e,t){do{var a=ae;try{if(As(),Wn.current=mi,hi){for(var n=K.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hi=!1}if(Vt=0,oe=re=K=null,Ga=!1,cn=0,_s.current=null,a===null||a.return===null){se=1,hn=t,ae=null;break}e:{var r=e,o=a.return,c=a,l=t;if(t=ue,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Go(o);if(x!==null){x.flags&=-257,$o(x,o,c,r,t),x.mode&1&&qo(r,d,t),t=x,l=d;var b=t.updateQueue;if(b===null){var w=new Set;w.add(l),t.updateQueue=w}else b.add(l);break e}else{if(!(t&1)){qo(r,d,t),$s();break e}l=Error(j(426))}}else if(U&&c.mode&1){var C=Go(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$o(C,o,c,r,t),Cs(Sa(l,c));break e}}r=l=Sa(l,c),se!==4&&(se=2),Ua===null?Ua=[r]:Ua.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var h=Kc(r,l,t);zo(r,h);break e;case 1:c=l;var u=r.type,m=r.stateNode;if(!(r.flags&128)&&(typeof u.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yt===null||!Yt.has(m)))){r.flags|=65536,t&=-t,r.lanes|=t;var y=Xc(r,c,t);zo(r,y);break e}}r=r.return}while(r!==null)}gu(a)}catch(k){t=k,ae===a&&a!==null&&(ae=a=a.return);continue}break}while(!0)}function fu(){var e=fi.current;return fi.current=mi,e===null?mi:e}function $s(){(se===0||se===3||se===2)&&(se=4),le===null||!(Qt&268435455)&&!(Yi&268435455)||kt(le,ue)}function yi(e,t){var a=O;O|=2;var n=fu();(le!==e||ue!==t)&&(rt=null,qt(e,t));do try{_h();break}catch(i){mu(e,i)}while(!0);if(As(),O=a,fi.current=n,ae!==null)throw Error(j(261));return le=null,ue=0,se}function _h(){for(;ae!==null;)pu(ae)}function Wh(){for(;ae!==null&&!md();)pu(ae)}function pu(e){var t=vu(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?gu(e):ae=t,_s.current=null}function gu(e){var t=e;do{var a=t.alternate;if(e=t.return,t.flags&32768){if(a=Dh(a,t),a!==null){a.flags&=32767,ae=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{se=6,ae=null;return}}else if(a=Ih(a,t,Ae),a!==null){ae=a;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);se===0&&(se=5)}function Rt(e,t,a){var n=W,i=ze.transition;try{ze.transition=null,W=1,Hh(e,t,a,n)}finally{ze.transition=i,W=n}return null}function Hh(e,t,a,n){do ya();while(St!==null);if(O&6)throw Error(j(327));a=e.finishedWork;var i=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var r=a.lanes|a.childLanes;if(Sd(e,r),e===le&&(ae=le=null,ue=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||In||(In=!0,xu(Zn,function(){return ya(),null})),r=(a.flags&15990)!==0,a.subtreeFlags&15990||r){r=ze.transition,ze.transition=null;var o=W;W=1;var c=O;O|=4,_s.current=null,Mh(e,a),uu(a,e),ch(Ir),ei=!!Br,Ir=Br=null,e.current=a,zh(a),fd(),O=c,W=o,ze.transition=r}else e.current=a;if(In&&(In=!1,St=e,gi=i),r=e.pendingLanes,r===0&&(Yt=null),yd(a.stateNode),Ne(e,te()),t!==null)for(n=e.onRecoverableError,a=0;a<t.length;a++)i=t[a],n(i.value,{componentStack:i.stack,digest:i.digest});if(pi)throw pi=!1,e=es,es=null,e;return gi&1&&e.tag!==0&&ya(),r=e.pendingLanes,r&1?e===ts?Va++:(Va=0,ts=e):Va=0,Ft(),null}function ya(){if(St!==null){var e=Kl(gi),t=ze.transition,a=W;try{if(ze.transition=null,W=16>e?16:e,St===null)var n=!1;else{if(e=St,St=null,gi=0,O&6)throw Error(j(331));var i=O;for(O|=4,E=e.current;E!==null;){var r=E,o=r.child;if(E.flags&16){var c=r.deletions;if(c!==null){for(var l=0;l<c.length;l++){var d=c[l];for(E=d;E!==null;){var f=E;switch(f.tag){case 0:case 11:case 15:$a(8,f,r)}var p=f.child;if(p!==null)p.return=f,E=p;else for(;E!==null;){f=E;var v=f.sibling,x=f.return;if(ou(f),f===d){E=null;break}if(v!==null){v.return=x,E=v;break}E=x}}}var b=r.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}E=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,E=o;else e:for(;E!==null;){if(r=E,r.flags&2048)switch(r.tag){case 0:case 11:case 15:$a(9,r,r.return)}var h=r.sibling;if(h!==null){h.return=r.return,E=h;break e}E=r.return}}var u=e.current;for(E=u;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=u;E!==null;){if(c=E,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ai(9,c)}}catch(k){J(c,c.return,k)}if(c===o){E=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,E=y;break e}E=c.return}}if(O=i,Ft(),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(bi,e)}catch{}n=!0}return n}finally{W=a,ze.transition=t}}return!1}function rl(e,t,a){t=Sa(a,t),t=Kc(e,t,1),e=At(e,t,1),t=xe(),e!==null&&(fn(e,1,t),Ne(e,t))}function J(e,t,a){if(e.tag===3)rl(e,e,a);else for(;t!==null;){if(t.tag===3){rl(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yt===null||!Yt.has(n))){e=Sa(a,e),e=Xc(t,e,1),t=At(t,e,1),e=xe(),t!==null&&(fn(t,1,e),Ne(t,e));break}}t=t.return}}function qh(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&a,le===e&&(ue&a)===a&&(se===4||se===3&&(ue&130023424)===ue&&500>te()-Hs?qt(e,0):Ws|=a),Ne(e,t)}function yu(e,t){t===0&&(e.mode&1?(t=Tn,Tn<<=1,!(Tn&130023424)&&(Tn=4194304)):t=1);var a=xe();e=mt(e,t),e!==null&&(fn(e,t,a),Ne(e,a))}function Gh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),yu(e,a)}function $h(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(t),yu(e,a)}var vu;vu=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Te=!0;else{if(!(e.lanes&a)&&!(t.flags&128))return Te=!1,Bh(e,t,a);Te=!!(e.flags&131072)}else Te=!1,U&&t.flags&1048576&&wc(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qn(e,t),e=t.pendingProps;var i=xa(t,ge.current);ga(t,a),i=Fs(null,t,n,e,i,a);var r=Ms();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(n)?(r=!0,ri(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ps(t),i.updater=Ni,t.stateNode=i,i._reactInternals=t,Hr(t,n,e,a),t=$r(null,t,n,!0,r,a)):(t.tag=0,U&&r&&Ts(t),ye(null,t,i,a),t=t.child),t;case 16:n=t.elementType;e:{switch(qn(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Vh(n),e=He(n,e),i){case 0:t=Gr(null,t,n,e,a);break e;case 1:t=Qo(null,t,n,e,a);break e;case 11:t=Uo(null,t,n,e,a);break e;case 14:t=Vo(null,t,n,He(n.type,e),a);break e}throw Error(j(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),Gr(e,t,n,i,a);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),Qo(e,t,n,i,a);case 3:e:{if(tu(t),e===null)throw Error(j(387));n=t.pendingProps,r=t.memoizedState,i=r.element,Ac(e,t),ui(t,n,null,a);var o=t.memoizedState;if(n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=Sa(Error(j(423)),t),t=Ko(e,t,n,a,i);break e}else if(n!==i){i=Sa(Error(j(424)),t),t=Ko(e,t,n,a,i);break e}else for(Ye=Nt(t.stateNode.containerInfo.firstChild),Ee=t,U=!0,Ge=null,a=Cc(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ba(),n===i){t=ft(e,t,a);break e}ye(e,t,n,a)}t=t.child}return t;case 5:return Yc(t),e===null&&Or(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,o=i.children,Dr(n,i)?o=null:r!==null&&Dr(n,r)&&(t.flags|=32),eu(e,t),ye(e,t,o,a),t.child;case 6:return e===null&&Or(t),null;case 13:return au(e,t,a);case 4:return Ls(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ka(t,null,n,a):ye(e,t,n,a),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),Uo(e,t,n,i,a);case 7:return ye(e,t,t.pendingProps,a),t.child;case 8:return ye(e,t,t.pendingProps.children,a),t.child;case 12:return ye(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,q(li,n._currentValue),n._currentValue=o,r!==null)if(Ve(r.value,o)){if(r.children===i.children&&!je.current){t=ft(e,t,a);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){o=r.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(r.tag===1){l=ct(-1,a&-a),l.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}r.lanes|=a,l=r.alternate,l!==null&&(l.lanes|=a),_r(r.return,a,t),c.lanes|=a;break}l=l.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(j(341));o.lanes|=a,c=o.alternate,c!==null&&(c.lanes|=a),_r(o,a,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}ye(e,t,i.children,a),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ga(t,a),i=Re(i),n=n(i),t.flags|=1,ye(e,t,n,a),t.child;case 14:return n=t.type,i=He(n,t.pendingProps),i=He(n.type,i),Vo(e,t,n,i,a);case 15:return Zc(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),qn(e,t),t.tag=1,Ce(n)?(e=!0,ri(t)):e=!1,ga(t,a),Qc(t,n,i),Hr(t,n,i,a),$r(null,t,n,!0,e,a);case 19:return nu(e,t,a);case 22:return Jc(e,t,a)}throw Error(j(156,t.tag))};function xu(e,t){return $l(e,t)}function Uh(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(e,t,a,n){return new Uh(e,t,a,n)}function Us(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vh(e){if(typeof e=="function")return Us(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hs)return 11;if(e===ms)return 14}return 2}function Pt(e,t){var a=e.alternate;return a===null?(a=Me(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Un(e,t,a,n,i,r){var o=2;if(n=e,typeof e=="function")Us(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ta:return Gt(a.children,i,r,t);case ds:o=8,i|=8;break;case mr:return e=Me(12,a,t,i|2),e.elementType=mr,e.lanes=r,e;case fr:return e=Me(13,a,t,i),e.elementType=fr,e.lanes=r,e;case pr:return e=Me(19,a,t,i),e.elementType=pr,e.lanes=r,e;case Yl:return Ei(a,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nl:o=10;break e;case Al:o=9;break e;case hs:o=11;break e;case ms:o=14;break e;case vt:o=16,n=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Me(o,a,t,i),t.elementType=e,t.type=n,t.lanes=r,t}function Gt(e,t,a,n){return e=Me(7,e,n,t),e.lanes=a,e}function Ei(e,t,a,n){return e=Me(22,e,n,t),e.elementType=Yl,e.lanes=a,e.stateNode={isHidden:!1},e}function sr(e,t,a){return e=Me(6,e,null,t),e.lanes=a,e}function or(e,t,a){return t=Me(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qh(e,t,a,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vs(e,t,a,n,i,r,o,c,l){return e=new Qh(e,t,a,c,l),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Me(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(r),e}function Kh(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}function bu(e){if(!e)return Bt;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var a=e.type;if(Ce(a))return bc(e,a,t)}return t}function ku(e,t,a,n,i,r,o,c,l){return e=Vs(a,n,!0,e,i,r,o,c,l),e.context=bu(null),a=e.current,n=xe(),i=Et(a),r=ct(n,i),r.callback=t??null,At(a,r,i),e.current.lanes=i,fn(e,i,n),Ne(e,n),e}function Pi(e,t,a,n){var i=t.current,r=xe(),o=Et(i);return a=bu(a),t.context===null?t.context=a:t.pendingContext=a,t=ct(r,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=At(i,t,o),e!==null&&(Ue(e,i,o,r),_n(e,i,o)),o}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sl(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Qs(e,t){sl(e,t),(e=e.alternate)&&sl(e,t)}function Xh(){return null}var wu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ks(e){this._internalRoot=e}Li.prototype.render=Ks.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Pi(e,t,null,null)};Li.prototype.unmount=Ks.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kt(function(){Pi(null,e,null,null)}),t[ht]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jl();e={blockedOn:null,target:e,priority:t};for(var a=0;a<bt.length&&t!==0&&t<bt[a].priority;a++);bt.splice(a,0,e),a===0&&tc(e)}};function Xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ol(){}function Zh(e,t,a,n,i){if(i){if(typeof n=="function"){var r=n;n=function(){var d=vi(o);r.call(d)}}var o=ku(t,n,e,0,null,!1,!1,"",ol);return e._reactRootContainer=o,e[ht]=o.current,nn(e.nodeType===8?e.parentNode:e),Kt(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var d=vi(l);c.call(d)}}var l=Vs(e,0,!1,null,null,!1,!1,"",ol);return e._reactRootContainer=l,e[ht]=l.current,nn(e.nodeType===8?e.parentNode:e),Kt(function(){Pi(t,l,a,n)}),l}function Ii(e,t,a,n,i){var r=a._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var c=i;i=function(){var l=vi(o);c.call(l)}}Pi(t,o,e,i)}else o=Zh(a,t,e,i,n);return vi(o)}Xl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=za(t.pendingLanes);a!==0&&(gs(t,a|1),Ne(t,te()),!(O&6)&&(Ta=te()+500,Ft()))}break;case 13:Kt(function(){var n=mt(e,1);if(n!==null){var i=xe();Ue(n,e,1,i)}}),Qs(e,1)}};ys=function(e){if(e.tag===13){var t=mt(e,134217728);if(t!==null){var a=xe();Ue(t,e,134217728,a)}Qs(e,134217728)}};Zl=function(e){if(e.tag===13){var t=Et(e),a=mt(e,t);if(a!==null){var n=xe();Ue(a,e,t,n)}Qs(e,t)}};Jl=function(){return W};ec=function(e,t){var a=W;try{return W=e,t()}finally{W=a}};jr=function(e,t,a){switch(t){case"input":if(vr(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=Ti(n);if(!i)throw Error(j(90));Pl(n),vr(n,i)}}}break;case"textarea":Bl(e,a);break;case"select":t=a.value,t!=null&&ha(e,!!a.multiple,t,!1)}};Ol=qs;_l=Kt;var Jh={usingClientEntryPoint:!1,Events:[gn,ra,Ti,zl,Rl,qs]},Da={findFiberByHostInstance:_t,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},em={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ql(e),e===null?null:e.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dn.isDisabled&&Dn.supportsFiber)try{bi=Dn.inject(em),Je=Dn}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;Le.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xs(t))throw Error(j(200));return Kh(e,t,null,a)};Le.createRoot=function(e,t){if(!Xs(e))throw Error(j(299));var a=!1,n="",i=wu;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vs(e,1,!1,null,null,a,!1,n,i),e[ht]=t.current,nn(e.nodeType===8?e.parentNode:e),new Ks(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=ql(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return Kt(e)};Le.hydrate=function(e,t,a){if(!Bi(t))throw Error(j(200));return Ii(null,e,t,!0,a)};Le.hydrateRoot=function(e,t,a){if(!Xs(e))throw Error(j(405));var n=a!=null&&a.hydratedSources||null,i=!1,r="",o=wu;if(a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onRecoverableError!==void 0&&(o=a.onRecoverableError)),t=ku(t,null,e,1,a??null,i,!1,r,o),e[ht]=t.current,nn(e),n)for(e=0;e<n.length;e++)a=n[e],i=a._getVersion,i=i(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,i]:t.mutableSourceEagerHydrationData.push(a,i);return new Li(t)};Le.render=function(e,t,a){if(!Bi(t))throw Error(j(200));return Ii(null,e,t,!1,a)};Le.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(j(40));return e._reactRootContainer?(Kt(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[ht]=null})}),!0):!1};Le.unstable_batchedUpdates=qs;Le.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!Bi(a))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Ii(e,t,a,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Su(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Su)}catch(e){console.error(e)}}Su(),Sl.exports=Le;var tm=Sl.exports,ll=tm;dr.createRoot=ll.createRoot,dr.hydrateRoot=ll.hydrateRoot;var _=(e=>(e[e.Untrained=0]="Untrained",e[e.Trained=2]="Trained",e[e.Expert=4]="Expert",e[e.Master=6]="Master",e[e.Legendary=8]="Legendary",e))(_||{}),Tu=(e=>(e.Arcane="arcane",e.Divine="divine",e.Occult="occult",e.Primal="primal",e))(Tu||{});function cl(){return{id:crypto.randomUUID(),basics:{name:"",playerName:"",level:1,experience:0},ancestry:null,background:null,class:null,abilityScores:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10,boosts:[]},skills:{},feats:{ancestry:[],class:[],skill:[],general:[]},spells:null,equipment:{weapons:[],armor:null,items:[],gold:0},derivedStats:{hp:0,maxHp:0,ac:10,perception:0,classDC:10,saves:{fortitude:0,reflex:0,will:0},speed:25}}}function ee(e){return Math.floor((e-10)/2)}function ve(e){return e>=0?`+${e}`:`${e}`}function ut(e,t){return t===_.Untrained?0:e+t}function Ie(e){switch(e){case _.Untrained:return"Untrained";case _.Trained:return"Trained";case _.Expert:return"Expert";case _.Master:return"Master";case _.Legendary:return"Legendary";default:return"Untrained"}}const am=[{id:"human",name:"Human",description:"Adaptable and ambitious, humans have spread across the world. Known for their versatility and determination.",hitPoints:8,size:"Medium",speed:25,abilityBoosts:[{type:"free",count:2}],abilityFlaws:[],languages:["Common"],additionalLanguages:1,traits:["Human","Humanoid"],specialAbilities:["Bonus General Feat at 1st level"],heritages:["versatile-human","skilled-human"]},{id:"elf",name:"Elf",description:"Long-lived and magical, elves are graceful beings attuned to nature and magic. They possess keen senses and a deep connection to beauty.",hitPoints:6,size:"Medium",speed:30,abilityBoosts:[{type:"specific",abilities:["dexterity","intelligence"]},{type:"free",count:1}],abilityFlaws:[{ability:"constitution"}],languages:["Common","Elven"],additionalLanguages:1,traits:["Elf","Humanoid"],specialAbilities:["Low-Light Vision"],heritages:["woodland-elf","ancient-elf"]},{id:"dwarf",name:"Dwarf",description:"Hardy and stalwart, dwarves are master craftspeople who live in mountains and underground. They value tradition, honor, and hard work.",hitPoints:10,size:"Medium",speed:20,abilityBoosts:[{type:"specific",abilities:["constitution","wisdom"]},{type:"free",count:1}],abilityFlaws:[{ability:"charisma"}],languages:["Common","Dwarven"],additionalLanguages:1,traits:["Dwarf","Humanoid"],specialAbilities:["Darkvision"],heritages:["mountain-dwarf","forge-dwarf"]},{id:"gnome",name:"Gnome",description:"Small and curious, gnomes are inventive tinkerers with a love for magic and exploration. They resist magic naturally and embrace wonder.",hitPoints:8,size:"Small",speed:25,abilityBoosts:[{type:"specific",abilities:["constitution","charisma"]},{type:"free",count:1}],abilityFlaws:[{ability:"strength"}],languages:["Common","Gnomish"],additionalLanguages:1,traits:["Gnome","Humanoid"],specialAbilities:["Low-Light Vision"],heritages:["sensate-gnome","umbral-gnome"]},{id:"halfling",name:"Halfling",description:"Cheerful and lucky, halflings are small folk known for their bravery despite their size. They value home, community, and good food.",hitPoints:6,size:"Small",speed:25,abilityBoosts:[{type:"specific",abilities:["dexterity","wisdom"]},{type:"free",count:1}],abilityFlaws:[{ability:"strength"}],languages:["Common","Halfling"],additionalLanguages:1,traits:["Halfling","Humanoid"],specialAbilities:["Keen Eyes"],heritages:["gutsy-halfling","twilight-halfling"]},{id:"goblin",name:"Goblin",description:"Scrappy and energetic, goblins are small but fierce. They love fire, songs, and causing chaos, but make loyal and brave companions.",hitPoints:6,size:"Small",speed:25,abilityBoosts:[{type:"specific",abilities:["dexterity","charisma"]},{type:"free",count:1}],abilityFlaws:[{ability:"wisdom"}],languages:["Common","Goblin"],additionalLanguages:1,traits:["Goblin","Humanoid"],specialAbilities:["Darkvision"],heritages:["charhide-goblin","unbreakable-goblin"]}],nm=[{id:"versatile-human",ancestryId:"human",name:"Versatile Heritage",description:"You gain adaptability through varied experiences.",benefits:["Gain a 1st-level general feat"]},{id:"skilled-human",ancestryId:"human",name:"Skilled Heritage",description:"Your training has made you exceptionally capable.",benefits:["Trained in one skill of your choice"]},{id:"woodland-elf",ancestryId:"elf",name:"Woodland Elf",description:"You're adapted to life in the forest.",benefits:["Ignore difficult terrain from trees and undergrowth"]},{id:"ancient-elf",ancestryId:"elf",name:"Ancient Elf",description:"Your long life has given you experience in many fields.",benefits:["Gain a 1st-level multiclass dedication feat"]},{id:"mountain-dwarf",ancestryId:"dwarf",name:"Mountain Dwarf",description:"You're well suited to climbing and high altitudes.",benefits:["Trained in Athletics","Ignore altitude penalties"]},{id:"forge-dwarf",ancestryId:"dwarf",name:"Forge Dwarf",description:"You have a deep connection to fire and metalwork.",benefits:["Resistance 1 to fire damage"]},{id:"sensate-gnome",ancestryId:"gnome",name:"Sensate Gnome",description:"Your senses are highly acute.",benefits:["Gain a +2 bonus to Perception for initiative"]},{id:"umbral-gnome",ancestryId:"gnome",name:"Umbral Gnome",description:"You have darkvision from dwelling in darkness.",benefits:["Gain Darkvision"]},{id:"gutsy-halfling",ancestryId:"halfling",name:"Gutsy Halfling",description:"Your courage is unshakeable.",benefits:["+2 circumstance bonus to saves against emotion effects"]},{id:"twilight-halfling",ancestryId:"halfling",name:"Twilight Halfling",description:"Your eyes are adapted to low light.",benefits:["Gain Low-Light Vision"]},{id:"charhide-goblin",ancestryId:"goblin",name:"Charhide Goblin",description:"Your skin has been hardened by fire.",benefits:["Resistance 1 to fire damage"]},{id:"unbreakable-goblin",ancestryId:"goblin",name:"Unbreakable Goblin",description:"You bounce back from injuries quickly.",benefits:["Reduce dying value from falls by 1"]},{id:"half-elf-heritage",ancestryId:"human",name:"Half-Elf Heritage",description:"One of your parents was an elf, or one or both were half-elves. You have pointed ears and other telltale signs of elf heritage.",benefits:["Gain Low-Light Vision","Can select elf ancestry feats in addition to human ancestry feats"]},{id:"half-orc-heritage",ancestryId:"human",name:"Half-Orc Heritage",description:"One of your parents was an orc, or one or both were half-orcs. You have a green tinge to your skin and other indicators of orc heritage.",benefits:["Gain Low-Light Vision","Can select orc ancestry feats in addition to human ancestry feats"]},{id:"arctic-elf",ancestryId:"elf",name:"Arctic Elf",description:"You dwell in the frozen reaches of the world, where ice and snow are constant companions. Your body has adapted to the harsh cold.",benefits:["Resistance 1 to cold damage","Trained in Survival"]},{id:"cavern-elf",ancestryId:"elf",name:"Cavern Elf",description:"You were born or spent many years in underground tunnels and caverns where light is scarce. You've adapted to life in darkness.",benefits:["Gain Darkvision","Trained in Athletics or Stealth"]},{id:"seer-elf",ancestryId:"elf",name:"Seer Elf",description:"You have an inborn ability to detect the presence of magic. Your bloodline carries an innate connection to the arcane.",benefits:["Gain the detect magic cantrip as an arcane innate spell"]},{id:"whisper-elf",ancestryId:"elf",name:"Whisper Elf",description:"Your ears are finely tuned, and you move with an unnatural grace. You excel at moving silently and reacting quickly to danger.",benefits:["Trained in Stealth","+1 circumstance bonus to initiative rolls"]},{id:"ancient-blooded-dwarf",ancestryId:"dwarf",name:"Ancient-Blooded Dwarf",description:"Dwarven heroes of old passed down their power through bloodlines, and you carry that ancient legacy. You can rally allies with a call to arms.",benefits:["Gain a +1 circumstance bonus to saving throws against magic","Gain the Call to Arms reaction"]},{id:"death-warden-dwarf",ancestryId:"dwarf",name:"Death Warden Dwarf",description:"Your ancestors have been tomb guardians for generations, and it shows in your blood. You are resistant to the powers of death and undeath.",benefits:["Resistance 1 to negative damage","+1 circumstance bonus to saves against negative effects and death effects"]},{id:"oathkeeper-dwarf",ancestryId:"dwarf",name:"Oathkeeper Dwarf",description:"Growing up, you were exposed to dwarven traditions of promises and oaths. Your mental fortitude is legendary among your people.",benefits:["Gain expert proficiency in Will saves instead of trained"]},{id:"strong-blooded-dwarf",ancestryId:"dwarf",name:"Strong-Blooded Dwarf",description:"Your blood runs strong and hearty, allowing you to shake off toxins that would fell others. You are hardy and resistant to poison and disease.",benefits:["Resistance 1 to poison damage","+1 circumstance bonus to saves against diseases"]},{id:"chameleon-gnome",ancestryId:"gnome",name:"Chameleon Gnome",description:"The color of your hair and skin can shift based on your mood or environment. You can use this ability to blend in or deceive others.",benefits:["Can change the color of your hair and skin as a free action","+1 circumstance bonus to Deception checks"]},{id:"fey-touched-gnome",ancestryId:"gnome",name:"Fey-Touched Gnome",description:"Your connection to the First World and the fey realm is stronger than most gnomes. The blood of the fey runs powerfully through your veins.",benefits:["Gain faerie fire as a 2nd-level primal innate spell once per day"]},{id:"wellspring-gnome",ancestryId:"gnome",name:"Wellspring Gnome",description:"You have an innate connection to the vital energies of life. This power allows you to stabilize the dying and mend wounds.",benefits:["Gain the stabilize cantrip as a primal innate spell","+1 circumstance bonus to Medicine checks"]},{id:"hillock-halfling",ancestryId:"halfling",name:"Hillock Halfling",description:"You are accustomed to living in the settlements of larger folk, often in cities or towns. Your hardy nature helps you thrive in urban environments.",benefits:["Gain a boost to Constitution","Trained in Society"]},{id:"nomadic-halfling",ancestryId:"halfling",name:"Nomadic Halfling",description:"You have spent your life traveling from place to place, never settling down for long. You know how to survive in the wilderness.",benefits:["Gain the Assurance skill feat with Survival","Trained in Survival"]},{id:"wildwood-halfling",ancestryId:"halfling",name:"Wildwood Halfling",description:"You hail from deep in the forest and have learned to navigate the trees with ease. Climbing is as natural to you as walking.",benefits:["Gain a climb Speed of 10 feet","Trained in Nature"]},{id:"irongut-goblin",ancestryId:"goblin",name:"Irongut Goblin",description:"You can subsist on food that would sicken or kill other creatures. Your stomach is capable of digesting practically anything.",benefits:["Can safely eat and drink spoiled food and beverages without becoming sickened"]},{id:"razortooth-goblin",ancestryId:"goblin",name:"Razortooth Goblin",description:"Your family's teeth are formidable weapons. Your mouth contains rows of razor-sharp teeth that you can use in combat.",benefits:["Gain a jaws unarmed attack that deals 1d6 piercing damage"]},{id:"snow-goblin",ancestryId:"goblin",name:"Snow Goblin",description:"You come from frozen lands where snow and ice are constant. Your body has adapted to thrive in frigid environments.",benefits:["Resistance 1 to cold damage","Trained in Survival"]},{id:"treedweller-goblin",ancestryId:"goblin",name:"Treedweller Goblin",description:"You live in the treetops, swinging through the canopy with ease. Your climbing abilities are unmatched among your kin.",benefits:["Gain a climb Speed of 10 feet","Trained in Nature"]}],im=[{id:"acolyte",name:"Acolyte",description:"You spent your early days in service to a temple, learning religious texts and helping with sacred rituals.",abilityBoosts:[{type:"choice",abilities:["intelligence","wisdom"]},{type:"free",count:1}],skillTraining:"Religion",featGranted:"Student of the Canon",traits:[]},{id:"criminal",name:"Criminal",description:"You've made your way in the world through theft, smuggling, or other illicit activities.",abilityBoosts:[{type:"choice",abilities:["dexterity","intelligence"]},{type:"free",count:1}],skillTraining:"Stealth",featGranted:"Experienced Smuggler",traits:[]},{id:"merchant",name:"Merchant",description:"You've spent your life buying and selling goods, learning the art of the deal.",abilityBoosts:[{type:"choice",abilities:["intelligence","charisma"]},{type:"free",count:1}],skillTraining:"Diplomacy",featGranted:"Bargain Hunter",traits:[]},{id:"guard",name:"Guard",description:"You served as a city watch member or similar protector, keeping the peace and fighting crime.",abilityBoosts:[{type:"choice",abilities:["strength","charisma"]},{type:"free",count:1}],skillTraining:"Intimidation",featGranted:"Quick Coercion",traits:[]},{id:"noble",name:"Noble",description:"You were born into privilege and trained in courtly graces and political maneuvering.",abilityBoosts:[{type:"choice",abilities:["intelligence","charisma"]},{type:"free",count:1}],skillTraining:"Society",featGranted:"Courtly Graces",traits:[]},{id:"scholar",name:"Scholar",description:"You devoted yourself to learning, studying ancient texts and expanding your knowledge.",abilityBoosts:[{type:"choice",abilities:["intelligence","wisdom"]},{type:"free",count:1}],skillTraining:"Arcana",featGranted:"Assurance (Arcana)",traits:[]},{id:"warrior",name:"Warrior",description:"You grew up fighting, whether as a soldier, gladiator, or simply someone who survived through combat.",abilityBoosts:[{type:"choice",abilities:["strength","constitution"]},{type:"free",count:1}],skillTraining:"Intimidation",featGranted:"Intimidating Glare",traits:[]},{id:"herbalist",name:"Herbalist",description:"You know the healing properties of plants and create remedies from natural ingredients.",abilityBoosts:[{type:"choice",abilities:["constitution","wisdom"]},{type:"free",count:1}],skillTraining:"Nature",featGranted:"Natural Medicine",traits:[]},{id:"entertainer",name:"Entertainer",description:"You've lived your life performing for crowds, whether as a musician, actor, or acrobat.",abilityBoosts:[{type:"choice",abilities:["dexterity","charisma"]},{type:"free",count:1}],skillTraining:"Performance",featGranted:"Fascinating Performance",traits:[]},{id:"artisan",name:"Artisan",description:"You're a skilled craftsperson, trained in creating quality goods with your hands.",abilityBoosts:[{type:"choice",abilities:["strength","intelligence"]},{type:"free",count:1}],skillTraining:"Crafting",featGranted:"Specialty Crafting",traits:[]},{id:"farmhand",name:"Farmhand",description:"You grew up working the land, developing strength and resilience through hard agricultural labor.",abilityBoosts:[{type:"choice",abilities:["constitution","wisdom"]},{type:"free",count:1}],skillTraining:"Athletics",featGranted:"Assurance (Athletics)",traits:[]},{id:"scout",name:"Scout",description:"You explored the wilderness, learning to track, survive, and navigate dangerous terrain.",abilityBoosts:[{type:"choice",abilities:["dexterity","wisdom"]},{type:"free",count:1}],skillTraining:"Survival",featGranted:"Forager",traits:[]},{id:"acrobat",name:"Acrobat",description:"You've trained your body to perform incredible feats of balance and agility, whether in a circus, as a street performer, or through rigorous athletic training.",abilityBoosts:[{type:"choice",abilities:["dexterity","strength"]},{type:"free",count:1}],skillTraining:"Acrobatics",featGranted:"Steady Balance",traits:[]},{id:"animal-whisperer",name:"Animal Whisperer",description:"You have an innate connection with animals, understanding their behavior and communicating with them in ways others find mysterious.",abilityBoosts:[{type:"choice",abilities:["wisdom","charisma"]},{type:"free",count:1}],skillTraining:"Nature",featGranted:"Train Animal",traits:[]},{id:"artist",name:"Artist",description:"You express yourself through visual arts, creating beautiful works that inspire and move those who view them.",abilityBoosts:[{type:"choice",abilities:["dexterity","charisma"]},{type:"free",count:1}],skillTraining:"Crafting",featGranted:"Specialty Crafting (Art)",traits:[]},{id:"barkeep",name:"Barkeep",description:"You've spent years serving drinks and listening to patrons, learning the art of conversation and the secrets people share over ale.",abilityBoosts:[{type:"choice",abilities:["constitution","charisma"]},{type:"free",count:1}],skillTraining:"Diplomacy",featGranted:"Hobnobber",traits:[]},{id:"barrister",name:"Barrister",description:"You're trained in the law and skilled at arguing cases, using your knowledge and charisma to sway opinions and defend clients.",abilityBoosts:[{type:"choice",abilities:["intelligence","charisma"]},{type:"free",count:1}],skillTraining:"Diplomacy",featGranted:"Group Impression",traits:[]},{id:"bounty-hunter",name:"Bounty Hunter",description:"You track down fugitives and criminals for profit, honing your skills in pursuit and survival.",abilityBoosts:[{type:"choice",abilities:["strength","wisdom"]},{type:"free",count:1}],skillTraining:"Survival",featGranted:"Experienced Tracker",traits:[]},{id:"charlatan",name:"Charlatan",description:"You've made your way through life using deception and charm, convincing others to believe your elaborate fabrications.",abilityBoosts:[{type:"choice",abilities:["intelligence","charisma"]},{type:"free",count:1}],skillTraining:"Deception",featGranted:"Charming Liar",traits:[]},{id:"detective",name:"Detective",description:"You solve mysteries and investigate crimes, using keen observation and logical deduction to uncover the truth.",abilityBoosts:[{type:"choice",abilities:["intelligence","wisdom"]},{type:"free",count:1}],skillTraining:"Society",featGranted:"Streetwise",traits:[]},{id:"emissary",name:"Emissary",description:"You served as a diplomatic representative, traveling to foreign lands and negotiating on behalf of your people or organization.",abilityBoosts:[{type:"choice",abilities:["intelligence","charisma"]},{type:"free",count:1}],skillTraining:"Society",featGranted:"Multilingual",traits:[]},{id:"fortune-teller",name:"Fortune Teller",description:"You claim to see the future and understand mystical forces, whether through genuine insight or clever deception.",abilityBoosts:[{type:"choice",abilities:["intelligence","charisma"]},{type:"free",count:1}],skillTraining:"Occultism",featGranted:"Oddity Identification",traits:[]},{id:"gambler",name:"Gambler",description:"You've lived by games of chance and skill, learning to read people and knowing when they're bluffing.",abilityBoosts:[{type:"choice",abilities:["dexterity","charisma"]},{type:"free",count:1}],skillTraining:"Deception",featGranted:"Lie to Me",traits:[]},{id:"gladiator",name:"Gladiator",description:"You fought in arenas for the entertainment of crowds, learning to make combat a spectacular show.",abilityBoosts:[{type:"choice",abilities:["strength","charisma"]},{type:"free",count:1}],skillTraining:"Performance",featGranted:"Impressive Performance",traits:[]},{id:"hunter",name:"Hunter",description:"You've tracked and hunted game for survival or sport, learning the ways of animals and wilderness.",abilityBoosts:[{type:"choice",abilities:["dexterity","wisdom"]},{type:"free",count:1}],skillTraining:"Survival",featGranted:"Survey Wildlife",traits:[]},{id:"laborer",name:"Laborer",description:"You've performed hard physical work your whole life, developing great strength and endurance through manual labor.",abilityBoosts:[{type:"choice",abilities:["strength","constitution"]},{type:"free",count:1}],skillTraining:"Athletics",featGranted:"Hefty Hauler",traits:[]},{id:"miner",name:"Miner",description:"You've worked deep underground, extracting valuable minerals and navigating the dark tunnels beneath the earth.",abilityBoosts:[{type:"choice",abilities:["strength","wisdom"]},{type:"free",count:1}],skillTraining:"Survival",featGranted:"Terrain Expertise (Underground)",traits:[]},{id:"nomad",name:"Nomad",description:"You've wandered from place to place, never settling down, surviving in various terrains and climates.",abilityBoosts:[{type:"choice",abilities:["constitution","wisdom"]},{type:"free",count:1}],skillTraining:"Survival",featGranted:"Assurance (Survival)",traits:[]},{id:"prisoner",name:"Prisoner",description:"You spent time incarcerated, learning to hide contraband and move unseen in confined spaces.",abilityBoosts:[{type:"choice",abilities:["strength","constitution"]},{type:"free",count:1}],skillTraining:"Stealth",featGranted:"Experienced Smuggler",traits:[]},{id:"sailor",name:"Sailor",description:"You've lived at sea, working aboard ships and learning to navigate both calm waters and violent storms.",abilityBoosts:[{type:"choice",abilities:["strength","dexterity"]},{type:"free",count:1}],skillTraining:"Athletics",featGranted:"Underwater Marauder",traits:[]}],rm=[{id:"barbarian",name:"Barbarian",description:"A fierce warrior who can enter a battle rage, gaining incredible strength and resilience.",keyAbility:["strength"],hitPoints:12,initialProficiencies:{perception:4,fortitude:4,reflex:2,will:2,skills:{trained:3},attacks:{simple:2,martial:2,unarmed:2},defenses:{unarmored:2,light:2,medium:2,heavy:0}},traits:[],classDC:2},{id:"bard",name:"Bard",description:"A charismatic performer who uses music and magic to inspire allies and confound foes.",keyAbility:["charisma"],hitPoints:8,initialProficiencies:{perception:4,fortitude:2,reflex:4,will:4,skills:{trained:4},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:2,medium:0,heavy:0}},traits:[],classDC:2,spellcasting:{tradition:"occult",type:"spontaneous",spellsPerDay:[5,3,2],keyAbility:"charisma"}},{id:"champion",name:"Champion",description:"A divine warrior who protects allies and upholds their code with holy power.",keyAbility:["strength","dexterity"],hitPoints:10,initialProficiencies:{perception:2,fortitude:4,reflex:2,will:4,skills:{trained:2},attacks:{simple:2,martial:2,unarmed:2},defenses:{unarmored:2,light:2,medium:2,heavy:2}},traits:[],classDC:2},{id:"cleric",name:"Cleric",description:"A divine spellcaster who channels the power of their deity to heal allies and smite foes.",keyAbility:["wisdom"],hitPoints:8,initialProficiencies:{perception:2,fortitude:2,reflex:2,will:4,skills:{trained:2},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:0,medium:0,heavy:0}},traits:[],classDC:2,spellcasting:{tradition:"divine",type:"prepared",spellsPerDay:[3,2,1],keyAbility:"wisdom"}},{id:"druid",name:"Druid",description:"A primal spellcaster connected to nature, able to take animal forms and command the elements.",keyAbility:["wisdom"],hitPoints:8,initialProficiencies:{perception:2,fortitude:2,reflex:2,will:4,skills:{trained:2},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:2,medium:2,heavy:0}},traits:[],classDC:2,spellcasting:{tradition:"primal",type:"prepared",spellsPerDay:[3,2,1],keyAbility:"wisdom"}},{id:"fighter",name:"Fighter",description:"A master of weapons and combat techniques, the most versatile martial warrior.",keyAbility:["strength","dexterity"],hitPoints:10,initialProficiencies:{perception:4,fortitude:4,reflex:4,will:2,skills:{trained:3},attacks:{simple:4,martial:4,unarmed:4},defenses:{unarmored:2,light:2,medium:2,heavy:2}},traits:[],classDC:2},{id:"monk",name:"Monk",description:"A martial artist who uses ki and flurries of strikes to overwhelm enemies.",keyAbility:["strength","dexterity"],hitPoints:10,initialProficiencies:{perception:2,fortitude:4,reflex:4,will:4,skills:{trained:4},attacks:{simple:2,martial:0,unarmed:4},defenses:{unarmored:4,light:0,medium:0,heavy:0}},traits:[],classDC:2},{id:"ranger",name:"Ranger",description:"A skilled tracker and hunter who excels at taking down specific prey.",keyAbility:["strength","dexterity"],hitPoints:10,initialProficiencies:{perception:4,fortitude:4,reflex:4,will:2,skills:{trained:4},attacks:{simple:2,martial:2,unarmed:2},defenses:{unarmored:2,light:2,medium:2,heavy:0}},traits:[],classDC:2},{id:"rogue",name:"Rogue",description:"A cunning expert who uses stealth and precision to exploit enemy weaknesses.",keyAbility:["dexterity","charisma","intelligence","strength"],hitPoints:8,initialProficiencies:{perception:4,fortitude:2,reflex:4,will:4,skills:{trained:7},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:2,medium:0,heavy:0}},traits:[],classDC:2},{id:"sorcerer",name:"Sorcerer",description:"An innate spellcaster whose magic comes from a powerful bloodline.",keyAbility:["charisma"],hitPoints:6,initialProficiencies:{perception:2,fortitude:2,reflex:2,will:4,skills:{trained:2},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:0,medium:0,heavy:0}},traits:[],classDC:2,spellcasting:{tradition:"arcane",type:"spontaneous",spellsPerDay:[5,3,2],keyAbility:"charisma"}},{id:"wizard",name:"Wizard",description:"A scholarly spellcaster who learns magic through study and preparation.",keyAbility:["intelligence"],hitPoints:6,initialProficiencies:{perception:2,fortitude:2,reflex:2,will:4,skills:{trained:2},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:0,medium:0,heavy:0}},traits:[],classDC:2,spellcasting:{tradition:"arcane",type:"prepared",spellsPerDay:[3,2,1],keyAbility:"intelligence"}},{id:"alchemist",name:"Alchemist",description:"A master of alchemy who crafts powerful elixirs, bombs, and mutagens.",keyAbility:["intelligence"],hitPoints:8,initialProficiencies:{perception:2,fortitude:4,reflex:4,will:2,skills:{trained:3},attacks:{simple:2,martial:0,unarmed:2},defenses:{unarmored:2,light:2,medium:2,heavy:0}},traits:[],classDC:2}],sm=[{id:"acrobatics",name:"Acrobatics",ability:"dexterity",description:"Balance, tumble, maneuver in mid-air, and squeeze through tight spaces."},{id:"arcana",name:"Arcana",ability:"intelligence",description:"Recall knowledge about arcane magic, magical traditions, and creatures."},{id:"athletics",name:"Athletics",ability:"strength",description:"Climb, force open objects, grapple, shove, swim, and similar physical feats."},{id:"crafting",name:"Crafting",ability:"intelligence",description:"Create and repair items, identify alchemical objects, and assess structural weaknesses."},{id:"deception",name:"Deception",ability:"charisma",description:"Lie, feint in combat, impersonate, and disguise yourself."},{id:"diplomacy",name:"Diplomacy",ability:"charisma",description:"Influence others, make requests, gather information, and negotiate."},{id:"intimidation",name:"Intimidation",ability:"charisma",description:"Threaten, coerce, and demoralize others through fear."},{id:"medicine",name:"Medicine",ability:"wisdom",description:"Diagnose ailments, treat wounds, and provide long-term care."},{id:"nature",name:"Nature",ability:"wisdom",description:"Recall knowledge about natural creatures, weather, plants, and geography."},{id:"occultism",name:"Occultism",ability:"intelligence",description:"Recall knowledge about occult traditions, mysteries, and esoteric creatures."},{id:"performance",name:"Performance",ability:"charisma",description:"Entertain through music, dance, acting, storytelling, or other artistic displays."},{id:"religion",name:"Religion",ability:"wisdom",description:"Recall knowledge about divine traditions, deities, holy symbols, and undead."},{id:"society",name:"Society",ability:"intelligence",description:"Recall knowledge about history, cultures, governments, and geography."},{id:"stealth",name:"Stealth",ability:"dexterity",description:"Hide, sneak, and avoid detection."},{id:"survival",name:"Survival",ability:"wisdom",description:"Track creatures, navigate wilderness, subsist in the wild, and sense weather changes."},{id:"thievery",name:"Thievery",ability:"dexterity",description:"Palm objects, steal, disable devices, and pick locks."}],om=[{id:"natural-ambition",name:"Natural Ambition",type:"ancestry",level:1,description:"Your ambitious nature drives you to master your chosen profession more quickly than others.",prerequisites:["Human"],traits:["Human"],benefit:"You gain a 1st-level class feat for your class. You must meet the prerequisites for this feat."},{id:"unconventional-weaponry",name:"Unconventional Weaponry",type:"ancestry",level:1,description:"You've trained with a weapon that's uncommon in your homeland, making it part of your fighting style.",prerequisites:["Human"],traits:["Human"],benefit:"Choose one uncommon simple or martial weapon with a trait corresponding to an ancestry. You gain access to that weapon, and for the purpose of determining your proficiency, that weapon is a simple weapon."},{id:"adapted-cantrip",name:"Adapted Cantrip",type:"ancestry",level:1,description:"Through study or innate talent, you've learned a simple magical trick from another tradition.",prerequisites:["Human"],traits:["Human"],benefit:"Choose a cantrip from the arcane, divine, occult, or primal spell list. You can cast this cantrip as an innate spell at will, heightened to a spell rank equal to half your level rounded up."},{id:"nimble-elf",name:"Nimble Elf",type:"ancestry",level:1,description:"Your movements are swift and graceful, allowing you to cover ground with remarkable speed.",prerequisites:["Elf"],traits:["Elf"],benefit:"Your Speed increases by 5 feet."},{id:"ancestral-longevity",name:"Ancestral Longevity",type:"ancestry",level:1,description:"Your long lifespan has granted you time to master skills that others might never perfect.",prerequisites:["Elf"],traits:["Elf"],benefit:"You gain training in one skill of your choice. After your next daily preparations, you can swap this skill proficiency for training in a different skill. You can't retrain this proficiency using other methods."},{id:"elven-weapon-familiarity",name:"Elven Weapon Familiarity",type:"ancestry",level:1,description:"You've trained with weapons revered by elven warriors, mastering their elegant techniques.",prerequisites:["Elf"],traits:["Elf"],benefit:"You are trained with longbows, composite longbows, longswords, rapiers, shortbows, and composite shortbows. In addition, you gain access to all uncommon elf weapons. For the purpose of determining your proficiency, martial elf weapons are simple weapons and advanced elf weapons are martial weapons."},{id:"rock-runner",name:"Rock Runner",type:"ancestry",level:1,description:"Your people have adapted to navigating treacherous mountain terrain and crumbling stone passages.",prerequisites:["Dwarf"],traits:["Dwarf"],benefit:"You can ignore difficult terrain caused by rubble and uneven ground made of stone and earth. In addition, when you use the Acrobatics skill to Balance on narrow surfaces or uneven ground made of stone or earth, you aren't off-guard, and when you roll a success at one of these Acrobatics checks, you get a critical success instead."},{id:"stonecunning",name:"Stonecunning",type:"ancestry",level:1,description:"Your innate understanding of stonework allows you to notice even subtle irregularities in masonry.",prerequisites:["Dwarf"],traits:["Dwarf"],benefit:"You gain a +2 circumstance bonus to Perception checks to notice unusual stonework. This bonus applies to checks to discover mechanical traps made of stone or hidden in stone. If you aren't actively searching but come within 10 feet of unusual stonework, you can attempt a secret check to notice it anyway."},{id:"dwarven-weapon-familiarity",name:"Dwarven Weapon Familiarity",type:"ancestry",level:1,description:"You've been trained in the traditional weapons favored by dwarven warriors throughout the ages.",prerequisites:["Dwarf"],traits:["Dwarf"],benefit:"You are trained with the battle axe, pick, and warhammer. In addition, you gain access to all uncommon dwarf weapons. For the purpose of determining your proficiency, martial dwarf weapons are simple weapons and advanced dwarf weapons are martial weapons."},{id:"animal-accomplice",name:"Animal Accomplice",type:"ancestry",level:1,description:"Your connection to nature has granted you a loyal animal companion who assists you in your adventures.",prerequisites:["Gnome"],traits:["Gnome"],benefit:"You gain a familiar. The familiar must be an animal appropriate to your nature."},{id:"burrow-elocutionist",name:"Burrow Elocutionist",type:"ancestry",level:1,description:"Your natural affinity for underground creatures allows you to communicate with burrowing animals.",prerequisites:["Gnome"],traits:["Gnome"],benefit:"You can speak with burrowing animals, such as badgers, ground squirrels, moles, and similar creatures. This doesn't make them friendly, but they can communicate with you and you with them."},{id:"fey-fellowship",name:"Fey Fellowship",type:"ancestry",level:1,description:"Your fey heritage makes you naturally attuned to dealing with other creatures of the First World.",prerequisites:["Gnome"],traits:["Gnome"],benefit:"You gain a +2 circumstance bonus to Diplomacy checks to Make an Impression on or make a Request of fey creatures, and to their DC to Make an Impression on you or make a Request of you."},{id:"distracting-shadows",name:"Distracting Shadows",type:"ancestry",level:1,description:"You've learned to use larger creatures as mobile cover, darting between their legs to avoid attacks.",prerequisites:["Halfling"],traits:["Halfling"],benefit:"You can use larger creatures as cover against attacks and to Hide. You can use the Take Cover action while adjacent to a larger creature. If you do, you gain lesser cover against all attacks until you move or the creature moves, whichever comes first."},{id:"halfling-luck",name:"Halfling Luck",type:"ancestry",level:1,description:"Fortune favors you at the most opportune moments, helping you avoid disaster.",prerequisites:["Halfling"],traits:["Halfling","Fortune"],frequency:"once per day",trigger:"You fail a skill check or saving throw.",benefit:"You can reroll the triggering check and use the second result."},{id:"sure-feet",name:"Sure Feet",type:"ancestry",level:1,description:"Your natural balance and agility help you maintain your footing in precarious situations.",prerequisites:["Halfling"],traits:["Halfling"],benefit:"When you roll a success on an Acrobatics check to Balance, you get a critical success instead. You're not off-guard when you attempt to Balance on narrow surfaces and uneven ground. Thanks to your diminutive stature, you can treat such surfaces as one category less difficult than normal."},{id:"burn-it",name:"Burn It!",type:"ancestry",level:1,description:"Your goblin love of fire manifests as enhanced destructive capabilities with flame.",prerequisites:["Goblin"],traits:["Goblin"],benefit:"When you deal fire damage, you gain a +1 status bonus to the damage roll. You also gain a +1 status bonus to any persistent fire damage you deal."},{id:"city-scavenger",name:"City Scavenger",type:"ancestry",level:1,description:"You've mastered the art of surviving in urban environments by finding discarded food and useful items.",prerequisites:["Goblin"],traits:["Goblin"],benefit:"You can find food and shelter in settlements with ease. You can use Society or Survival when you Subsist in a settlement. When you critically succeed at Subsisting in a settlement, you also find a minor item worth 1 gp or less."},{id:"goblin-scuttle",name:"Goblin Scuttle",type:"ancestry",level:1,description:"You dart away from danger whenever an ally moves into position, using their presence as a distraction.",prerequisites:["Goblin"],traits:["Goblin"],frequency:"once per round",trigger:"An ally ends a move action adjacent to you.",benefit:"You Step."}],lm={feats:om},cm=[{id:"acute-vision",name:"Acute Vision",type:"class",level:1,description:"Your rage sharpens your senses, granting you the ability to see in darkness.",prerequisites:["Barbarian"],traits:["Barbarian"],benefit:"You gain darkvision, allowing you to see in darkness and dim light as well as you see in bright light. If you already have darkvision, you gain scent as an imprecise sense with a range of 30 feet."},{id:"raging-athlete",name:"Raging Athlete",type:"class",level:1,description:"Your fury fuels incredible physical prowess in athletic endeavors.",prerequisites:["Barbarian"],traits:["Barbarian"],benefit:"While raging, you gain a +10-foot status bonus to your Speed, and you can use Athletics for High Jump and Long Jump as if you had a running start."},{id:"sudden-charge-barbarian",name:"Sudden Charge",type:"class",level:1,description:"Rush forward with devastating momentum to close distance and strike.",prerequisites:["Barbarian"],traits:["Barbarian","Flourish","Open"],benefit:"Stride twice. If you end your movement within melee reach of at least one enemy, you can make a melee Strike against that enemy."},{id:"raging-thrower",name:"Raging Thrower",type:"class",level:1,description:"Your rage empowers thrown weapons with brutal force.",prerequisites:["Barbarian"],traits:["Barbarian"],benefit:"You can throw weapons while raging and add your rage damage to thrown weapon attacks. Additionally, you don't take the normal circumstance penalty for making ranged attacks within melee reach."},{id:"champion-deity-domain",name:"Deity's Domain",type:"class",level:1,description:"Your deity grants you access to a special domain of divine power.",prerequisites:["Champion"],traits:["Champion"],benefit:"Choose one domain associated with your deity. You gain the domain's initial domain spell as a devotion spell and can cast it using your Champion focus points."},{id:"unimpeded-step",name:"Unimpeded Step",type:"class",level:1,description:"Your righteous purpose allows you to advance even through obstructed terrain.",prerequisites:["Champion"],traits:["Champion"],benefit:"When you Step, you can Step into difficult terrain. You can't Step into greater difficult terrain or hazardous terrain this way."},{id:"everstand-stance",name:"Everstand Stance",type:"class",level:1,description:"You adopt a defensive posture that makes you incredibly resilient.",prerequisites:["Champion"],traits:["Champion","Stance"],benefit:"You take a defensive stance. While in this stance, you gain a +1 circumstance bonus to AC, but your Speeds are reduced by 5 feet."},{id:"weight-of-guilt",name:"Weight of Guilt",type:"class",level:1,description:"You invoke divine judgment to shake your foe's confidence.",prerequisites:["Champion"],traits:["Champion","Mental"],benefit:"You can use Religion instead of Intimidation to Demoralize foes. When you successfully Demoralize a creature using Religion, it becomes frightened 1 (or frightened 2 on a critical success)."},{id:"sudden-charge-fighter",name:"Sudden Charge",type:"class",level:1,description:"Rush forward and strike in one fluid motion.",prerequisites:["Fighter"],traits:["Fighter","Flourish","Open"],benefit:"Stride twice. If you end your movement within melee reach of at least one enemy, you can make a melee Strike against that enemy."},{id:"point-blank-shot",name:"Point-Blank Shot",type:"class",level:1,description:"You've trained to fire ranged weapons effectively even when enemies press close.",prerequisites:["Fighter"],traits:["Fighter","Open","Stance"],benefit:"You enter a combat stance. While in this stance, you don't take the penalty for making ranged attacks within your enemy's melee reach. You leave this stance if you make a melee attack."},{id:"double-slice",name:"Double Slice",type:"class",level:1,description:"Strike with both weapons simultaneously in a devastating combination.",prerequisites:["Fighter"],traits:["Fighter","Press"],benefit:"Make two Strikes, one with each of your two melee weapons. Both attacks count toward your multiple attack penalty, but don't apply the penalty until after both attacks."},{id:"power-attack",name:"Power Attack",type:"class",level:1,description:"Sacrifice accuracy for a devastating blow.",prerequisites:["Fighter"],traits:["Fighter","Flourish"],benefit:"Make a melee Strike. If you hit, you deal an extra die of weapon damage. If you're at least 10th level, increase this to two extra dice, and if you're at least 18th level, increase it to three extra dice."},{id:"snagging-strike",name:"Snagging Strike",type:"class",level:1,description:"Your attack throws your opponent off-balance.",prerequisites:["Fighter"],traits:["Fighter","Press"],benefit:"Make a Strike. If it hits and deals damage, the target is flat-footed until the start of your next turn."},{id:"ki-strike",name:"Ki Strike",type:"class",level:1,description:"Channel your inner energy to enhance your unarmed attacks with mystical force.",prerequisites:["Monk"],traits:["Monk"],benefit:"You gain the ki strike ki spell and a focus pool of 1 Focus Point. Your ki strike makes your unarmed attacks magical."},{id:"monastic-weaponry",name:"Monastic Weaponry",type:"class",level:1,description:"You've trained with weapons alongside your unarmed techniques.",prerequisites:["Monk"],traits:["Monk"],benefit:"You gain access to uncommon monk weapons and can use your monk abilities with melee weapons with the monk trait."},{id:"mountain-stance",name:"Mountain Stance",type:"class",level:1,description:"Root yourself like an immovable mountain, trading mobility for defensive power.",prerequisites:["Monk"],traits:["Monk","Stance"],benefit:"You enter Mountain Stance. While in this stance, you gain a +4 item bonus to AC and a +2 circumstance bonus to Fortitude saves, but your Speed is reduced to 20 feet (or your current Speed, whichever is slower)."},{id:"crane-stance",name:"Crane Stance",type:"class",level:1,description:"Adopt the graceful movements of a crane, gaining defensive mobility.",prerequisites:["Monk"],traits:["Monk","Stance"],benefit:"You enter Crane Stance. While in this stance, you gain a +1 circumstance bonus to AC but can only make crane wing attacks (unarmed attacks that deal 1d6 bludgeoning damage)."},{id:"tiger-stance",name:"Tiger Stance",type:"class",level:1,description:"Channel the ferocity of a tiger into your combat style.",prerequisites:["Monk"],traits:["Monk","Stance"],benefit:"You enter Tiger Stance. While in this stance, you can make tiger claw attacks (unarmed attacks that deal 1d8 slashing damage) and can Step 10 feet instead of 5 feet."},{id:"crossbow-ace",name:"Crossbow Ace",type:"class",level:1,description:"Your crossbow expertise allows you to deliver devastating precision shots.",prerequisites:["Ranger"],traits:["Ranger"],benefit:"When you're wielding a crossbow and you Hit a creature with a ranged Strike that has the volley trait, you deal an extra 2 precision damage. If the crossbow is a simple crossbow, increase this to 4 precision damage."},{id:"hunted-shot",name:"Hunted Shot",type:"class",level:1,description:"Loose two arrows at your prey in rapid succession.",prerequisites:["Ranger"],traits:["Ranger","Flourish"],benefit:"Make two Strikes against your hunted prey with the required weapon. If both hit the same creature, combine their damage for the purpose of resistances and weaknesses. Apply your multiple attack penalty normally."},{id:"monster-hunter",name:"Monster Hunter",type:"class",level:1,description:"Your experience hunting creatures gives you insight into their weaknesses.",prerequisites:["Ranger"],traits:["Ranger"],benefit:"When you succeed at identifying a creature using Recall Knowledge, you learn one of its weaknesses in addition to the information you normally learn. On a critical success, you learn all of its weaknesses."},{id:"twin-takedown",name:"Twin Takedown",type:"class",level:1,description:"Strike with both weapons in a coordinated assault.",prerequisites:["Ranger"],traits:["Ranger","Flourish"],benefit:"Make two Strikes against your hunted prey, one with each of the two required weapons. If both Strikes hit, combine their damage for the purpose of your prey's resistances and weaknesses. Apply your multiple attack penalty normally."},{id:"nimble-dodge",name:"Nimble Dodge",type:"class",level:1,description:"Your quick reflexes allow you to twist away from danger at the last moment.",prerequisites:["Rogue"],traits:["Rogue"],trigger:"An attacker hits you with a melee attack",benefit:"You gain a +2 circumstance bonus to AC against the triggering attack, which might cause the attack to miss."},{id:"trap-finder",name:"Trap Finder",type:"class",level:1,description:"Your experience with traps gives you an edge in detecting and disarming them.",prerequisites:["Rogue"],traits:["Rogue"],benefit:"You gain a +1 circumstance bonus to Perception checks to find traps and to Thievery checks to disable them. You can disable traps that require a proficiency rank of master in Thievery. If you have master proficiency in Thievery, you can disable traps that require legendary proficiency."},{id:"twin-feint",name:"Twin Feint",type:"class",level:1,description:"Use your off-hand weapon to create an opening for your main attack.",prerequisites:["Rogue"],traits:["Rogue"],benefit:"Make a feint against a target, then immediately Strike that target with a melee weapon. If your Strike hits, the target is flat-footed against your attacks until the end of your turn."},{id:"you-are-next",name:"You're Next",type:"class",level:1,description:"After downing a foe, you intimidate another with a menacing threat.",prerequisites:["Rogue"],traits:["Rogue","Emotion","Fear","Mental"],trigger:"You reduce a creature to 0 Hit Points",benefit:"Choose a creature within 30 feet that can see you. That creature becomes frightened 1. If your attack was a critical hit, the creature instead becomes frightened 2."},{id:"alchemical-familiar",name:"Alchemical Familiar",type:"class",level:1,description:"You gain a familiar that assists in your alchemical work.",prerequisites:["Alchemist"],traits:["Alchemist"],benefit:"You gain a familiar. The familiar can assist you with alchemical crafting and has the valet and lab assistant abilities."},{id:"far-lobber",name:"Far Lobber",type:"class",level:1,description:"You've mastered the technique of throwing alchemical items great distances.",prerequisites:["Alchemist"],traits:["Alchemist"],benefit:"When you throw an alchemical bomb, it has a range increment of 30 feet instead of 20 feet."},{id:"quick-bomber",name:"Quick Bomber",type:"class",level:1,description:"You can draw and throw alchemical bombs with incredible speed.",prerequisites:["Alchemist"],traits:["Alchemist"],benefit:"You can Interact to draw an alchemical bomb and then Strike with it as part of the same action."},{id:"smoke-bomb",name:"Smoke Bomb",type:"class",level:1,description:"You create a special bomb that produces obscuring smoke.",prerequisites:["Alchemist"],traits:["Alchemist","Additive"],frequency:"once per round",benefit:"When you throw an alchemical bomb with the splash trait, you can also create a cloud of smoke in a 10-foot radius around the target. Creatures in the cloud are concealed."},{id:"bardic-lore",name:"Bardic Lore",type:"class",level:1,description:"Your studies have given you esoteric knowledge on countless topics.",prerequisites:["Bard"],traits:["Bard"],benefit:"You gain the Bardic Lore skill feat. When you use it to Recall Knowledge, you can attempt checks on any topic using Bardic Lore, and you're trained in this lore skill."},{id:"lingering-composition",name:"Lingering Composition",type:"class",level:1,description:"Your compositions continue to resonate after you stop performing.",prerequisites:["Bard"],traits:["Bard"],benefit:"By spending 1 additional action when you cast a composition cantrip, you increase its duration by 1 round."},{id:"reach-spell-bard",name:"Reach Spell",type:"class",level:1,description:"You can extend the range of your spells beyond their normal limits.",prerequisites:["Bard"],traits:["Bard","Concentrate","Metamagic"],benefit:"If the next action you use is to Cast a Spell that has a range, increase that spell's range by 30 feet."},{id:"versatile-performance",name:"Versatile Performance",type:"class",level:1,description:"Your performance skills are so refined they can substitute for other abilities.",prerequisites:["Bard"],traits:["Bard"],benefit:"Choose one of the following skills: Deception, Diplomacy, or Intimidation. You can use Performance instead of that skill when making checks with it."},{id:"deadly-simplicity",name:"Deadly Simplicity",type:"class",level:1,description:"Your deity's favored weapon becomes more deadly in your hands.",prerequisites:["Cleric"],traits:["Cleric"],benefit:"When you use your deity's favored weapon, you increase the weapon damage die by one size. If the weapon is a simple weapon, you also gain the critical specialization effect for that weapon."},{id:"domain-initiate",name:"Domain Initiate",type:"class",level:1,description:"Your devotion grants you access to a divine domain.",prerequisites:["Cleric"],traits:["Cleric"],benefit:"Choose one domain associated with your deity. You gain the domain's initial domain spell as a devotion spell and can cast it using your cleric focus points."},{id:"harming-hands",name:"Harming Hands",type:"class",level:1,description:"Your harm spells carry extra destructive power.",prerequisites:["Cleric"],traits:["Cleric"],benefit:"When you cast a harm spell and damage at least one living creature, you deal an extra 1 damage per spell rank to one of the damaged creatures of your choice."},{id:"healing-hands",name:"Healing Hands",type:"class",level:1,description:"Your healing magic is particularly potent and restorative.",prerequisites:["Cleric"],traits:["Cleric"],benefit:"When you cast a heal spell and restore Hit Points to a living creature, you restore an extra 1 Hit Point per spell rank to one target of your choice."},{id:"holy-castigation",name:"Holy Castigation",type:"class",level:1,description:"You channel divine wrath to punish the unholy.",prerequisites:["Cleric"],traits:["Cleric"],benefit:"When you damage a fiend or undead with a spell, you deal an extra 1 good damage. This increases to 2 at 9th level, and 3 at 17th level."},{id:"animal-companion",name:"Animal Companion",type:"class",level:1,description:"A loyal animal becomes your steadfast companion in your druidic endeavors.",prerequisites:["Druid"],traits:["Druid"],benefit:"You gain a young animal companion that accompanies you on your adventures and follows your commands."},{id:"leshy-familiar",name:"Leshy Familiar",type:"class",level:1,description:"A small plant creature becomes your loyal companion.",prerequisites:["Druid"],traits:["Druid"],benefit:"You gain a leshy familiar, a Small plant creature that serves as your familiar and can speak to you."},{id:"reach-spell-druid",name:"Reach Spell",type:"class",level:1,description:"You can extend the range of your spells beyond their normal limits.",prerequisites:["Druid"],traits:["Druid","Concentrate","Metamagic"],benefit:"If the next action you use is to Cast a Spell that has a range, increase that spell's range by 30 feet."},{id:"storm-retribution",name:"Storm Retribution",type:"class",level:1,description:"Call down lightning to punish those who dare harm you.",prerequisites:["Druid"],traits:["Druid","Electricity","Evocation","Primal"],trigger:"You are hit by a melee attack",benefit:"You can call down a bolt of lightning to strike your attacker, dealing 1d12 electricity damage. The attacker must attempt a basic Reflex save against your spell DC."},{id:"widen-spell-druid",name:"Widen Spell",type:"class",level:1,description:"You can expand the area of your spells to affect a larger zone.",prerequisites:["Druid"],traits:["Druid","Manipulate","Metamagic"],benefit:"If the next action you use is to Cast a Spell with an area of a burst, cone, or line, increase the area of that spell by 5 feet."},{id:"counterspell-sorcerer",name:"Counterspell",type:"class",level:1,description:"Use your magical knowledge to disrupt enemy spells.",prerequisites:["Sorcerer"],traits:["Sorcerer","Abjuration"],trigger:"A creature within 60 feet Casts a Spell that you have in your repertoire",benefit:"Expend a spell slot of the same level or higher to counteract the triggering spell. Attempt a counteract check."},{id:"dangerous-sorcery",name:"Dangerous Sorcery",type:"class",level:1,description:"Your bloodline makes your damaging spells more potent.",prerequisites:["Sorcerer"],traits:["Sorcerer"],benefit:"When you Cast a Spell from your spell slots and the spell deals damage, you deal an extra 1 damage per spell rank to one target. This increases to 2 at 9th level."},{id:"familiar-sorcerer",name:"Familiar",type:"class",level:1,description:"You gain a magical familiar tied to your bloodline.",prerequisites:["Sorcerer"],traits:["Sorcerer"],benefit:"You gain a familiar, a magical creature that serves you. The appearance of your familiar is tied to your bloodline."},{id:"reach-spell-sorcerer",name:"Reach Spell",type:"class",level:1,description:"You can extend the range of your spells beyond their normal limits.",prerequisites:["Sorcerer"],traits:["Sorcerer","Concentrate","Metamagic"],benefit:"If the next action you use is to Cast a Spell that has a range, increase that spell's range by 30 feet."},{id:"counterspell-wizard",name:"Counterspell",type:"class",level:1,description:"Use your arcane knowledge to disrupt enemy spells.",prerequisites:["Wizard"],traits:["Wizard","Abjuration","Arcane"],trigger:"A creature within 60 feet Casts a Spell that you have prepared",benefit:"Expend a spell slot of the same level or higher to counteract the triggering spell. Attempt a counteract check."},{id:"familiar-wizard",name:"Familiar",type:"class",level:1,description:"You gain a magical familiar to aid in your studies.",prerequisites:["Wizard"],traits:["Wizard"],benefit:"You gain a familiar, a small magical creature that can assist you in various tasks and help with your arcane research."},{id:"hand-of-the-apprentice",name:"Hand of the Apprentice",type:"class",level:1,description:"Use your magical knowledge to hurl weapons with telekinetic force.",prerequisites:["Wizard"],traits:["Wizard","Attack","Evocation"],benefit:"You gain the hand of the apprentice school spell. You can make ranged spell attacks with melee weapons using your Intelligence modifier."},{id:"reach-spell-wizard",name:"Reach Spell",type:"class",level:1,description:"You can extend the range of your spells beyond their normal limits.",prerequisites:["Wizard"],traits:["Wizard","Concentrate","Metamagic"],benefit:"If the next action you use is to Cast a Spell that has a range, increase that spell's range by 30 feet."},{id:"widen-spell-wizard",name:"Widen Spell",type:"class",level:1,description:"You can expand the area of your spells to affect a larger zone.",prerequisites:["Wizard"],traits:["Wizard","Manipulate","Metamagic"],benefit:"If the next action you use is to Cast a Spell with an area of a burst, cone, or line, increase the area of that spell by 5 feet."}],um=[{id:"toughness",name:"Toughness",type:"general",level:1,description:"Your body is hardy and resilient, allowing you to withstand punishment that would fell others.",prerequisites:[],traits:["General"],benefit:"Increase your maximum Hit Points by your level. When you gain this feat, you immediately gain Hit Points equal to your level, and you gain additional Hit Points equal to your new level each time you gain a level thereafter."},{id:"fleet",name:"Fleet",type:"general",level:1,description:"You move with exceptional speed and agility.",prerequisites:[],traits:["General"],benefit:"Your Speed increases by 5 feet."},{id:"shield-block",name:"Shield Block",type:"general",level:1,description:"You know how to use your shield to absorb devastating blows.",prerequisites:[],traits:["General"],trigger:"While you have your shield raised, you would take damage from a physical attack.",benefit:"You snap your shield into place to deflect the blow. Your shield prevents you from taking an amount of damage up to the shield's Hardness. You and the shield each take any remaining damage, possibly breaking or destroying the shield."},{id:"incredible-initiative",name:"Incredible Initiative",type:"general",level:1,description:"Your reflexes are lightning-fast, allowing you to react to danger before others.",prerequisites:[],traits:["General"],benefit:"You gain a +2 circumstance bonus to initiative rolls."},{id:"diehard",name:"Diehard",type:"general",level:1,description:"You have an incredible will to live, fighting on even when at death's door.",prerequisites:[],traits:["General"],benefit:"It takes more to kill you than most. You die from the dying condition at dying 5, rather than dying 4."},{id:"expeditious-search",name:"Expeditious Search",type:"general",level:1,description:"You search with practiced efficiency, finding hidden objects and dangers quickly.",prerequisites:[],traits:["General"],benefit:"You take no penalty to Perception checks when you Search in a hurry. You can still Search for only one object or feature at a time."},{id:"incredible-improvisation",name:"Incredible Improvisation",type:"general",level:1,description:"You have a knack for making things up as you go, finding creative solutions on the fly.",prerequisites:[],traits:["General"],benefit:"You gain a +4 circumstance bonus to skill checks you attempt with skills in which you're untrained. This bonus applies only to checks that use your Intelligence, Wisdom, or Charisma modifiers."},{id:"canny-acumen",name:"Canny Acumen",type:"general",level:1,description:"Your instincts and awareness make you difficult to catch off guard in one specific area.",prerequisites:[],traits:["General"],special:"You can select this feat multiple times. Each time you select it, choose a different Perception or saving throw category (Fortitude, Reflex, or Will).",benefit:"Choose Perception or a saving throw category. Your proficiency rank for the chosen statistic increases to expert if it was trained, or to master if it was expert."},{id:"ride",name:"Ride",type:"general",level:1,description:"You are skilled at riding mounts in both casual and combat situations.",prerequisites:[],traits:["General"],benefit:"When you Command an Animal that's your mount to take a move action, you can choose to ignore the command cost. You can still take two actions on your turn even if you do so. You also gain a +1 circumstance bonus to Nature checks to use Command an Animal on a mount."},{id:"untrained-improvisation",name:"Untrained Improvisation",type:"general",level:1,description:"You've learned a little about everything, making you surprisingly capable even with skills you haven't formally studied.",prerequisites:[],traits:["General"],benefit:"You can attempt skill actions that normally require you to be trained, even if you're untrained. When you make a skill check using a skill you're untrained in, your proficiency bonus is equal to your level instead of 0."},{id:"armor-assist",name:"Armor Assist",type:"general",level:1,description:"You've practiced helping others don and doff their armor efficiently.",prerequisites:[],traits:["General"],benefit:"After practicing with a suit of armor, you can assist another creature to don or remove that armor. You can do this either by spending a 10-minute activity to prepare the armor for the other creature to don or remove, or by helping the other creature don or remove the armor, halving the time it takes them to do so."},{id:"ancestral-paragon",name:"Ancestral Paragon",type:"general",level:1,description:"You embody the pinnacle of your ancestry's potential, displaying traits that exemplify your heritage.",prerequisites:[],traits:["General"],benefit:"You gain a 1st-level ancestry feat from your ancestry. This feat represents natural development within your ancestry, rather than specialized training."},{id:"adopted-ancestry",name:"Adopted Ancestry",type:"general",level:1,description:"You were raised by or spent significant time among members of another ancestry, adopting their cultural practices and mannerisms.",prerequisites:[],traits:["General"],special:"You can select this feat multiple times. Each time you select it, choose a different ancestry.",benefit:"Choose an ancestry. You can take ancestry feats from the chosen ancestry in addition to those from your own ancestry. You must meet the ancestry feat's prerequisites, and you can't select ancestry feats that specify another physiological requirement that you don't meet."},{id:"breath-control",name:"Breath Control",type:"general",level:1,description:"You have exceptional lung capacity and control over your breathing.",prerequisites:[],traits:["General"],benefit:"You can hold your breath for 25 times as long as normal before you start suffocating. You also gain a +1 circumstance bonus to saving throws against effects that would cause you to suffocate or inhale harmful substances."},{id:"combat-climber",name:"Combat Climber",type:"general",level:1,description:"You maintain your combat readiness even while scaling walls and cliffs.",prerequisites:[],traits:["General"],benefit:"Your climbing doesn't trigger reactions based on your movement, such as Attacks of Opportunity. You aren't off-guard when you Climb."}],dm=[{id:"assurance-acrobatics",name:"Assurance (Acrobatics)",type:"skill",level:1,description:"You can perform a skill check with reliable consistency, even under pressure.",prerequisites:["Trained in Acrobatics"],traits:["Fortune","General","Skill"],benefit:"When you use Acrobatics, you can choose to forgo rolling and instead use a result of 10 + your proficiency bonus (not including any other bonuses, penalties, or modifiers). This allows you to succeed at tasks with consistent reliability, though you cannot achieve critical successes using this ability."},{id:"cat-fall",name:"Cat Fall",type:"skill",level:1,description:"Your quick reflexes allow you to land gracefully when falling, reducing the impact of a tumble.",prerequisites:["Trained in Acrobatics"],traits:["General","Skill"],benefit:"Treat falls as 10 feet shorter when determining falling damage. If you're an expert in Acrobatics, treat falls as 25 feet shorter. If you're a master, treat them as 50 feet shorter. If you're legendary, you always land on your feet and take no damage, regardless of the distance fallen."},{id:"quick-squeeze",name:"Quick Squeeze",type:"skill",level:1,description:"You can slip through tight spaces with surprising speed.",prerequisites:["Trained in Acrobatics"],traits:["General","Skill"],benefit:"You Squeeze at full Speed instead of the usual 5 feet per round. You can use this ability even when someone is observing you, though observers can still tell you're Squeezing."},{id:"arcane-sense",name:"Arcane Sense",type:"skill",level:1,description:"Your magical intuition allows you to sense the presence of arcane power nearby.",prerequisites:["Trained in Arcana"],traits:["Detection","General","Skill"],benefit:"You can cast detect magic as an arcane innate cantrip at will. A cantrip is heightened to a spell rank equal to half your level rounded up. This allows you to sense magical auras within 30 feet and learn their schools of magic."},{id:"combat-climber",name:"Combat Climber",type:"skill",level:1,description:"You maintain your guard even while scaling walls or clinging to surfaces.",prerequisites:["Trained in Athletics"],traits:["General","Skill"],benefit:"You're not off-guard while Climbing. If you have a climb Speed, you gain a +2 circumstance bonus to your Fortitude or Reflex DC against attempts to Shove or Trip you while you're climbing."},{id:"hefty-hauler",name:"Hefty Hauler",type:"skill",level:1,description:"Your powerful physique allows you to carry more weight than others of your size.",prerequisites:["Trained in Athletics"],traits:["General","Skill"],benefit:"Increase your maximum and encumbered Bulk limits by 2. This doesn't affect the Bulk you can carry while meeting the Bulk requirements for armor."},{id:"specialty-crafting",name:"Specialty Crafting",type:"skill",level:1,description:"You've developed expertise in crafting a particular type of item.",prerequisites:["Trained in Crafting"],traits:["General","Skill"],special:"You can take this feat multiple times, choosing a different specialty each time.",benefit:"Choose one specialty from the following list: alchemy, artistry, blacksmithing, bookmaking, glassmaking, leatherworking, pottery, shipbuilding, stonemasonry, tailoring, or woodworking. When Crafting items of your chosen specialty, your proficiency rank for the Craft check is one higher (from trained to expert, for example)."},{id:"impeccable-crafting",name:"Impeccable Crafting",type:"skill",level:1,description:"Your meticulous craftsmanship produces items of exceptional quality.",prerequisites:["Trained in Crafting","Expert in Crafting"],traits:["General","Skill"],benefit:"Whenever you roll a success on a Crafting check to Craft an item of your level or lower, you get a critical success instead. This means you can craft the item in half the time it would normally take, or you can increase the item's quality."},{id:"charming-liar",name:"Charming Liar",type:"skill",level:1,description:"Your lies are so charming that people want to believe you.",prerequisites:["Trained in Deception"],traits:["General","Skill"],benefit:"When you critically succeed at Lying to someone, if that creature would have an attitude towards you of indifferent or better, it improves by one step (for example, indifferent to friendly). This doesn't affect creatures with a worse starting attitude."},{id:"lengthy-diversion",name:"Lengthy Diversion",type:"skill",level:1,description:"Your diversions keep targets distracted for longer than usual.",prerequisites:["Trained in Deception"],traits:["General","Skill"],benefit:"When you succeed at using Deception to Create a Diversion, you continue to remain hidden for 1 additional round after the diversion ends. This gives you more time to move or take actions while remaining unnoticed."},{id:"bargain-hunter",name:"Bargain Hunter",type:"skill",level:1,description:"You have a keen eye for finding good deals and negotiating favorable prices.",prerequisites:["Trained in Diplomacy"],traits:["General","Skill"],benefit:"When you Purchase goods, you can attempt a Diplomacy check to find a bargain. If you succeed, you find the item at a discount, paying 90% of the normal price. If you critically succeed, you pay only 80% of the normal price. This doesn't apply to magical items or items with a minimum purchase price."},{id:"group-impression",name:"Group Impression",type:"skill",level:1,description:"You can make a strong first impression on multiple people simultaneously.",prerequisites:["Trained in Diplomacy"],traits:["General","Skill"],benefit:"When you Make an Impression, you can target up to two creatures at once, instead of just one. If you're an expert in Diplomacy, you can target four creatures; if you're a master, you can target ten creatures; and if you're legendary, you can target twenty-five creatures."},{id:"intimidating-glare",name:"Intimidating Glare",type:"skill",level:1,description:"Your menacing stare can unsettle foes without a word being spoken.",prerequisites:["Trained in Intimidation"],traits:["General","Skill"],benefit:"You can Demoralize a target using only visual cues rather than language. This uses the same rules as the Demoralize action, but you don't need to share a language with the target, and the target doesn't need to be able to hear you. They must be able to see you, though."},{id:"battle-medicine",name:"Battle Medicine",type:"skill",level:1,description:"You can quickly administer first aid to wounded allies even in the heat of combat.",prerequisites:["Trained in Medicine"],traits:["General","Healing","Manipulate","Skill"],benefit:"You can use the Treat Wounds action in combat as a 1-action activity. When you do, you can only restore Hit Points equal to the target's Constitution modifier (minimum 1). You can't use Battle Medicine on the same target again until they rest for 10 minutes or receive magical healing. This doesn't prevent you from using Treat Wounds during exploration mode."},{id:"train-animal",name:"Train Animal",type:"skill",level:1,description:"You can teach animals to follow your commands and perform specific tasks.",prerequisites:["Trained in Nature"],traits:["Downtime","General","Manipulate","Skill"],benefit:"You can train animals to obey your commands. Using downtime, you can attempt a Nature check to teach an animal a trick. The DC depends on the complexity of the trick and the animal's intelligence. Successfully trained animals will perform the trick when commanded."},{id:"oddity-identification",name:"Oddity Identification",type:"skill",level:1,description:"Your knowledge of the occult helps you identify strange and unusual magical items.",prerequisites:["Trained in Occultism"],traits:["General","Skill"],benefit:"You can use Occultism to Identify Magic when examining occult items and effects. You gain a +2 circumstance bonus to Occultism checks to identify items with the cursed, emotion, or mental trait."},{id:"fascinating-performance",name:"Fascinating Performance",type:"skill",level:1,description:"Your performances can captivate and entrance your audience.",prerequisites:["Trained in Performance"],traits:["General","Skill"],benefit:"When you critically succeed at a Performance check to Perform, you can attempt to fascinate one target within 30 feet who watched or heard your performance. The target must attempt a Will save against your Performance DC. On a failure, they become fascinated by you for 1 round."},{id:"student-of-the-canon",name:"Student of the Canon",type:"skill",level:1,description:"Your deep study of religious texts gives you extensive knowledge of the divine.",prerequisites:["Trained in Religion"],traits:["General","Skill"],benefit:"You gain a +1 circumstance bonus to Religion checks to Recall Knowledge about deities, religious traditions, holy texts, and religious ceremonies. If you have the Assurance feat for Religion, you can use it even when recalling knowledge about obscure religious topics."},{id:"streetwise",name:"Streetwise",type:"skill",level:1,description:"You know how to navigate urban environments and gather information from the locals.",prerequisites:["Trained in Society"],traits:["General","Skill"],benefit:"You can use Society to Gather Information even if you don't have access to a library or other research materials, as long as you're in a settlement. When using Society to Gather Information in a settlement, if you critically fail, you still get a false lead instead of no information at all."},{id:"experienced-smuggler",name:"Experienced Smuggler",type:"skill",level:1,description:"You're skilled at concealing small items on your person to avoid detection.",prerequisites:["Trained in Stealth"],traits:["General","Skill"],benefit:"You gain a +2 circumstance bonus to Stealth checks to Conceal an Object that is light Bulk or less. You can also draw a light Bulk concealed item as easily as you would draw a weapon, using the Interact action."},{id:"survey-wildlife",name:"Survey Wildlife",type:"skill",level:1,description:"Your knowledge of animal behavior helps you track creatures through the wilderness.",prerequisites:["Trained in Survival"],traits:["General","Skill"],benefit:"You can spend 10 minutes surveying an area to learn about local wildlife. Attempt a Survival check against a DC determined by the GM. On a success, you learn what types of creatures inhabit the area and their general threat level. This gives you useful information for planning your journey."},{id:"pickpocket",name:"Pickpocket",type:"skill",level:1,description:"Your nimble fingers allow you to steal items from unsuspecting marks.",prerequisites:["Trained in Thievery"],traits:["General","Skill"],benefit:"You can use Thievery to Steal or Palm an Object from another creature's person. This requires you to be within reach of the target. The target can attempt a Perception check against your Thievery DC to notice your attempt, even if they don't succeed at catching you."}],hm=[{id:"acid-splash",name:"Acid Splash",level:0,tradition:["arcane"],traits:["Acid","Attack","Cantrip","Evocation"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"instant",description:"You splash a glob of acid that splatters your target and nearby surfaces. Make a spell attack roll. On a success, you deal acid damage equal to 1d6 plus your spellcasting ability modifier.",heightened:[{level:3,effect:"Damage increases to 2d6"},{level:5,effect:"Damage increases to 3d6"}]},{id:"chill-touch",name:"Chill Touch",level:0,tradition:["arcane"],traits:["Cantrip","Necromancy","Negative"],castTime:"2 actions",range:"touch",targets:"1 living or undead creature",duration:"1 round",description:"Your touch freezes the target with negative energy. Make a spell attack roll. On a success, the target takes negative damage equal to 1d4 plus your spellcasting ability modifier.",heightened:[{level:3,effect:"Damage increases to 2d4"},{level:5,effect:"Damage increases to 3d4"}]},{id:"daze",name:"Daze",level:0,tradition:["arcane"],traits:["Cantrip","Enchantment","Mental","Nonlethal"],castTime:"2 actions",range:"60 feet",targets:"1 creature",duration:"instant",savingThrow:"Will",description:"You cloud the target's mind with confusion and befuddlement. The target must attempt a Will save. On a failure, it takes mental damage equal to 1d6 plus your spellcasting ability modifier and is dazed until the end of your next turn.",heightened:[{level:3,effect:"Damage increases to 2d6"},{level:5,effect:"Damage increases to 3d6"}]},{id:"detect-magic",name:"Detect Magic",level:0,tradition:["arcane"],traits:["Cantrip","Detection","Divination"],castTime:"2 actions",range:"30 feet",area:"30-foot emanation",duration:"sustained up to 1 minute",description:"You send out a pulse of magical energy that reveals the presence of magic. You detect magical auras within the area and can sense their general location. Each time you sustain the spell, you can turn to face a different direction."},{id:"electric-arc",name:"Electric Arc",level:0,tradition:["arcane"],traits:["Cantrip","Electricity","Evocation"],castTime:"2 actions",range:"30 feet",targets:"1 or 2 creatures",duration:"instant",savingThrow:"basic Reflex",description:"An arc of lightning leaps from your hands to shock one or two targets. The targets must each attempt a basic Reflex save. On a failure, each target takes electricity damage equal to 1d4 plus your spellcasting ability modifier.",heightened:[{level:3,effect:"Damage increases to 2d4"},{level:5,effect:"Damage increases to 3d4"}]},{id:"light",name:"Light",level:0,tradition:["arcane"],traits:["Cantrip","Evocation","Light"],castTime:"2 actions",range:"touch",targets:"1 object of 1 Bulk or less",duration:"until your next daily preparations",description:"The object glows, casting bright light in a 20-foot radius and dim light for another 20 feet. The effect is identical to a torch. The spell ends if you cast it again."},{id:"mage-hand",name:"Mage Hand",level:0,tradition:["arcane"],traits:["Cantrip","Evocation"],castTime:"2 actions",range:"30 feet",duration:"sustained",description:"You create a floating, spectral hand that can manipulate objects at a distance. The hand can move up to 30 feet and can lift, carry, push, or pull objects of light Bulk. It can't perform tasks requiring fine manipulation.",heightened:[{level:3,effect:"Range increases to 60 feet"},{level:5,effect:"Range increases to 90 feet"}]},{id:"prestidigitation",name:"Prestidigitation",level:0,tradition:["arcane"],traits:["Cantrip","Evocation"],castTime:"2 actions",range:"10 feet",targets:"1 object or creature",duration:"sustained",description:"You perform a minor magical trick. You can create a harmless sensory effect, clean or soil an item, warm or chill unattended material, color or mark an object, or create a small, obviously magical item. These effects last 1 hour."},{id:"produce-flame",name:"Produce Flame",level:0,tradition:["arcane"],traits:["Attack","Cantrip","Evocation","Fire"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"instant",description:"A small ball of flame appears in your hand, and you can either hurl it at an enemy or hold it aloft for light. Make a spell attack roll against the target. On a success, you deal fire damage equal to 1d4 plus your spellcasting ability modifier.",heightened:[{level:3,effect:"Damage increases to 2d4"},{level:5,effect:"Damage increases to 3d4"}]},{id:"ray-of-frost",name:"Ray of Frost",level:0,tradition:["arcane"],traits:["Attack","Cantrip","Cold","Evocation"],castTime:"2 actions",range:"120 feet",targets:"1 creature",duration:"instant",description:"You blast an icy ray at your target. Make a spell attack roll. On a success, you deal cold damage equal to 1d4 plus your spellcasting ability modifier, and the target takes a -10-foot status penalty to its Speed until the start of your next turn.",heightened:[{level:3,effect:"Damage increases to 2d4"},{level:5,effect:"Damage increases to 3d4"}]},{id:"read-aura",name:"Read Aura",level:0,tradition:["arcane"],traits:["Cantrip","Detection","Divination"],castTime:"1 minute",range:"30 feet",targets:"1 object",duration:"instant",description:"You focus on the target object, attempting to discern magical properties and auras surrounding it. You learn whether the object is magical, and if so, you learn its school of magic."},{id:"shield",name:"Shield",level:0,tradition:["arcane"],traits:["Abjuration","Cantrip","Force"],castTime:"1 action",range:"self",duration:"until the start of your next turn",description:"You raise a magical shield of force. This grants you a +1 circumstance bonus to AC. You can use the Shield Block reaction with this spell. The shield has Hardness 5 and 20 Hit Points. After the shield is destroyed, the spell ends.",heightened:[{level:3,effect:"Hardness increases to 10 and HP to 40"},{level:5,effect:"Hardness increases to 15 and HP to 60"}]},{id:"tanglefoot",name:"Tanglefoot",level:0,tradition:["arcane"],traits:["Attack","Cantrip","Conjuration"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 round",savingThrow:"Reflex",description:"You create a mass of sticky webbing that attempts to adhere to the target. Make a spell attack roll. On a hit, the target takes a -10-foot status penalty to its Speed and takes a -2 circumstance penalty to Reflex saves.",heightened:[{level:3,effect:"Duration increases to 2 rounds"}]},{id:"telekinetic-projectile",name:"Telekinetic Projectile",level:0,tradition:["arcane"],traits:["Attack","Cantrip","Evocation"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"instant",description:"You hurl a loose, unattended object within range at the target. Make a spell attack roll against the target. On a success, you deal bludgeoning, piercing, or slashing damage (depending on the object) equal to 1d6 plus your spellcasting ability modifier.",heightened:[{level:3,effect:"Damage increases to 2d6"},{level:5,effect:"Damage increases to 3d6"}]},{id:"air-bubble",name:"Air Bubble",level:1,tradition:["arcane"],traits:["Air","Conjuration"],castTime:"1 action",range:"60 feet",targets:"1 willing creature",duration:"1 minute",description:"A bubble of pure air appears around the target's head, allowing them to breathe normally even in water, toxic gases, or airless environments. The bubble moves with the target.",heightened:[{level:3,effect:"Duration increases to 10 minutes and you can target up to 4 creatures"}]},{id:"ant-haul",name:"Ant Haul",level:1,tradition:["arcane"],traits:["Transmutation"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"8 hours",description:"You reinforce the target's musculature and core strength, granting them the ability to carry more. The target's maximum and encumbered Bulk limits increase by 3, and their maximum and encumbered Bulk limits for Dragging and Lifting increase by 6.",heightened:[{level:3,effect:"Limits increase by 5 and 10 respectively"}]},{id:"burning-hands",name:"Burning Hands",level:1,tradition:["arcane"],traits:["Evocation","Fire"],castTime:"2 actions",range:"self",area:"15-foot cone",duration:"instant",savingThrow:"basic Reflex",description:"Gouts of flame rush from your hands. You deal 2d6 fire damage to creatures in the area. Creatures must attempt a basic Reflex save.",heightened:[{level:2,effect:"Damage increases by 2d6"}]},{id:"charm",name:"Charm",level:1,tradition:["arcane"],traits:["Emotion","Enchantment","Incapacitation","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 hour",savingThrow:"Will",description:"To the target, your words are honey and your visage seems bathed in a dreamy haze. It must attempt a Will save. On a failure, the target's attitude toward you improves by one step for the duration.",heightened:[{level:4,effect:"Duration increases to 1 day"}]},{id:"color-spray",name:"Color Spray",level:1,tradition:["arcane"],traits:["Illusion","Incapacitation","Visual"],castTime:"2 actions",range:"self",area:"15-foot cone",duration:"1 or more rounds",savingThrow:"Will",description:"Swirling colors burst from your hand in a chaotic spray. Each creature in the area must attempt a Will save. On a failure, the creature is dazzled for 1 round. On a critical failure, it's also stunned 1.",heightened:[{level:5,effect:"Dazzled duration increases to 1 minute"}]},{id:"fleet-step",name:"Fleet Step",level:1,tradition:["arcane"],traits:["Transmutation"],castTime:"1 action",range:"self",duration:"1 minute",description:"You gain a +30-foot status bonus to your Speed. This bonus applies to all your movement types."},{id:"floating-disk",name:"Floating Disk",level:1,tradition:["arcane"],traits:["Conjuration","Force"],castTime:"2 actions",range:"self",duration:"8 hours",description:"You create a circular, horizontal disk of force that floats 3 feet above the ground and follows you. It has a 2-foot diameter and can hold up to 5 Bulk of objects. The disk winks out if you move more than 30 feet away from it."},{id:"grease",name:"Grease",level:1,tradition:["arcane"],traits:["Conjuration"],castTime:"2 actions",range:"30 feet",area:"four 5-foot squares or one 10-foot square",duration:"1 minute",savingThrow:"Reflex",description:"You conjure slippery grease that coats the ground. Creatures entering or standing in the area must succeed at a Reflex save or fall prone. Those who succeed treat the area as difficult terrain.",heightened:[{level:2,effect:"Area increases to eight 5-foot squares or two 10-foot squares"}]},{id:"grim-tendrils",name:"Grim Tendrils",level:1,tradition:["arcane"],traits:["Necromancy","Negative"],castTime:"2 actions",range:"self",area:"30-foot line",duration:"instant",savingThrow:"Fortitude",description:"Tendrils of darkness curl out from your fingertips and race along the ground. You deal 2d4 negative damage to living creatures in the line. Creatures must attempt a Fortitude save.",heightened:[{level:2,effect:"Damage increases by 1d4"}]},{id:"illusory-disguise",name:"Illusory Disguise",level:1,tradition:["arcane"],traits:["Illusion","Visual"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 hour",description:"You create an illusion that causes the target to appear as another creature of the same size and body shape. The disguise holds up to casual inspection but not close examination. The target can dismiss the disguise.",heightened:[{level:3,effect:"Duration increases to 8 hours"}]},{id:"illusory-object",name:"Illusory Object",level:1,tradition:["arcane"],traits:["Illusion","Visual"],castTime:"2 actions",range:"500 feet",duration:"10 minutes",description:"You create an illusory object of Medium size or smaller. The illusion includes visual aspects but not sound, smell, or temperature. Physical interaction with the object reveals it to be an illusion.",heightened:[{level:2,effect:"Object can be Large or smaller"}]},{id:"item-facade",name:"Item Facade",level:1,tradition:["arcane"],traits:["Illusion","Visual"],castTime:"2 actions",range:"touch",targets:"1 object of 5 Bulk or less",duration:"1 hour",description:"You disguise the appearance of an item, making it look like a different item of the same size and general shape. The illusion can't change the basic nature of the object.",heightened:[{level:3,effect:"Duration increases to 8 hours"}]},{id:"jump",name:"Jump",level:1,tradition:["arcane"],traits:["Transmutation"],castTime:"1 action",range:"touch",targets:"1 creature",duration:"1 minute",description:"The target can jump 5 feet vertically as a single action without attempting an Athletics check. They can jump up to 15 feet horizontally as a 2-action activity without attempting an Athletics check.",heightened:[{level:3,effect:"Vertical jump increases to 10 feet and horizontal to 30 feet"}]},{id:"lock",name:"Lock",level:1,tradition:["arcane"],traits:["Abjuration"],castTime:"2 actions",range:"touch",targets:"1 lock or 1 door",duration:"until your next daily preparations",description:"You magically lock a door, chest, or other object with a lock. The DC to Pick the Lock or Force Open the object increases by 5. Anyone with the key can still open it normally.",heightened:[{level:2,effect:"DC increase becomes 10"}]},{id:"mage-armor",name:"Mage Armor",level:1,tradition:["arcane"],traits:["Abjuration","Force"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"until your next daily preparations",description:"You ward yourself or an ally with shimmering magical energy, granting a +1 item bonus to AC. The target also gains a Dex cap of +5 while unarmored.",heightened:[{level:4,effect:"Item bonus increases to +2"},{level:7,effect:"Item bonus increases to +3"}]},{id:"magic-missile",name:"Magic Missile",level:1,tradition:["arcane"],traits:["Evocation","Force"],castTime:"1 to 3 actions",range:"120 feet",targets:"1 creature",duration:"instant",description:"You send a magical projectile that unerringly strikes your target, dealing 1d4+1 force damage. For each additional action spent casting this spell, you fire one additional missile at the same or different target.",heightened:[{level:2,effect:"+1 missile"}]},{id:"phantom-pain",name:"Phantom Pain",level:1,tradition:["arcane"],traits:["Illusion","Mental","Nonlethal"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 minute",savingThrow:"Will",description:"You send a phantom spike of terrible pain into the target's mind. The target must attempt a Will save. On a failure, it takes 2d4 mental damage and is sickened 1. On a critical failure, it's also stunned 1.",heightened:[{level:2,effect:"Damage increases by 2d4"}]},{id:"shocking-grasp",name:"Shocking Grasp",level:1,tradition:["arcane"],traits:["Attack","Electricity","Evocation"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"instant",description:"You shroud your hands in electricity and make a melee spell attack. On a success, the target takes 2d12 electricity damage. If the target is wearing metal armor or is made of metal, you gain a +1 circumstance bonus to your attack roll.",heightened:[{level:2,effect:"Damage increases by 1d12"}]},{id:"sleep",name:"Sleep",level:1,tradition:["arcane"],traits:["Enchantment","Incapacitation","Mental","Sleep"],castTime:"2 actions",range:"30 feet",area:"5-foot burst",duration:"1 minute",savingThrow:"Will",description:"Each creature in the area becomes drowsy and might fall asleep. Creatures must attempt a Will save. On a failure, the creature falls unconscious. The spell ends if the creature takes damage or is shaken awake.",heightened:[{level:4,effect:"Creatures get a -2 penalty to their save and are harder to wake"}]},{id:"spider-sting",name:"Spider Sting",level:1,tradition:["arcane"],traits:["Attack","Necromancy","Poison"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 round",description:"You magically duplicate the venomous sting of a spider. Make a melee spell attack against the target. On a success, you deal 1d4 piercing damage and the target is afflicted with spider venom.",heightened:[{level:3,effect:"Piercing damage increases to 2d4"}]},{id:"true-strike",name:"True Strike",level:1,tradition:["arcane"],traits:["Divination","Fortune"],castTime:"1 action",range:"self",duration:"until the end of your turn",description:"A glimpse into the future ensures your next blow strikes true. Your next attack roll gains a +1 status bonus and ignores concealment. This bonus increases to +2 if the attack is against a flat-footed target.",heightened:[{level:4,effect:"Bonus increases to +2, or +3 against flat-footed targets"}]},{id:"unseen-servant",name:"Unseen Servant",level:1,tradition:["arcane"],traits:["Conjuration"],castTime:"3 actions",range:"60 feet",duration:"sustained",description:"You summon an invisible, mindless servant. It has AC 10 and can perform simple tasks. It can lift 1 Bulk and follow simple commands. The servant can't attack, use magic items, or speak.",heightened:[{level:3,effect:"Duration no longer needs to be sustained; lasts 1 hour"}]},{id:"ventriloquism",name:"Ventriloquism",level:1,tradition:["arcane"],traits:["Auditory","Illusion"],castTime:"2 actions",range:"60 feet",duration:"10 minutes",description:"You create an auditory illusion, causing sounds to emanate from a point you choose within range. The sound can be any noise you wish, including speech in any language you know. Anyone hearing the sound can attempt a Perception check against your spell DC to disbelieve.",heightened:[{level:3,effect:"Range increases to 120 feet"}]},{id:"blur",name:"Blur",level:2,tradition:["arcane"],traits:["Illusion","Visual"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"The target's form appears blurred and indistinct. Attacks against the target have a 20% miss chance, and the target has concealment against all attacks. This doesn't stack with other sources of concealment.",heightened:[{level:4,effect:"Duration increases to 10 minutes"}]},{id:"invisibility",name:"Invisibility",level:2,tradition:["arcane"],traits:["Illusion"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"The target becomes invisible. This makes it undetected to all creatures, though it can still be heard and felt. The spell ends if the target uses a hostile action.",heightened:[{level:4,effect:"The spell lasts 1 minute and doesn't end if the target uses a hostile action"}]},{id:"mirror-image",name:"Mirror Image",level:2,tradition:["arcane"],traits:["Illusion","Visual"],castTime:"2 actions",range:"self",duration:"1 minute",description:"Three illusory duplicates of you appear in your space. When a creature targets you with an attack, randomly determine whether it attacks you or one of your images. If it attacks an image, the image is destroyed. The spell ends when all images are destroyed.",heightened:[{level:5,effect:"The number of images increases to 5"}]},{id:"dispel-magic",name:"Dispel Magic",level:2,tradition:["arcane"],traits:["Abjuration"],castTime:"2 actions",range:"120 feet",targets:"1 spell effect or unattended magic item",duration:"instant",description:"You unravel the magic of a spell or item. Attempt a counteract check against the target. If you succeed, the spell effect ends or the item becomes non-magical for 10 minutes.",heightened:[{level:3,effect:"Your counteract rank increases by 1"}]},{id:"enlarge",name:"Enlarge",level:2,tradition:["arcane"],traits:["Polymorph","Transmutation"],castTime:"2 actions",range:"30 feet",targets:"1 willing creature",duration:"5 minutes",description:"The target grows to Large size. It gains a +2 status bonus to melee damage, a +10-foot status bonus to Speed, and is clumsy 1. The creature takes a -2 status penalty to AC and Reflex saves.",heightened:[{level:4,effect:"The target can grow to Huge size instead"}]},{id:"flaming-sphere",name:"Flaming Sphere",level:2,tradition:["arcane"],traits:["Evocation","Fire"],castTime:"2 actions",range:"30 feet",duration:"sustained up to 1 minute",savingThrow:"Reflex",description:"You create a 5-foot-diameter sphere of fire that rolls where you direct it. Each creature in the sphere's space takes 3d6 fire damage with a basic Reflex save. You can Sustain the spell to move the sphere up to 30 feet.",heightened:[{level:3,effect:"Damage increases by 1d6"}]},{id:"glitterdust",name:"Glitterdust",level:2,tradition:["arcane"],traits:["Evocation"],castTime:"2 actions",range:"120 feet",area:"10-foot burst",duration:"1 minute",savingThrow:"Reflex",description:"Glittering golden particles cover creatures and objects in the area, making them visible even if invisible. Creatures in the area must attempt a Reflex save. On a failure, they are blinded for 1 round and outlined by glitter for the duration.",heightened:[{level:4,effect:"Area increases to 20-foot burst"}]},{id:"knock",name:"Knock",level:2,tradition:["arcane"],traits:["Transmutation"],castTime:"2 actions",range:"30 feet",targets:"1 door, lock, or container",duration:"instant",description:"You make a loud knocking sound and attempt to open a locked door, container, or lock. The spell opens doors, containers, and locks even if they are magically sealed, unless they are protected by a higher-level spell.",heightened:[{level:3,effect:"Can open locks sealed by spells of up to 3rd level"}]},{id:"resist-energy",name:"Resist Energy",level:2,tradition:["arcane"],traits:["Abjuration"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"Choose acid, cold, electricity, fire, or sonic when you cast this spell. The target gains resistance 5 against damage of the chosen type.",heightened:[{level:4,effect:"Resistance increases to 10"},{level:7,effect:"Resistance increases to 15"}]},{id:"web",name:"Web",level:2,tradition:["arcane"],traits:["Conjuration"],castTime:"3 actions",range:"30 feet",area:"10-foot burst",duration:"1 minute",savingThrow:"Reflex",description:"You create a sticky mass of webbing that fills the area. Creatures in the area when you cast the spell or that enter the area must attempt a Reflex save. On a failure, they're immobilized until they Escape. The webs are difficult terrain.",heightened:[{level:4,effect:"Area increases to 20-foot burst"}]},{id:"fireball",name:"Fireball",level:3,tradition:["arcane"],traits:["Evocation","Fire"],castTime:"2 actions",range:"500 feet",area:"20-foot burst",duration:"instant",savingThrow:"basic Reflex",description:"A roaring blast of fire appears at a spot you designate, dealing 6d6 fire damage. Creatures in the area must attempt a basic Reflex save.",heightened:[{level:4,effect:"Damage increases by 2d6"}]},{id:"haste",name:"Haste",level:3,tradition:["arcane"],traits:["Transmutation"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 minute",description:"Magic empowers the target to act faster. The target is quickened and can use the extra action to Stride or Strike.",heightened:[{level:6,effect:"You can target up to 5 creatures"}]},{id:"lightning-bolt",name:"Lightning Bolt",level:3,tradition:["arcane"],traits:["Electricity","Evocation"],castTime:"2 actions",range:"120 feet",area:"120-foot line",duration:"instant",savingThrow:"basic Reflex",description:"A bolt of lightning strikes outward from your hand, dealing 4d12 electricity damage. Creatures in the area must attempt a basic Reflex save.",heightened:[{level:4,effect:"Damage increases by 1d12"}]},{id:"slow",name:"Slow",level:3,tradition:["arcane"],traits:["Transmutation"],castTime:"2 actions",range:"30 feet",targets:"up to 5 creatures",duration:"1 minute",savingThrow:"Fortitude",description:"You cause time to flow more slowly for your enemies. Targets must attempt a Fortitude save. On a failure, the target is slowed 1 for the duration. On a critical failure, the target is slowed 2 for the duration.",heightened:[{level:6,effect:"You can target up to 10 creatures"}]},{id:"stinking-cloud",name:"Stinking Cloud",level:3,tradition:["arcane"],traits:["Conjuration","Poison"],castTime:"2 actions",range:"120 feet",area:"20-foot burst",duration:"1 minute",savingThrow:"Fortitude",description:"You create a cloud of putrid vapors. Each creature in the area when you cast the spell, or that enters the area, must attempt a Fortitude save. On a failure, the creature is sickened 1. On a critical failure, the creature is sickened 2.",heightened:[{level:5,effect:"Creatures that fail are sickened 2, or sickened 3 on a critical failure"}]},{id:"vampiric-touch",name:"Vampiric Touch",level:3,tradition:["arcane"],traits:["Death","Necromancy","Negative"],castTime:"2 actions",range:"touch",targets:"1 living creature",duration:"instant",description:"Your touch leeches the lifeblood out of a target. Make a melee spell attack roll. On a success, the target takes 6d6 negative damage and you gain temporary Hit Points equal to half the damage dealt. On a critical success, the target takes double damage and you gain temporary HP equal to the damage dealt.",heightened:[{level:4,effect:"Damage increases by 2d6"}]},{id:"fly",name:"Fly",level:3,tradition:["arcane"],traits:["Transmutation"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"5 minutes",description:"The target can fly through the air, gaining a fly Speed equal to its land Speed or 20 feet, whichever is greater.",heightened:[{level:7,effect:"Duration increases to 1 hour"}]},{id:"blink",name:"Blink",level:3,tradition:["arcane"],traits:["Conjuration","Teleportation"],castTime:"2 actions",range:"self",duration:"1 minute",description:"You blink quickly between the Material Plane and the Ethereal Plane. You gain resistance 5 to all damage. Attacks against you have a 50% miss chance. When you move, you can pass through creatures and objects, taking 1d6 force damage if you end your turn inside an object.",heightened:[{level:5,effect:"Resistance increases to 10"}]},{id:"clairaudience",name:"Clairaudience",level:3,tradition:["arcane"],traits:["Divination","Scrying"],castTime:"2 actions",range:"500 feet",duration:"10 minutes",description:"You create an invisible floating ear at a location within range. You can hear through this ear as if you were there. You can use an action to move the ear up to 20 feet.",heightened:[{level:5,effect:"Duration increases to 1 hour"}]},{id:"heroism-3",name:"Heroism",level:3,tradition:["arcane"],traits:["Enchantment","Mental"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"You inspire the target with heroic confidence. The target gains a +2 status bonus to attack rolls, Perception checks, saving throws, and skill checks. The target also gains 10 temporary Hit Points.",heightened:[{level:5,effect:"Bonus increases to +3 and temporary HP increases to 15"}]}],mm={spells:hm},fm=[{id:"stabilize",name:"Stabilize",level:0,tradition:["divine","primal"],traits:["Cantrip","Healing","Vitality"],castTime:"2 actions",range:"30 feet",targets:"1 dying creature",duration:"instant",description:"You channel vitality energy into a dying creature to stabilize them. The target loses the dying condition but remains unconscious at 0 Hit Points."},{id:"light",name:"Light",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip","Light"],castTime:"2 actions",range:"touch",targets:"1 object of 1 Bulk or less",duration:"until your next daily preparations",description:"The target glows with bright light in a 20-foot radius and dim light for the next 20 feet. The light is bright enough to read and work by. You can Dismiss the spell."},{id:"divine-lance",name:"Divine Lance",level:0,tradition:["divine"],traits:["Cantrip","Attack"],castTime:"2 actions",range:"120 feet",targets:"1 creature",duration:"instant",savingThrow:"Fortitude",description:"You unleash a lance of pure energy aligned with your deity's sanctification. Make a spell attack roll. On a success, the target takes 1d4 spirit damage plus 1 good or evil damage. On a critical success, the target takes double damage and is enfeebled 1 until the start of your next turn.",heightened:[{level:3,effect:"Damage increases to 2d4 spirit damage plus 2 good or evil damage"},{level:5,effect:"Damage increases to 3d4 spirit damage plus 3 good or evil damage"}]},{id:"shield",name:"Shield",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip"],castTime:"1 action",range:"self",duration:"until the start of your next turn",description:"You raise a magical shield that grants a +1 circumstance bonus to AC. You can Shield Block with this spell, which has Hardness 5. After a Shield Block, the spell ends. The Hardness increases by 5 at 5th, 9th, 13th, and 17th levels."},{id:"guidance",name:"Guidance",level:0,tradition:["divine","primal"],traits:["Cantrip"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"until the start of your next turn",description:"You bless the target with divine wisdom. Once before the duration ends, the target can roll a d20 and use the higher result on a single attack roll, saving throw, or skill check. The target then becomes temporarily immune for 1 hour."},{id:"detect-magic",name:"Detect Magic",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip","Detection"],castTime:"2 actions",range:"30 feet",area:"30-foot emanation",duration:"sustained up to 1 minute",description:"You sense the presence of magical auras within the area. Each time you Sustain the spell, you can turn to detect magic in a different direction. The spell detects only the presence and location of magic, not the type."},{id:"read-aura",name:"Read Aura",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip","Detection"],castTime:"1 minute",range:"30 feet",targets:"1 object",duration:"instant",description:"You study the aura of an object to determine if it is magical. You learn whether the object is magical and, if so, the school of magic."},{id:"daze",name:"Daze",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip","Mental"],castTime:"2 actions",range:"60 feet",targets:"1 creature",duration:"instant",savingThrow:"Will",description:"You overwhelm the target's mind with psychic energy. The target takes 1d6 mental damage with a basic Will save. On a critical failure, the target is also stunned 1.",heightened:[{level:3,effect:"Damage increases to 2d6"},{level:5,effect:"Damage increases to 3d6"}]},{id:"forbidding-ward",name:"Forbidding Ward",level:0,tradition:["divine","occult"],traits:["Cantrip"],castTime:"2 actions",range:"30 feet",targets:"1 ally",duration:"until the start of your next turn",description:"You ward an ally with protective energy. The target gains a +1 status bonus to AC until the start of your next turn."},{id:"know-the-way",name:"Know the Way",level:0,tradition:["divine","occult"],traits:["Cantrip","Detection"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"sustained up to 1 minute",description:"You guide an ally toward a known destination. The target intuitively knows which direction leads most directly to the destination, including around obstacles and through branching passages. This doesn't reveal traps or other dangers."},{id:"message",name:"Message",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip","Auditory","Linguistic","Mental"],castTime:"1 action",range:"120 feet",targets:"1 creature",duration:"see text",description:"You mouth words quietly to send a telepathic message to a creature within range. The target can reply with their own message. Each message can be up to 25 words. The spell lasts 1 round, during which you can send one message and receive one reply."},{id:"prestidigitation",name:"Prestidigitation",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip"],castTime:"2 actions",range:"10 feet",targets:"1 object (cook, lift, or tidy only)",duration:"sustained up to 1 minute",description:"You perform a minor magical trick. You can lift 1 pound of material, color an object, clean or soil an item, chill or warm material, or create a minor sensory effect."},{id:"sigil",name:"Sigil",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip"],castTime:"2 actions",range:"touch",targets:"1 object or 10-foot-by-10-foot area",duration:"unlimited",description:"You mark a surface with a glowing symbol. The sigil can be visible or invisible, and you can decide what message it conveys. You can set a password to make the sigil visible or invisible. You can Dismiss the spell."},{id:"heal",name:"Heal",level:1,tradition:["divine","primal"],traits:["Healing","Vitality"],castTime:"1 to 3 actions",range:"varies",targets:"1 willing living creature or 1 undead",duration:"instant",description:"You channel vitality energy to restore Hit Points. If the target is living, it regains 1d8 Hit Points. If the target is undead, it takes 1d8 void damage with a basic Fortitude save. The number of actions changes the spell's range and area: 1 action (touch), 2 actions (30 feet), 3 actions (30-foot emanation healing all living creatures for 1d8).",heightened:[{level:2,effect:"Healing or damage increases to 2d8 + 8"},{level:3,effect:"Healing or damage increases to 3d8 + 16"}]},{id:"harm",name:"Harm",level:1,tradition:["divine"],traits:["Void"],castTime:"1 to 3 actions",range:"varies",targets:"1 living creature or 1 willing undead",duration:"instant",savingThrow:"Fortitude",description:"You channel void energy to harm the living or heal undead. A living creature takes 1d8 void damage with a basic Fortitude save. An undead creature regains 1d8 Hit Points. The number of actions changes the spell's range and area: 1 action (touch), 2 actions (30 feet), 3 actions (30-foot emanation damaging all living creatures for 1d8).",heightened:[{level:2,effect:"Damage or healing increases to 2d8 + 8"},{level:3,effect:"Damage or healing increases to 3d8 + 16"}]},{id:"bless",name:"Bless",level:1,tradition:["divine","occult"],traits:["Mental"],castTime:"2 actions",range:"30 feet",area:"15-foot emanation",duration:"1 minute",description:"You bless all allies in the area with divine fortune. Whenever an ally makes an attack roll or saves against fear, they gain a +1 status bonus to the roll."},{id:"bane",name:"Bane",level:1,tradition:["divine","occult"],traits:["Mental"],castTime:"2 actions",range:"30 feet",area:"15-foot emanation",duration:"1 minute",savingThrow:"Will",description:"You curse all enemies in the area with misfortune. Whenever an affected creature makes an attack roll or saving throw, it must roll twice and use the lower result."},{id:"sanctuary",name:"Sanctuary",level:1,tradition:["divine","occult"],traits:[],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",savingThrow:"Will",description:"You ward a creature with protective magic. Enemies must succeed at a Will save to target the warded creature with attacks, spells, or other hostile actions. On a failure, they must choose a new target or waste the action. The spell ends if the target uses a hostile action.",heightened:[{level:4,effect:"Duration increases to 10 minutes"}]},{id:"command",name:"Command",level:1,tradition:["divine","occult"],traits:["Auditory","Linguistic","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"until the end of the target's next turn",savingThrow:"Will",description:"You issue a simple command that the target must follow. On a failed save, the target must spend its first action on its next turn obeying your command. Commands include approach, drop, flee, grovel, halt, or leave."},{id:"protection",name:"Protection",level:1,tradition:["divine","occult"],traits:[],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"You ward a creature against the attacks of a particular alignment. Choose good, evil, lawful, or chaotic. The target gains a +1 status bonus to AC and saves against creatures of the chosen alignment.",heightened:[{level:4,effect:"Duration increases to 10 minutes"}]},{id:"spirit-link",name:"Spirit Link",level:1,tradition:["divine","occult"],traits:["Healing"],castTime:"2 actions",range:"30 feet",targets:"1 willing creature",duration:"10 minutes",description:"You form a spiritual link with another creature. The target can use an action to transfer any number of its current Hit Points to you, or you can transfer any number of your Hit Points to the target as an action. Hit Points transferred this way ignore any temporary Hit Points.",heightened:[{level:2,effect:"You can target 2 willing creatures"}]},{id:"heroism",name:"Heroism",level:1,tradition:["divine","occult"],traits:["Mental"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"You fill the target with confidence and heroism. The target gains a +1 status bonus to attack rolls, Perception checks, saving throws, and skill checks.",heightened:[{level:3,effect:"Bonus increases to +2"},{level:5,effect:"Bonus increases to +3"}]},{id:"fear",name:"Fear",level:1,tradition:["arcane","divine","occult","primal"],traits:["Emotion","Fear","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"varies",savingThrow:"Will",description:"You instill intense fear in the target. On a failed save, the target is frightened 1, or frightened 2 on a critical failure. The target is then temporarily immune for 1 minute."},{id:"magic-weapon",name:"Magic Weapon",level:1,tradition:["arcane","divine","occult"],traits:[],castTime:"2 actions",range:"touch",targets:"1 non-magical weapon",duration:"1 minute",description:"The weapon becomes a +1 striking weapon, gaining a +1 item bonus to attack rolls and increasing its damage to two dice. This doesn't stack with existing runes.",heightened:[{level:4,effect:"Weapon becomes a +2 striking weapon"}]},{id:"create-water",name:"Create Water",level:1,tradition:["arcane","divine","primal"],traits:["Water"],castTime:"2 actions",range:"0 feet",duration:"instant",description:"You create 2 gallons of fresh, pure water. The water appears in a container within range, or it falls to the ground and is lost if no container is present.",heightened:[{level:2,effect:"You create 4 gallons of water"}]},{id:"purify-food-and-drink",name:"Purify Food and Drink",level:1,tradition:["divine","primal"],traits:[],castTime:"2 actions",range:"touch",targets:"1 cubic foot of contaminated food or water",duration:"instant",description:"You remove all poisons and diseases from food or drink. This spell doesn't prevent future contamination. The spell can purify 1 cubic foot of liquid or 5 pounds of food.",heightened:[{level:2,effect:"You can purify twice as much food or drink"}]},{id:"detect-alignment",name:"Detect Alignment",level:1,tradition:["divine","occult"],traits:["Detection"],castTime:"2 actions",range:"30 feet",area:"30-foot emanation",duration:"sustained up to 1 minute",description:"Choose good, evil, lawful, or chaotic when you cast this spell. You sense the presence of creatures and objects with the chosen alignment trait within the area. Each time you Sustain the spell, you can rotate to detect in a different direction."},{id:"disrupting-weapons",name:"Disrupting Weapons",level:1,tradition:["divine"],traits:[],castTime:"2 actions",range:"touch",targets:"up to 2 weapons",duration:"1 minute",description:"The weapons shine with holy light. On a successful Strike against an undead creature, the weapon deals an additional 1d4 vitality damage. On a critical hit, the undead is also enfeebled 1 until the end of your next turn."},{id:"mindlink",name:"Mindlink",level:1,tradition:["divine","occult"],traits:["Detection","Mental"],castTime:"2 actions",range:"touch",targets:"yourself and 1 willing creature",duration:"10 minutes",description:"You form a mental link with the target. You can communicate telepathically with each other, sharing words, emotions, and mental images. This doesn't require line of sight or a shared language, but you must both be on the same plane.",heightened:[{level:3,effect:"Duration increases to 1 hour"}]},{id:"soothe",name:"Soothe",level:1,tradition:["occult"],traits:["Emotion","Healing","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 willing living creature",duration:"1 minute",description:"You calm the target's emotions and restore its mental fortitude. The target regains 1d10 + 4 Hit Points and can immediately attempt a new save against one mental effect currently afflicting it. It gains a +2 status bonus to Will saves against mental effects for the duration.",heightened:[{level:2,effect:"Healing increases to 2d10 + 8"}]},{id:"alarm",name:"Alarm",level:1,tradition:["arcane","divine","occult","primal"],traits:[],castTime:"10 minutes",range:"touch",area:"20-foot burst",duration:"8 hours",description:"You set an alarm in an area. When a Small or larger creature enters the area, the spell alerts you with a mental ping if you're within 1 mile, or an audible alarm that can be heard up to 60 feet away. You can designate creatures that don't trigger the alarm."},{id:"ant-haul",name:"Ant Haul",level:1,tradition:["arcane","divine","primal"],traits:[],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"You strengthen the target's muscles for carrying loads. The target can carry 3 extra Bulk before becoming encumbered and 6 extra Bulk before becoming overburdened.",heightened:[{level:2,effect:"Duration increases to 10 minutes"}]},{id:"detect-poison",name:"Detect Poison",level:1,tradition:["divine","primal"],traits:["Detection"],castTime:"2 actions",range:"30 feet",area:"30-foot emanation",duration:"sustained up to 1 minute",description:"You sense the presence of poisons, venoms, and poisonous creatures within the area. You don't learn the specific type of poison. Each time you Sustain the spell, you can rotate to detect in a different direction."},{id:"remove-fear",name:"Remove Fear",level:1,tradition:["divine","occult","primal"],traits:[],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"You remove fear from the target's mind. The target immediately reduces its frightened condition by 1. For the duration, the target gains a +1 status bonus to saves against fear effects.",heightened:[{level:3,effect:"Target reduces frightened by 2"}]},{id:"summon-construct",name:"Summon Construct",level:1,tradition:["arcane","divine"],traits:[],castTime:"3 actions",range:"30 feet",duration:"sustained up to 1 minute",description:"You summon a level -1 construct. It appears in an unoccupied space within range, acts on your turn, and follows your mental commands. The construct vanishes when the spell ends or when reduced to 0 Hit Points.",heightened:[{level:2,effect:"Summon a level 1 construct"},{level:3,effect:"Summon a level 2 construct"}]},{id:"summon-fey",name:"Summon Fey",level:1,tradition:["occult","primal"],traits:[],castTime:"3 actions",range:"30 feet",duration:"sustained up to 1 minute",description:"You summon a level -1 fey creature. It appears in an unoccupied space within range, acts on your turn, and follows your mental commands. The fey vanishes when the spell ends or when reduced to 0 Hit Points.",heightened:[{level:2,effect:"Summon a level 1 fey"},{level:3,effect:"Summon a level 2 fey"}]},{id:"summon-animal",name:"Summon Animal",level:1,tradition:["primal"],traits:[],castTime:"3 actions",range:"30 feet",duration:"sustained up to 1 minute",description:"You summon a level -1 animal. It appears in an unoccupied space within range, acts on your turn, and follows your mental commands. The animal vanishes when the spell ends or when reduced to 0 Hit Points.",heightened:[{level:2,effect:"Summon a level 1 animal"},{level:3,effect:"Summon a level 2 animal"}]},{id:"aid",name:"Aid",level:2,tradition:["divine"],traits:["Necromancy"],castTime:"2 actions",range:"30 feet",targets:"1 willing creature",duration:"10 minutes",description:"You bolster your ally's defenses. The target gains 10 temporary Hit Points and gains a +1 status bonus to attack rolls and saves against fear effects for the duration.",heightened:[{level:3,effect:"Temporary HP increases to 15"},{level:5,effect:"Temporary HP increases to 20"}]},{id:"calm-emotions",name:"Calm Emotions",level:2,tradition:["divine"],traits:["Enchantment","Incapacitation","Mental"],castTime:"2 actions",range:"120 feet",area:"10-foot burst",duration:"sustained up to 1 minute",savingThrow:"Will",description:"You calm the emotions of creatures in the area, suppressing strong emotional effects. Creatures in the area must attempt a Will save. On a failure, emotion effects are suppressed, including fear and rage. Hostile actions end the spell for that creature.",heightened:[{level:4,effect:"Area increases to 20-foot burst"}]},{id:"restoration-lesser",name:"Restoration (Lesser)",level:2,tradition:["divine"],traits:["Healing","Necromancy"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"instant",description:"You remove one of the following conditions affecting the target: dazzled, deafened, enfeebled 1, or sickened 1. You can instead reduce the target's clumsy, enfeebled, or stupefied condition by 1.",heightened:[{level:4,effect:"You can remove or reduce two conditions instead of one"}]},{id:"silence",name:"Silence",level:2,tradition:["divine"],traits:["Illusion"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 minute",description:"The target radiates an aura of silence in a 10-foot emanation. All sound is suppressed within the area. Creatures can't use sonic attacks, speak, or cast spells with verbal components while in the area.",heightened:[{level:4,effect:"Duration increases to 10 minutes"}]},{id:"sound-burst",name:"Sound Burst",level:2,tradition:["divine"],traits:["Evocation","Sonic"],castTime:"2 actions",range:"30 feet",area:"10-foot burst",duration:"instant",savingThrow:"Fortitude",description:"A cacophonous blast of sound assaults creatures in the area. Creatures in the area take 2d10 sonic damage with a basic Fortitude save. On a critical failure, a creature is also stunned 1.",heightened:[{level:3,effect:"Damage increases by 1d10"}]},{id:"spiritual-weapon",name:"Spiritual Weapon",level:2,tradition:["divine"],traits:["Evocation","Force"],castTime:"2 actions",range:"120 feet",duration:"sustained up to 1 minute",description:"A weapon made of pure force appears and attacks foes at your command. When you cast the spell and each time you Sustain it, you can make a melee spell attack against a creature within 120 feet, dealing 1d8 + your spellcasting ability modifier force damage on a hit.",heightened:[{level:3,effect:"Damage increases by 1d8"}]},{id:"status",name:"Status",level:2,tradition:["divine"],traits:["Detection","Divination"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 day",description:"You create a magical link with the target. As long as you're on the same plane, you know the target's direction from you, its distance, and its current HP. You also sense when the target takes damage and when it dies.",heightened:[{level:4,effect:"You can target up to 4 creatures"}]},{id:"shield-other",name:"Shield Other",level:2,tradition:["divine"],traits:["Necromancy"],castTime:"2 actions",range:"30 feet",targets:"1 willing creature",duration:"10 minutes",description:"You forge a magical link between yourself and the target. Whenever the target takes damage, you take half of that damage and the target takes the other half. This lasts until the spell ends or you're unconscious.",heightened:[{level:5,effect:"Duration increases to 1 hour"}]},{id:"augury",name:"Augury",level:2,tradition:["divine"],traits:["Divination","Prediction"],castTime:"10 minutes",range:"self",duration:"instant",description:"You gain insight into the likely outcome of a course of action you plan to take within the next 30 minutes. The GM chooses from the following: weal (good results), woe (bad results), weal and woe (both), or nothing (no particularly good or bad results).",heightened:[{level:4,effect:"You can see up to 1 hour into the future"}]},{id:"remove-paralysis",name:"Remove Paralysis",level:2,tradition:["divine"],traits:["Healing","Necromancy"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"instant",description:"You remove the paralyzed condition from the target. You can also attempt to counteract effects that restrict the target's movement, such as being grabbed or restrained.",heightened:[{level:3,effect:"You can target up to 4 creatures"}]},{id:"blindness",name:"Blindness",level:3,tradition:["divine"],traits:["Incapacitation","Necromancy"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"varies",savingThrow:"Fortitude",description:"You curse the target with blindness. The target must attempt a Fortitude save. On a failure, the target is blinded for 1 minute. On a critical failure, the target is permanently blinded.",heightened:[{level:7,effect:"You can target up to 10 creatures"}]},{id:"circle-of-protection",name:"Circle of Protection",level:3,tradition:["divine"],traits:["Abjuration"],castTime:"3 actions",range:"touch",area:"10-foot emanation",duration:"1 minute",description:"You create a magical circle that wards against a chosen alignment. Choose good, evil, lawful, or chaotic when you cast. Creatures of the chosen alignment can't willingly enter the area. Attacks from such creatures against targets in the area take a -1 status penalty. Targets in the area gain a +1 status bonus to AC and saves against creatures of the chosen alignment.",heightened:[{level:4,effect:"Duration increases to 10 minutes"}]},{id:"crisis-of-faith",name:"Crisis of Faith",level:3,tradition:["divine"],traits:["Enchantment","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"varies",savingThrow:"Will",description:"You assault the target's faith, causing them to doubt their beliefs. The target must attempt a Will save. On a failure, the target is stupefied 1 for 1 minute and can't Cast Spells. On a critical failure, the target is stupefied 2 for 1 minute and can't Cast Spells.",heightened:[{level:5,effect:"Duration increases to 10 minutes"}]},{id:"heroism-divine-3",name:"Heroism",level:3,tradition:["divine"],traits:["Enchantment","Mental"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"You inspire the target with heroic confidence. The target gains a +2 status bonus to attack rolls, Perception checks, saving throws, and skill checks. The target also gains 10 temporary Hit Points.",heightened:[{level:5,effect:"Bonus increases to +3 and temporary HP increases to 15"}]},{id:"searing-light",name:"Searing Light",level:3,tradition:["divine"],traits:["Attack","Evocation","Fire","Light"],castTime:"2 actions",range:"120 feet",targets:"1 creature",duration:"instant",description:"A ray of burning light streaks toward your target. Make a ranged spell attack roll. On a success, you deal 5d6 fire damage. If the target is undead, you deal 5d8 fire damage instead. On a critical success, the target takes double damage.",heightened:[{level:4,effect:"Damage increases by 2d6 (or 2d8 against undead)"}]},{id:"sanctified-ground",name:"Sanctified Ground",level:3,tradition:["divine"],traits:["Abjuration"],castTime:"3 actions",range:"120 feet",area:"20-foot burst",duration:"1 minute",description:"You sanctify the area with divine power. Allies in the area gain a +1 status bonus to AC, saves, attack rolls, and damage rolls. Creatures opposed to your faith take a -1 status penalty to these rolls.",heightened:[{level:5,effect:"Duration increases to 10 minutes"}]},{id:"warding-sign",name:"Warding Sign",level:3,tradition:["divine"],traits:["Abjuration"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 minute",description:"You inscribe a protective sign upon the target. The target gains a +2 status bonus to AC and saves. When a creature damages the target with an attack, the attacker takes 2d6 spirit damage.",heightened:[{level:5,effect:"Bonus increases to +3 and damage to 3d6"}]},{id:"animate-dead",name:"Animate Dead",level:3,tradition:["divine"],traits:["Necromancy"],castTime:"3 actions",range:"30 feet",targets:"1 dead creature",duration:"sustained up to 1 minute",description:"You animate a skeleton or zombie from a dead creature. The undead has the statistics appropriate to its type and is under your control. The creature acts on your turn and follows your mental commands.",heightened:[{level:4,effect:"You can animate 2 dead creatures"}]},{id:"remove-disease",name:"Remove Disease",level:3,tradition:["divine"],traits:["Healing","Necromancy"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"instant",description:"You remove a disease affecting the target. Attempt a counteract check against the disease. On a success, you reduce the disease's stage by 1. On a critical success, you reduce the disease's stage by 2 or cure it if it's at stage 1.",heightened:[{level:5,effect:"Your counteract rank increases by 1"}]},{id:"zone-of-truth",name:"Zone of Truth",level:3,tradition:["divine"],traits:["Enchantment","Mental"],castTime:"2 actions",range:"30 feet",area:"20-foot burst",duration:"10 minutes",savingThrow:"Will",description:"You create a zone where creatures can't deliberately lie. Creatures in the area when you cast the spell and those who enter must attempt a Will save. On a failure, a creature can't speak deliberate lies and may choose to not speak rather than tell the truth.",heightened:[{level:5,effect:"Duration increases to 1 hour"}]}],pm={spells:fm},gm=[{id:"daze",name:"Daze",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip","Mental","Nonlethal"],castTime:"2 actions",range:"60 feet",targets:"1 creature",duration:"1 round",savingThrow:"Will",description:"You cloud the target's mind with a momentary mental overload, dealing mental damage and potentially stunning them. The target takes 1d6 mental damage with a basic Will save. If the target critically fails, it is also stunned 1.",heightened:[{level:"+1",effect:"The damage increases by 1d6."}]},{id:"message",name:"Message",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip","Auditory","Linguistic","Mental"],castTime:"1 action",range:"120 feet",targets:"1 creature",duration:"See text",description:"You mouth words quietly, but instead of coming out of your mouth, they're transferred directly to the ears of the target. The target hears the message in their mind, recognizing you as the sender. The spell doesn't have to follow a straight line and can travel around corners and barriers.",heightened:[{level:"3rd",effect:"The spell's range increases to 500 feet."}]},{id:"ghost-sound",name:"Ghost Sound",level:0,tradition:["arcane","occult"],traits:["Cantrip","Auditory","Illusion"],castTime:"2 actions",range:"30 feet",duration:"Sustained up to 1 minute",description:"You create an auditory illusion of simple sounds that emanate from a location of your choice. The sounds are no louder than four normal humans could produce. You can produce the sounds of multiple people talking, singing, walking, or almost any other sound a group could make.",heightened:[{level:"3rd",effect:"The range increases to 60 feet."},{level:"5th",effect:"The range increases to 120 feet."}]},{id:"telekinetic-projectile",name:"Telekinetic Projectile",level:0,tradition:["arcane","occult"],traits:["Cantrip","Attack","Force"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"Instantaneous",description:"You hurl a loose, unattended object within range at the target using telekinetic power. Make a ranged spell attack roll against the target. If you hit, you deal bludgeoning, piercing, or slashing damage equal to 1d6 plus your spellcasting ability modifier.",heightened:[{level:"+1",effect:"The damage increases by 1d6."}]},{id:"shield",name:"Shield",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip","Force"],castTime:"1 action",range:"Self",duration:"Until the start of your next turn",description:"You raise a magical shield of force. This counts as using the Raise a Shield action, giving you a +1 circumstance bonus to AC. While the spell is in effect, you can use the Shield Block reaction with your magic shield, which has Hardness 5.",heightened:[{level:"3rd",effect:"The shield has Hardness 10."},{level:"5th",effect:"The shield has Hardness 15."},{level:"7th",effect:"The shield has Hardness 20."}]},{id:"detect-magic",name:"Detect Magic",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip","Detection"],castTime:"2 actions",range:"30 feet",area:"30-foot emanation",duration:"Sustained",description:"You send out a pulse that registers the presence of magic within the area. You receive no information beyond the presence or absence of magic. You can choose to ignore magic you're fully aware of, such as the magic items you and your allies are wearing."},{id:"guidance",name:"Guidance",level:0,tradition:["divine","occult"],traits:["Cantrip"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"Until the start of your next turn",description:"You channel psychic energy or divine inspiration to grant the target a flash of insight. Once before the duration ends, the target can roll a d20 and add +1 to the result. The spell then ends. If the spell is used as part of an attack roll and the attack is a critical failure, the attack becomes a normal failure instead."},{id:"light",name:"Light",level:0,tradition:["arcane","divine","occult","primal"],traits:["Cantrip","Light"],castTime:"2 actions",range:"Touch",targets:"1 object of 1 Bulk or less",duration:"Until your next daily preparations",description:"The object glows, shedding bright light in a 20-foot radius like a torch. If you cast this spell again on a second object, the light spell on the first object ends.",heightened:[{level:"4th",effect:"The object sheds bright light in a 60-foot radius and dim light for the next 60 feet."}]},{id:"mage-hand",name:"Mage Hand",level:0,tradition:["arcane","occult"],traits:["Cantrip"],castTime:"2 actions",range:"30 feet",duration:"Sustained",description:"You create a floating, spectral hand that can manipulate objects at a distance. The hand can manipulate an object, open an unlocked door or container, stow or retrieve an item from an open container, or pour the contents from a vial. The hand can't use abilities that require a check or attack roll."},{id:"prestidigitation",name:"Prestidigitation",level:0,tradition:["arcane","occult"],traits:["Cantrip"],castTime:"2 actions",range:"10 feet",targets:"1 object",duration:"Sustained",description:"You perform a simple magical effect with a single gesture. You can color, clean, or soil items in a 1-foot cube each round. You can chill, warm, or flavor 1 pound of nonliving material. You can create a small, harmless sensory effect. You can lift and move up to 1 Bulk of objects."},{id:"read-aura",name:"Read Aura",level:0,tradition:["arcane","divine","occult"],traits:["Cantrip","Detection"],castTime:"1 minute",range:"30 feet",targets:"1 object",duration:"Instantaneous",description:"You focus on the target object, opening your mind to perceive magical auras. When the casting is complete, you learn whether that item is magical, and if it is, you learn the school of magic. You don't learn what the magic does, only its type."},{id:"sigil",name:"Sigil",level:0,tradition:["arcane","occult"],traits:["Cantrip"],castTime:"2 actions",range:"Touch",targets:"1 object",duration:"Unlimited",description:"You harmlessly place your unique magical sigil on an item. The mark can be visible or invisible, and you can change it from one state to the other with a touch as an Interact action. An invisible mark can be revealed by detect magic."},{id:"forbidding-ward",name:"Forbidding Ward",level:0,tradition:["divine","occult"],traits:["Cantrip","Abjuration"],castTime:"2 actions",range:"30 feet",targets:"1 ally",duration:"1 round",description:"You create a protective ward that deters enemies from attacking your ally. The target gains a +1 status bonus to AC and saves against creatures that are adjacent to them. This bonus increases to +3 against creatures attempting to attack the target using an unarmed attack."},{id:"void-warp",name:"Void Warp",level:0,tradition:["arcane","occult"],traits:["Cantrip","Attack","Void"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"Instantaneous",description:"You puncture the veil to the Void and draw out a weighted sphere of Void energy that you fling at the target. Make a ranged spell attack. On a hit, the target takes bludgeoning damage equal to 1d4 plus your spellcasting ability modifier.",heightened:[{level:"+1",effect:"The damage increases by 1d4."}]},{id:"telekinetic-hand",name:"Telekinetic Hand",level:0,tradition:["arcane","occult"],traits:["Cantrip"],castTime:"2 actions",range:"30 feet",duration:"Sustained",description:"You create an invisible telekinetic hand that can manipulate objects at a distance. The hand can hold up to 1 Bulk worth of objects, and you can use it to manipulate or move items within range. You can Sustain the spell to move the hand up to 20 feet and repeat one of its actions."},{id:"charm",name:"Charm",level:1,tradition:["occult"],traits:["Emotion","Incapacitation","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 hour",savingThrow:"Will",description:"To the target, your words are honey and your visage seems bathed in a dreamy haze. It must attempt a Will save, with a +4 circumstance bonus if you or your allies recently threatened or were hostile to it. The creature becomes friendly to you. If it was previously friendly, it becomes helpful. It can't take hostile actions against you.",heightened:[{level:"4th",effect:"The duration lasts until the next time you make your daily preparations."},{level:"8th",effect:"The duration is unlimited."}]},{id:"fear",name:"Fear",level:1,tradition:["arcane","divine","occult","primal"],traits:["Emotion","Fear","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"Varies",savingThrow:"Will",description:"You plant fear in the target's mind. The target becomes frightened based on the result of its Will save. Critical Success: The target is unaffected. Success: The target is frightened 1. Failure: The target is frightened 2. Critical Failure: The target is frightened 3 and fleeing for 1 round.",heightened:[{level:"3rd",effect:"You can target up to five creatures."}]},{id:"illusory-disguise",name:"Illusory Disguise",level:1,tradition:["arcane","occult"],traits:["Illusion","Visual"],castTime:"2 actions",range:"Self",duration:"10 minutes",description:"You create an illusion that causes you to appear as another creature of the same body shape and roughly similar height and weight as yourself. The disguise can make you appear as any creature of your general size and body shape, but the spell doesn't provide the abilities or mannerisms of the chosen form.",heightened:[{level:"2nd",effect:"The duration increases to 1 hour, and you can change the appearance as an action."},{level:"3rd",effect:"The duration increases to 24 hours."}]},{id:"illusory-object",name:"Illusory Object",level:1,tradition:["arcane","occult"],traits:["Illusion","Visual"],castTime:"2 actions",range:"500 feet",duration:"10 minutes",description:"You create an illusory visual image of a stationary object. The entire image must fit within the spell's range. The image can't create sound, light, smell, or any other sensory effect. The image looks realistic, but creatures that touch it pass through it.",heightened:[{level:"2nd",effect:"Your image makes appropriate sounds and has a scent and normal temperature. A creature that touches the image or uses the Seek action can attempt to disbelieve your illusion."},{level:"5th",effect:"As the 2nd-rank version, but the casting time becomes 1 minute and the spell has a duration of unlimited."}]},{id:"soothe",name:"Soothe",level:1,tradition:["occult"],traits:["Emotion","Healing","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 willing creature",duration:"1 minute",description:"You grace the target's mind, soothing away one mental effect. The target regains 1d10+4 Hit Points when you cast the spell and gains a +2 status bonus to saves against mental effects for the duration. You can remove a single effect imposing the frightened condition.",heightened:[{level:"+1",effect:"The amount of healing increases by 1d10+4."}]},{id:"sleep",name:"Sleep",level:1,tradition:["arcane","occult"],traits:["Incapacitation","Mental","Sleep"],castTime:"2 actions",range:"30 feet",area:"5-foot burst",duration:"1 minute",savingThrow:"Will",description:"Each creature in the area becomes drowsy and might fall asleep. A creature that falls unconscious from this spell awakens if it takes damage or if a creature uses an Interact action to shake it awake. Each creature in the area must attempt a Will save. Critical Success: The creature is unaffected. Success: The creature takes a -1 status penalty to Perception checks for 1 round. Failure: The creature falls unconscious. Critical Failure: The creature falls unconscious and doesn't attempt a flat check to wake up if it takes damage.",heightened:[{level:"4th",effect:"Creatures fall unconscious even on a success (but not a critical success), though they don't get the critical failure effect."}]},{id:"command",name:"Command",level:1,tradition:["arcane","divine","occult"],traits:["Auditory","Linguistic","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"Until the end of the target's next turn",savingThrow:"Will",description:"You shout a command that's hard to ignore. You can command the target to approach you, run away (fleeing from you), release what it's holding, drop prone, or stand in place. The target must attempt a Will save. Success: The target is unaffected. Failure: The target follows your command on its next turn. Critical Failure: The target follows your command and is stunned 1.",heightened:[{level:"5th",effect:"You can target up to 10 creatures."}]},{id:"phantom-pain",name:"Phantom Pain",level:1,tradition:["occult"],traits:["Mental","Nonlethal"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 minute",savingThrow:"Will",description:"You send a flash of painful mental anguish through the target's mind. The target takes 2d4 persistent mental damage and must attempt a Will save. Critical Success: The target is unaffected. Success: The target takes half the persistent damage. Failure: The target takes the full persistent damage. Critical Failure: The target takes double the persistent damage and is sickened 1.",heightened:[{level:"+1",effect:"The damage increases by 2d4."}]},{id:"mindlink",name:"Mindlink",level:1,tradition:["occult"],traits:["Detection","Mental"],castTime:"2 actions",range:"Touch",targets:"You and 1 willing creature",duration:"10 minutes",description:"You link your mind to the target's mind and can communicate telepathically. You can send and receive messages and images to each other mentally. While the spell is active, you can use a single action with the concentrate trait to share your current vision with your target, allowing them to see through your eyes.",heightened:[{level:"3rd",effect:"The target can be up to 1 mile away and the duration is 8 hours."},{level:"5th",effect:"The target can be anywhere on the same planet."}]},{id:"bane",name:"Bane",level:1,tradition:["divine","occult"],traits:["Mental"],castTime:"2 actions",range:"30 feet",targets:"Up to 5 creatures",duration:"1 minute",savingThrow:"Will",description:"You fill the targets with a curse that saps their courage and coordination. Each target must attempt a Will save. Critical Success: The target is unaffected. Success: The target takes a -1 status penalty to attack rolls for 1 round. Failure: The target takes a -1 status penalty to attack rolls for the duration. Critical Failure: The target takes a -2 status penalty to attack rolls for the duration."},{id:"bless",name:"Bless",level:1,tradition:["divine","occult"],traits:["Mental"],castTime:"2 actions",range:"30 feet",targets:"You and allies in range",duration:"1 minute",description:"Blessings from beyond fill your allies with the strength and confidence to fight. You and your allies in the area gain a +1 status bonus to attack rolls while within the area. Casting this spell heightens all of your other ongoing bless spells to the higher level."},{id:"true-strike",name:"True Strike",level:1,tradition:["arcane","occult"],traits:["Fortune"],castTime:"1 action",range:"Self",duration:"Until the end of your turn",description:"A glimpse into the future ensures your next blow strikes true. The next attack roll you make before the end of your turn gains a +1 status bonus and ignores the target's concealment. If the attack is successful, it deals an additional die of damage."},{id:"magic-missile",name:"Magic Missile",level:1,tradition:["arcane","occult"],traits:["Evocation","Force"],castTime:"1 to 3 actions",range:"120 feet",targets:"1 or more creatures",duration:"Instantaneous",description:"You send a dart of force streaking toward a creature that you can see. It automatically hits and deals 1d4+1 force damage. For each additional action you use when Casting the Spell, increase the number of missiles you shoot by one, to a maximum of three missiles for 3 actions.",heightened:[{level:"+2",effect:"You shoot one additional missile with each action spent."}]},{id:"sanctuary",name:"Sanctuary",level:1,tradition:["divine","occult"],traits:["Abjuration"],castTime:"2 actions",range:"Touch",targets:"1 creature",duration:"1 minute",description:"You ward a creature with protective energy that deters enemy attacks. Creatures attempting to attack the target must attempt a Will save each time. If they fail, they must choose a new target or lose the action. This can't prevent people from using area attacks or otherwise attacking in a way that might harm the target but doesn't specifically target them."},{id:"ventriloquism",name:"Ventriloquism",level:1,tradition:["arcane","occult"],traits:["Auditory","Illusion"],castTime:"2 actions",range:"60 feet",duration:"10 minutes",description:"Whenever you speak, you can make your voice appear to originate from any point within range. You can speak normally, whisper, shout, or even perfectly imitate someone else's voice. Anyone who hears the sound can attempt a Perception check against your spell DC to disbelieve the illusion.",heightened:[{level:"2nd",effect:"The duration increases to 1 hour."}]},{id:"color-spray",name:"Color Spray",level:1,tradition:["arcane","occult"],traits:["Incapacitation","Illusion","Visual"],castTime:"2 actions",range:"30 feet",area:"15-foot cone",duration:"1 to 3 rounds",savingThrow:"Will",description:"You unleash a dazzling spray of sparkling, multicolored light. Each creature in the area must attempt a Will save. Critical Success: The creature is unaffected. Success: The creature is dazzled for 1 round. Failure: The creature is stunned 1, blinded for 1 round, and dazzled for 1 minute. Critical Failure: The creature is stunned for 1 round and blinded for 1 minute."},{id:"grim-tendrils",name:"Grim Tendrils",level:1,tradition:["arcane","occult"],traits:["Void"],castTime:"2 actions",range:"30 feet",area:"Line",duration:"Instantaneous",savingThrow:"Fortitude",description:"Tendrils of darkness curl out from your fingers and race through the air. You deal 2d4 void damage and 1 persistent bleed damage to living creatures in the line. Each creature in the area must attempt a Fortitude save. Critical Success: The creature is unaffected. Success: The creature takes half damage. Failure: The creature takes full damage. Critical Failure: The creature takes double damage.",heightened:[{level:"+1",effect:"The damage increases by 2d4 and the persistent bleed damage by 1."}]},{id:"unseen-servant",name:"Unseen Servant",level:1,tradition:["arcane","occult"],traits:["Summoned"],castTime:"3 actions",range:"60 feet",duration:"Sustained",description:"You summon an invisible, shapeless force that performs simple tasks at your command. It can move up to 15 feet and use 2 Interact actions when you Sustain the Spell. It can't attack, use a skill check, or use any actions with the manipulate trait that require a creature. The servant can hold objects but not wield weapons."},{id:"noxious-vapors",name:"Noxious Vapors",level:1,tradition:["arcane","occult","primal"],traits:["Poison"],castTime:"2 actions",range:"30 feet",area:"10-foot burst",duration:"1 minute",savingThrow:"Fortitude",description:"You create a cloud of putrid mist. All creatures in the area when you cast the spell, creatures that enter the area, and creatures that end their turn in the area must attempt a Fortitude save. They take 1d6 poison damage on a failure or no damage on a success. The cloud provides concealment.",heightened:[{level:"+1",effect:"The damage increases by 1d6."}]},{id:"floating-disk",name:"Floating Disk",level:1,tradition:["arcane","occult"],traits:["Force"],castTime:"2 actions",range:"Self",duration:"8 hours",description:"You create a disk of magical force that floats just above the ground. The disk is 3 feet in diameter and follows you at a distance of 5 feet, unable to move more than 5 feet away from you. It can hold up to 5 Bulk of items. If you move more than 5 feet from the disk, the spell ends."},{id:"grease",name:"Grease",level:1,tradition:["arcane","occult"],traits:[],castTime:"2 actions",range:"30 feet",area:"Four contiguous 5-foot squares",duration:"1 minute",savingThrow:"Reflex",description:"You conjure grease in the target area, making it difficult terrain. Creatures entering the area or ending their turn in the area must attempt a Reflex save. On a failure, they fall prone. On a critical failure, they also take 1d6 bludgeoning damage."},{id:"magic-aura",name:"Magic Aura",level:1,tradition:["arcane","occult"],traits:["Illusion"],castTime:"1 minute",range:"Touch",targets:"1 object of 5 Bulk or less",duration:"Until your next daily preparations",description:"You alter the appearance of an item's magic aura. You can make a magical item seem nonmagical, make a nonmagical item seem magical, or change the magic school an item's aura belongs to. Any spell that detects magic works against the false aura instead of the true aura.",heightened:[{level:"3rd",effect:"You can target up to 10 objects, and the duration is 24 hours."}]},{id:"disguise-magic",name:"Disguise Magic",level:1,tradition:["arcane","occult"],traits:["Illusion"],castTime:"1 minute",range:"Touch",targets:"1 creature or object",duration:"Until your next daily preparations",description:"You shroud the target in an illusion that makes it appear nonmagical. The spell conceals magical auras from detection, making it hard for others to sense magic on the target. The target must attempt a Will save when someone uses a detection spell against it. On a success, the magic is hidden.",heightened:[{level:"2nd",effect:"The duration increases to 1 hour and you can target up to 10 creatures or objects."}]},{id:"magic-weapon",name:"Magic Weapon",level:1,tradition:["arcane","divine","occult"],traits:[],castTime:"2 actions",range:"Touch",targets:"1 non-magical weapon",duration:"1 minute",description:"You enhance a weapon with magical energy. The weapon becomes a +1 striking weapon, gaining a +1 item bonus to attack rolls and increasing the number of weapon damage dice to two.",heightened:[{level:"3rd",effect:"The weapon becomes a +2 striking weapon."},{level:"5th",effect:"The weapon becomes a +3 striking weapon."}]},{id:"share-lore",name:"Share Lore",level:1,tradition:["occult"],traits:["Mental"],castTime:"1 minute",range:"Touch",targets:"1 willing creature",duration:"10 minutes",description:"You share your knowledge with the target, imparting information about a particular subject. For the duration, the target can use your proficiency bonus for one Lore skill of your choice instead of their own. This doesn't grant them any special knowledge, only your trained insight."},{id:"enfeeble",name:"Enfeeble",level:1,tradition:["arcane","occult"],traits:["Void"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"Varies",savingThrow:"Fortitude",description:"You sap the target's strength with void energy. The target becomes enfeebled based on its Fortitude save. Critical Success: The target is unaffected. Success: The target is enfeebled 1 for 1 round. Failure: The target is enfeebled 2 for 1 minute. Critical Failure: The target is enfeebled 3 for 1 minute.",heightened:[{level:"6th",effect:"The enfeebled condition increases by 1 for each degree of success."}]},{id:"hideous-laughter",name:"Hideous Laughter",level:2,tradition:["occult"],traits:["Enchantment","Emotion","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"sustained up to 1 minute",savingThrow:"Will",description:"The target is overwhelmed with uncontrollable laughter. On a failed Will save, the target is slowed 1 and can't use reactions. On a critical failure, the target also falls prone and can't stand up while the spell lasts.",heightened:[{level:"4th",effect:"You can target up to 3 creatures"}]},{id:"illusory-creature",name:"Illusory Creature",level:2,tradition:["occult"],traits:["Illusion","Visual"],castTime:"2 actions",range:"500 feet",duration:"sustained up to 1 minute",description:"You create an illusory image of a Large or smaller creature. The creature acts on your turn and can move up to its Speed. It can make gestures and sounds appropriate to its form, but it can't attack. Physical interaction reveals it as an illusion.",heightened:[{level:"3rd",effect:"The creature can be Huge or smaller"}]},{id:"invisibility-occult",name:"Invisibility",level:2,tradition:["occult"],traits:["Illusion"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"The target becomes invisible. This makes it undetected to all creatures, though it can still be heard and felt. The spell ends if the target uses a hostile action.",heightened:[{level:"4th",effect:"The spell lasts 1 minute and doesn't end if the target uses a hostile action"}]},{id:"mirror-image-occult",name:"Mirror Image",level:2,tradition:["occult"],traits:["Illusion","Visual"],castTime:"2 actions",range:"self",duration:"1 minute",description:"Three illusory duplicates of you appear in your space. When a creature targets you with an attack, randomly determine whether it attacks you or one of your images. If it attacks an image, the image is destroyed. The spell ends when all images are destroyed.",heightened:[{level:"5th",effect:"The number of images increases to 5"}]},{id:"paranoia",name:"Paranoia",level:2,tradition:["occult"],traits:["Illusion","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 minute",savingThrow:"Will",description:"You make the target believe everyone is out to get them. On a failed save, the target becomes suspicious of all other creatures and treats them as unfriendly. The target takes a -2 status penalty to Perception checks and can't use Aid actions.",heightened:[{level:"4th",effect:"Duration increases to 10 minutes"}]},{id:"phantom-steed",name:"Phantom Steed",level:2,tradition:["occult"],traits:["Conjuration"],castTime:"10 minutes",range:"30 feet",duration:"8 hours",description:"You conjure a Large, magical horse that serves as a mount. The steed has a Speed of 40 feet, AC 18, and 10 Hit Points. It can't attack but can serve as a reliable mount and carry up to 2 Bulk of cargo.",heightened:[{level:"4th",effect:"The steed's Speed increases to 60 feet and it gains a +2 bonus to all defenses"}]},{id:"see-invisibility",name:"See Invisibility",level:2,tradition:["occult"],traits:["Divination"],castTime:"2 actions",range:"self",duration:"10 minutes",description:"You can see invisible creatures and objects. They appear to you as translucent shapes, and you can target them normally. This doesn't let you see through solid objects or reveal illusions.",heightened:[{level:"5th",effect:"Duration increases to 8 hours"}]},{id:"touch-of-idiocy",name:"Touch of Idiocy",level:2,tradition:["occult"],traits:["Enchantment","Mental"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",savingThrow:"Will",description:"You cloud the target's mind. On a failed Will save, the target becomes stupefied 2. On a critical failure, the target is stupefied 3 and also slowed 1 for the duration.",heightened:[{level:"4th",effect:"Duration increases to 10 minutes"}]},{id:"blur-occult",name:"Blur",level:2,tradition:["occult"],traits:["Illusion","Visual"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"The target's form appears blurred and indistinct. Attacks against the target have a 20% miss chance, and the target has concealment against all attacks. This doesn't stack with other sources of concealment.",heightened:[{level:"4th",effect:"Duration increases to 10 minutes"}]},{id:"comprehend-language",name:"Comprehend Language",level:2,tradition:["occult"],traits:["Divination"],castTime:"2 actions",range:"self",duration:"1 hour",description:"You gain the ability to understand any spoken or written language. This doesn't let you speak the language, only comprehend it. You can read magical writing with a successful Perception check against the spell's DC.",heightened:[{level:"4th",effect:"Duration increases to 8 hours and you can also speak all languages you comprehend"}]},{id:"dream-message",name:"Dream Message",level:3,tradition:["occult"],traits:["Illusion","Mental"],castTime:"10 minutes",range:"planetary",targets:"1 sleeping creature",duration:"instant",description:"You send a message to a sleeping creature through their dreams. The message can be up to 1 minute long. The target remembers the dream upon waking. If the target isn't asleep when you cast this, the spell has no effect.",heightened:[{level:5,effect:"The message can be up to 10 minutes long"}]},{id:"hypnotic-pattern",name:"Hypnotic Pattern",level:3,tradition:["occult"],traits:["Illusion","Visual"],castTime:"2 actions",range:"120 feet",area:"10-foot burst",duration:"sustained up to 1 minute",savingThrow:"Will",description:"You create a swirling pattern of colors in the air. Creatures in the area must attempt a Will save. On a failure, they're fascinated for the duration and can't use hostile actions. On a critical failure, they're also stunned 1.",heightened:[{level:5,effect:"Area increases to 20-foot burst"}]},{id:"levitate",name:"Levitate",level:3,tradition:["occult"],traits:["Evocation"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"5 minutes",description:"The target can float up and down at will, gaining a fly Speed of 20 feet. The target can only move up or down, not horizontally, unless it pushes off a surface.",heightened:[{level:5,effect:"Duration increases to 10 minutes"}]},{id:"mind-reading",name:"Mind Reading",level:3,tradition:["occult"],traits:["Detection","Divination","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 round or sustained up to 1 minute",savingThrow:"Will",description:"You read the target's surface thoughts. On a failed Will save, you can read the target's current thoughts. Each time you Sustain the spell, you can choose to probe deeper, learning about the target's memories and deeper thoughts. The target becomes aware of the intrusion if you probe deeper.",heightened:[{level:5,effect:"Range increases to 60 feet"}]},{id:"paralyze",name:"Paralyze",level:3,tradition:["occult"],traits:["Enchantment","Incapacitation","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"varies",savingThrow:"Will",description:"You paralyze the target with mental power. The target must attempt a Will save. On a failure, the target is paralyzed for 1 round. On a critical failure, the target is paralyzed for 4 rounds.",heightened:[{level:7,effect:"You can target up to 10 creatures"}]},{id:"vampiric-touch-occult",name:"Vampiric Touch",level:3,tradition:["occult"],traits:["Death","Necromancy","Negative"],castTime:"2 actions",range:"touch",targets:"1 living creature",duration:"instant",description:"Your touch leeches the lifeblood out of a target. Make a melee spell attack roll. On a success, the target takes 6d6 negative damage and you gain temporary Hit Points equal to half the damage dealt. On a critical success, the target takes double damage and you gain temporary HP equal to the damage dealt.",heightened:[{level:4,effect:"Damage increases by 2d6"}]},{id:"slow-occult",name:"Slow",level:3,tradition:["occult"],traits:["Transmutation"],castTime:"2 actions",range:"30 feet",targets:"up to 5 creatures",duration:"1 minute",savingThrow:"Fortitude",description:"You cause time to flow more slowly for your enemies. Targets must attempt a Fortitude save. On a failure, the target is slowed 1 for the duration. On a critical failure, the target is slowed 2 for the duration.",heightened:[{level:6,effect:"You can target up to 10 creatures"}]},{id:"haste-occult",name:"Haste",level:3,tradition:["occult"],traits:["Transmutation"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 minute",description:"Magic empowers the target to act faster. The target is quickened and can use the extra action to Stride or Strike.",heightened:[{level:6,effect:"You can target up to 5 creatures"}]},{id:"clairaudience-occult",name:"Clairaudience",level:3,tradition:["occult"],traits:["Divination","Scrying"],castTime:"2 actions",range:"500 feet",duration:"10 minutes",description:"You create an invisible floating ear at a location within range. You can hear through this ear as if you were there. You can use an action to move the ear up to 20 feet.",heightened:[{level:5,effect:"Duration increases to 1 hour"}]},{id:"heroism-occult-3",name:"Heroism",level:3,tradition:["occult"],traits:["Enchantment","Mental"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"You inspire the target with heroic confidence. The target gains a +2 status bonus to attack rolls, Perception checks, saving throws, and skill checks. The target also gains 10 temporary Hit Points.",heightened:[{level:5,effect:"Bonus increases to +3 and temporary HP increases to 15"}]}],ym={spells:gm},vm=[{id:"produce-flame",name:"Produce Flame",level:0,tradition:["primal"],traits:["Attack","Cantrip","Concentrate","Fire","Manipulate"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"varies",description:"A small ball of flame appears in the palm of your hand, and you lash out with it either in melee or at range. Make a spell attack roll against your target's AC. This is normally a ranged attack, but you can also make a melee attack against a creature in your reach. On a success, you deal 1d4 fire damage plus your spellcasting ability modifier. On a critical success, the target takes double damage and 1d4 persistent fire damage.",heightened:[{level:3,effect:"The initial damage increases by 1d4, and the persistent damage on a critical hit increases by 1d4"},{level:5,effect:"The initial damage increases by 2d4, and the persistent damage on a critical hit increases by 2d4"},{level:7,effect:"The initial damage increases by 3d4, and the persistent damage on a critical hit increases by 3d4"},{level:9,effect:"The initial damage increases by 4d4, and the persistent damage on a critical hit increases by 4d4"}]},{id:"tanglefoot",name:"Tanglefoot",level:0,tradition:["primal"],traits:["Attack","Cantrip","Concentrate","Manipulate","Plant"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"1 round",description:"A vine covered in sticky sap appears from thin air, flicking from your hand and lashing itself to the target. Make a spell attack roll against the target's AC. On a success, the target takes a -10-foot status penalty to its Speeds for 1 round. On a critical success, the target is also immobilized for 1 round unless it Escapes.",heightened:[{level:2,effect:"The effects last for 2 rounds"}]},{id:"electric-arc",name:"Electric Arc",level:0,tradition:["primal"],traits:["Cantrip","Concentrate","Electricity","Manipulate"],castTime:"2 actions",range:"30 feet",targets:"1 or 2 creatures",savingThrow:"basic Reflex",duration:"instantaneous",description:"An arc of lightning leaps from your hand. It deals 1d4 electricity damage to each target, with a basic Reflex save. On a critical failure, the target also takes 1 persistent electricity damage.",heightened:[{level:3,effect:"The damage increases by 1d4"},{level:5,effect:"The damage increases by 2d4"},{level:7,effect:"The damage increases by 3d4"},{level:9,effect:"The damage increases by 4d4"}]},{id:"ray-of-frost",name:"Ray of Frost",level:0,tradition:["primal"],traits:["Attack","Cantrip","Cold","Concentrate","Manipulate"],castTime:"2 actions",range:"120 feet",targets:"1 creature",duration:"instantaneous",description:"You blast an icy ray. Make a spell attack roll. The ray deals cold damage equal to 1d4 plus your spellcasting ability modifier. On a critical success, the target takes double damage and takes a -10-foot status penalty to its Speeds for 1 round.",heightened:[{level:3,effect:"The damage increases by 1d4"},{level:5,effect:"The damage increases by 2d4"},{level:7,effect:"The damage increases by 3d4"},{level:9,effect:"The damage increases by 4d4"}]},{id:"light",name:"Light",level:0,tradition:["primal"],traits:["Cantrip","Concentrate","Light","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 object",duration:"until your next daily preparations",description:"The object glows, casting bright light in a 20-foot radius (and dim light for the next 20 feet). The effect looks like a regular flame but creates no heat and doesn't consume oxygen. You can Dismiss the spell. If you cast this spell again, any previous castings end.",heightened:[{level:4,effect:"The radius of bright light increases to 60 feet (and dim light for the next 60 feet)"}]},{id:"detect-magic",name:"Detect Magic",level:0,tradition:["primal"],traits:["Cantrip","Concentrate","Detection","Manipulate"],castTime:"2 actions",range:"30 feet",area:"30-foot emanation",duration:"sustained",description:"You send out a pulse that registers the presence of magic. You receive no information beyond the presence or absence of magic. You can choose to ignore magic you're fully aware of, such as the magic items and ongoing spells of you and your allies. You detect illusion magic only if that magic's effect has a lower rank than the rank of your detect magic spell. However, items that have an illusion aura but aren't deceptive in appearance, like an invisibility potion, typically are detected normally.",heightened:[{level:3,effect:"You learn the rank or level of the most powerful magical effect the spell detects"},{level:4,effect:"As 3rd rank, plus you can Dismiss the spell to gain the benefits of a Read Aura spell that is also heightened to 4th rank"}]},{id:"know-the-way",name:"Know the Way",level:0,tradition:["primal"],traits:["Cantrip","Concentrate","Detection","Manipulate"],castTime:"2 actions",range:"personal",duration:"instantaneous",description:"You gain an intuitive sense of the cardinal directions, as well as which direction you're facing. If you're in an environment that doesn't have traditional cardinal directions, such as a plane with different geography or on a sphere, you instead gain an intuitive sense of the underlying magical directions.",heightened:[]},{id:"stabilize",name:"Stabilize",level:0,tradition:["primal"],traits:["Cantrip","Concentrate","Healing","Manipulate","Vitality"],castTime:"2 actions",range:"30 feet",targets:"1 dying creature",duration:"instantaneous",description:"Vital energy flows into the target creature, stabilizing it. The target loses the dying condition, though it remains unconscious at 0 Hit Points.",heightened:[]},{id:"acid-splash",name:"Acid Splash",level:0,tradition:["primal"],traits:["Acid","Attack","Cantrip","Concentrate","Manipulate"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"instantaneous",description:"You splash a glob of acid that splatters your target and nearby creatures. Make a spell attack roll. On a success, you deal 1d6 acid damage plus your spellcasting ability modifier to the target, and the target takes 1 persistent acid damage. On a critical success, the target takes double initial damage and 2 persistent acid damage, and the splash damage is equal to your spellcasting ability modifier.",heightened:[{level:3,effect:"The initial damage increases by 1d6 and the persistent damage increases by 1"},{level:5,effect:"The initial damage increases by 2d6 and the persistent damage increases by 2"},{level:7,effect:"The initial damage increases by 3d6 and the persistent damage increases by 3"},{level:9,effect:"The initial damage increases by 4d6 and the persistent damage increases by 4"}]},{id:"gouging-claw",name:"Gouging Claw",level:0,tradition:["primal"],traits:["Attack","Cantrip","Concentrate","Manipulate","Morph"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"You temporarily morph your limb into a clawed appendage. Make a melee spell attack roll against your target's AC. On a success, you deal 1d6 slashing damage plus your spellcasting ability modifier. On a critical success, you deal double damage plus 1d4 persistent bleed damage. The spell ends after you make the attack or the duration expires, whichever comes first.",heightened:[{level:3,effect:"The damage increases by 1d6, and the persistent bleed damage on a critical hit increases by 1d4"},{level:5,effect:"The damage increases by 2d6, and the persistent bleed damage on a critical hit increases by 2d4"},{level:7,effect:"The damage increases by 3d6, and the persistent bleed damage on a critical hit increases by 3d4"},{level:9,effect:"The damage increases by 4d6, and the persistent bleed damage on a critical hit increases by 4d4"}]},{id:"sigil",name:"Sigil",level:0,tradition:["primal"],traits:["Cantrip","Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature or object",duration:"unlimited",description:"You harmlessly place your unique magical sigil, which is about 1 square inch in size, on the targeted creature or object. The mark can be visible or invisible, and you can change it from one state to another by using an Interact action to touch the target. The mark can be scrubbed or scraped off with 5 minutes of work. If it's on a creature, it fades naturally over the course of a week.",heightened:[]},{id:"vitality-lash",name:"Vitality Lash",level:0,tradition:["primal"],traits:["Attack","Cantrip","Concentrate","Manipulate","Vitality"],castTime:"2 actions",range:"30 feet",targets:"1 undead creature",duration:"instantaneous",description:"You unleash a lance of vitality that damages undead creatures. Make a spell attack roll against the target's AC. On a success, the target takes 1d4 vitality damage plus your spellcasting ability modifier. On a critical success, the target takes double damage and becomes enfeebled 1 for 1 round.",heightened:[{level:3,effect:"The damage increases by 1d4"},{level:5,effect:"The damage increases by 2d4"},{level:7,effect:"The damage increases by 3d4"},{level:9,effect:"The damage increases by 4d4"}]},{id:"frostbite",name:"Frostbite",level:0,tradition:["primal"],traits:["Cantrip","Cold","Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature",savingThrow:"Fortitude",duration:"varies",description:"You cover the target in icy frost. The target takes 1d4 cold damage and must attempt a Fortitude save. On a critical success, nothing happens. On a success, the target takes half damage. On a failure, the target takes full damage and also takes a -5-foot status penalty to its Speeds for 1 round. On a critical failure, the target takes double damage and takes a -10-foot status penalty to its Speeds for 1 round.",heightened:[{level:3,effect:"The damage increases by 1d4"},{level:5,effect:"The damage increases by 2d4"},{level:7,effect:"The damage increases by 3d4"},{level:9,effect:"The damage increases by 4d4"}]},{id:"spout",name:"Spout",level:0,tradition:["primal"],traits:["Attack","Cantrip","Concentrate","Manipulate","Water"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"instantaneous",description:"Water blasts from your hand in a jet. Make a spell attack roll against the target. On a success, you deal 1d6 bludgeoning damage plus your spellcasting ability modifier, and you can push the target 5 feet away from you. On a critical success, you deal double damage and can push the target 10 feet away from you.",heightened:[{level:3,effect:"The damage increases by 1d6"},{level:5,effect:"The damage increases by 2d6"},{level:7,effect:"The damage increases by 3d6"},{level:9,effect:"The damage increases by 4d6"}]},{id:"heal",name:"Heal",level:1,tradition:["primal"],traits:["Concentrate","Healing","Manipulate","Vitality"],castTime:"1 to 3 actions",range:"varies",targets:"1 willing living creature or 1 undead creature",duration:"instantaneous",description:"You channel vitality into a living creature to heal its wounds. If the target is a willing living creature, you restore 1d8 Hit Points. If the target is undead, the target takes 1d8 vitality damage and must attempt a basic Fortitude save; if it fails, it also becomes enfeebled 1 for 1 round. The number of actions you spend when Casting this Spell determines its targets, range, area, and other parameters. 1 action: somatic, range touch. 2 actions: somatic and verbal, range 30 feet. 3 actions: somatic, verbal, and material; you disperse vitality in a 30-foot emanation. This heals all living creatures in the area for 1d8 Hit Points and damages all undead creatures in the area, following the same rules as the 1-action version.",heightened:[{level:2,effect:"The healing (or damage) increases by 1d8, or by 2d8 if you're using the 1-action version to heal the living"}]},{id:"shillelagh",name:"Shillelagh",level:1,tradition:["primal"],traits:["Concentrate","Manipulate","Plant"],castTime:"2 actions",range:"touch",targets:"1 non-magical club or staff you hold",duration:"1 minute",description:"You bring special favor upon a weapon. The target becomes a +1 striking weapon while the spell lasts, gaining a +1 item bonus to attack rolls and increasing the number of weapon damage dice to two. In addition, the weapon deals force damage instead of its normal damage type.",heightened:[{level:4,effect:"The item bonus increases to +2, and the weapon becomes a +2 greater striking weapon, increasing the weapon damage dice to three"}]},{id:"summon-animal",name:"Summon Animal",level:1,tradition:["primal"],traits:["Concentrate","Manipulate","Summon"],castTime:"3 actions",range:"30 feet",duration:"sustained up to 1 minute",description:"You conjure a natural animal to fight on your behalf. You summon a common creature that has the animal trait and whose rank is -1 to fight on your behalf. This creature appears in a space within range. When you Cast this Spell, choose eagle, guard dog, or viper. Your choice determines which animal you summon. The creature has 2 actions per turn and acts on your turn. Heightening the spell increases the maximum rank of creature you can summon.",heightened:[{level:2,effect:"Rank 1"},{level:3,effect:"Rank 2"},{level:4,effect:"Rank 3"},{level:5,effect:"Rank 5"},{level:6,effect:"Rank 7"},{level:7,effect:"Rank 9"},{level:8,effect:"Rank 11"},{level:9,effect:"Rank 13"},{level:10,effect:"Rank 15"}]},{id:"gust-of-wind",name:"Gust of Wind",level:1,tradition:["primal"],traits:["Air","Concentrate","Manipulate"],castTime:"2 actions",range:"60 feet",area:"60-foot line",savingThrow:"Fortitude",duration:"until the start of your next turn",description:"A violent wind issues forth from your palm, blowing from the point where you are when you cast the spell to the line's opposite end. The wind extinguishes small non-magical fires, disperses fog and mist, blows objects of light Bulk or less around, and pushes larger objects. Each Medium or smaller creature in the area must attempt a Fortitude save. On a critical success, the creature is unaffected. On a success, the creature is pushed 5 feet away from you. On a failure, the creature is pushed 10 feet away from you. On a critical failure, the creature is pushed 10 feet away from you and knocked prone.",heightened:[]},{id:"burning-hands",name:"Burning Hands",level:1,tradition:["primal"],traits:["Concentrate","Fire","Manipulate"],castTime:"2 actions",range:"15 feet",area:"15-foot cone",savingThrow:"basic Reflex",duration:"instantaneous",description:"Gouts of flame rush from your hands. You deal 2d6 fire damage to creatures in the area.",heightened:[{level:2,effect:"The damage increases by 2d6"}]},{id:"shocking-grasp",name:"Shocking Grasp",level:1,tradition:["primal"],traits:["Attack","Concentrate","Electricity","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"You shroud your hands in a crackling field of lightning. Make a melee spell attack roll against your target's AC. On a success, you deal 1d12 electricity damage plus your spellcasting ability modifier. On a critical success, the target takes double damage and is stunned 1. The spell ends after you make the attack or the duration expires, whichever comes first.",heightened:[{level:3,effect:"The damage increases by 1d12"}]},{id:"grease",name:"Grease",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"30 feet",area:"4 contiguous 5-foot squares",savingThrow:"Reflex",duration:"1 minute",description:"You conjure grease, making the area difficult terrain. Any creature in the area when you cast the spell or that enters the area must attempt a Reflex save. On a critical success, the creature is unaffected. On a success, the creature is unaffected but treats the area as difficult terrain. On a failure, the creature falls prone. On a critical failure, the creature falls prone and slides 10 feet in a random direction.",heightened:[]},{id:"magic-fang",name:"Magic Fang",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 minute",description:"Choose one of the target's unarmed attacks. You cause that unarmed attack to shine with primal energy. The unarmed attack becomes a +1 striking unarmed attack, gaining a +1 item bonus to attack rolls and increasing the number of damage dice to two.",heightened:[{level:4,effect:"The item bonus increases to +2, and the unarmed attack becomes a +2 greater striking unarmed attack, increasing the damage dice to three"},{level:7,effect:"The item bonus increases to +3, and the unarmed attack becomes a +3 major striking unarmed attack, increasing the damage dice to four"}]},{id:"pest-form",name:"Pest Form",level:1,tradition:["primal"],traits:["Concentrate","Manipulate","Polymorph"],castTime:"2 actions",range:"personal",duration:"10 minutes",description:"You transform into a Tiny animal that commonly lives in urban areas. Your gear is absorbed into your form; the constant abilities of your gear still function, but you can't activate any item abilities. When you transform, you gain the animal trait and you lose any trait that isn't appropriate for your new form. You can Dismiss the spell. You gain the effects of a 1st-rank pest form with the exceptions that you can choose the specific pest form and the statistics are as follows: AC 15, Speed 10 feet, Attack modifier +5 (bludgeoning, finesse), Damage 1, Hit Points based on your level.",heightened:[{level:4,effect:"You can turn into a flying pest like a bird or bat. You gain a fly Speed of 20 feet"}]},{id:"spider-sting",name:"Spider Sting",level:1,tradition:["primal"],traits:["Attack","Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature",savingThrow:"Fortitude",duration:"varies",description:"You magically duplicate a spider's venomous sting. Make a melee spell attack roll against the target. On a success, you deal 1d4 piercing damage plus your spellcasting ability modifier, and the target must attempt a Fortitude save against your spell DC. On a critical success, nothing happens. On a success, the target is unaffected. On a failure, the target takes 1d4 poison damage and becomes sickened 1. On a critical failure, the target takes 2d4 poison damage and becomes sickened 2.",heightened:[{level:3,effect:"The initial piercing damage increases by 1d4, and the poison damage on a failed save increases by 1d4 (or 2d4 on a critical failure)"}]},{id:"air-bubble",name:"Air Bubble",level:1,tradition:["primal"],traits:["Air","Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 minute",description:"A bubble of pure air appears around the target's head, allowing them to breathe normally in any environment. The bubble also grants the target a +1 circumstance bonus to saves against inhaled threats such as inhaled poisons and transmitted diseases.",heightened:[{level:3,effect:"The duration increases to 10 minutes"}]},{id:"ant-haul",name:"Ant Haul",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 minute",description:"You reinforce the target's musculoskeletal system to bear more weight. The target can carry 3 more Bulk than normal before becoming encumbered and up to a maximum of 6 more Bulk.",heightened:[{level:2,effect:"The duration increases to 10 minutes"},{level:4,effect:"The duration increases to 1 hour"}]},{id:"create-water",name:"Create Water",level:1,tradition:["primal"],traits:["Concentrate","Manipulate","Water"],castTime:"2 actions",range:"0 feet",duration:"instantaneous",description:"As you cup your hands, water begins to flow forth from them. You create 2 gallons of water. You can double the amount of water you create with each additional action you spend Casting the Spell (to a maximum of 8 gallons with 3 actions).",heightened:[{level:2,effect:"You create 10 gallons of water"}]},{id:"fear",name:"Fear",level:1,tradition:["primal"],traits:["Concentrate","Emotion","Fear","Manipulate","Mental"],castTime:"2 actions",range:"30 feet",targets:"1 creature",savingThrow:"Will",duration:"varies",description:"You plant fear in the target's mind. The target must attempt a Will save. On a critical success, nothing happens. On a success, the target is frightened 1. On a failure, the target is frightened 2. On a critical failure, the target is frightened 3 and fleeing for 1 round.",heightened:[{level:3,effect:"You can target up to 5 creatures"}]},{id:"fleet-step",name:"Fleet Step",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 minute",description:"You call upon primal energy to accelerate a creature. The target gains a +30-foot status bonus to all its Speeds for the duration. This bonus increases to +40 feet if the target is wearing light armor or no armor.",heightened:[]},{id:"jump",name:"Jump",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 minute",description:"The target creature gains a +10-foot status bonus to its jump distance for High Jumps or Long Jumps. This bonus increases to +20 feet for a vertical Leap and a +15-foot status bonus to its jump distance for a Leap horizontal distance.",heightened:[{level:3,effect:"The duration increases to 10 minutes"}]},{id:"longstrider",name:"Longstrider",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"1 hour",description:"You lengthen your stride and quicken your pace. The target gains a +10-foot status bonus to its Speeds.",heightened:[{level:2,effect:"The duration increases to 8 hours"}]},{id:"negate-aroma",name:"Negate Aroma",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"1 hour",description:"You erode the olfactory divulgence of a creature, preventing it from being tracked by scent. The target creature doesn't produce an odor that can be tracked by scent, though creatures can still smell the target if they're adjacent to it. You also make the target harder to track, imposing a -4 circumstance penalty to Survival checks to Track the target.",heightened:[]},{id:"pass-without-trace",name:"Pass Without Trace",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"up to 5 creatures",duration:"1 hour",description:"You obscure the tracks and other physical evidence of the targets' passage, making it harder for others to track them. The targets' tracks and traces of their passage are hidden, and they gain a +4 circumstance bonus to Stealth checks to Hide and Sneak and to Survival checks to Cover Tracks. This spell doesn't prevent witnesses from noticing the targets.",heightened:[{level:2,effect:"The duration increases to 8 hours"}]},{id:"protector-tree",name:"Protector Tree",level:1,tradition:["primal"],traits:["Concentrate","Manipulate","Plant"],castTime:"2 actions",range:"touch",targets:"1 Large tree",duration:"5 minutes",description:"You animate a Large tree to fight on your behalf. The tree has the statistics of a wooden guardian. It has 2 actions per turn, which it uses when you Sustain the spell. The tree protects creatures you designate within its reach.",heightened:[]},{id:"purify-food-and-drink",name:"Purify Food and Drink",level:1,tradition:["primal"],traits:["Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 cubic foot of contaminated food or water",duration:"instantaneous",description:"You remove toxins and contamination from food and drink, making them safe to consume. This spell doesn't prevent future contamination, and it can counteract only toxins, diseases, and other contaminants, not inherently inedible or poisonous plants or creatures.",heightened:[]},{id:"snowball",name:"Snowball",level:1,tradition:["primal"],traits:["Attack","Cold","Concentrate","Manipulate","Water"],castTime:"2 actions",range:"30 feet",targets:"1 creature",duration:"instantaneous",description:"You throw a magically propelled and chilled ball of dense snow. Make a spell attack roll against the target. On a success, you deal 2d4 cold damage plus your spellcasting ability modifier. On a critical success, the target takes double damage and a -10-foot status penalty to its Speeds for 1 round.",heightened:[{level:3,effect:"The damage increases by 2d4"}]},{id:"tailwind",name:"Tailwind",level:1,tradition:["primal"],traits:["Air","Concentrate","Manipulate"],castTime:"2 actions",range:"touch",targets:"up to 5 willing creatures",duration:"8 hours",description:"A warm breeze follows at the target's back. The targets gain a +10-foot status bonus to their land Speed. When any of the targets flies using their own fly Speed (but not via flying items or spells), they gain a +20-foot status bonus to their fly Speed.",heightened:[]},{id:"goblin-pox",name:"Goblin Pox",level:1,tradition:["primal"],traits:["Concentrate","Disease","Manipulate"],castTime:"2 actions",range:"touch",targets:"1 creature",savingThrow:"Fortitude",duration:"varies",description:"You afflict the target with a disease that quickly causes them to break out in uncomfortable hives. The target must attempt a Fortitude save. On a critical success, the target is unaffected. On a success, the target is sickened 1. On a failure, the target is afflicted with goblin pox at stage 1. On a critical failure, the target is afflicted with goblin pox at stage 2.",heightened:[]},{id:"mud-pit",name:"Mud Pit",level:1,tradition:["primal"],traits:["Concentrate","Earth","Manipulate"],castTime:"3 actions",range:"120 feet",area:"20-foot burst",savingThrow:"Reflex",duration:"1 minute",description:"You cause the ground to become sodden and muddy, making it difficult terrain. Each creature in the area when you cast the spell or that enters the area must attempt a Reflex save. On a critical success, the creature is unaffected. On a success, the creature treats the area as difficult terrain. On a failure, the creature sinks into the mud and is immobilized until it Escapes. On a critical failure, the creature is also prone.",heightened:[]},{id:"pummeling-rubble",name:"Pummeling Rubble",level:1,tradition:["primal"],traits:["Attack","Concentrate","Earth","Manipulate"],castTime:"2 actions",range:"60 feet",targets:"1 creature",duration:"instantaneous",description:"A spray of heavy rocks flies through the air in front of you. Make a spell attack roll against the target. On a success, you deal 2d6 bludgeoning damage plus your spellcasting ability modifier. On a critical success, the target takes double damage and is pushed 10 feet away from you.",heightened:[{level:3,effect:"The damage increases by 2d6"}]},{id:"barkskin",name:"Barkskin",level:2,tradition:["primal"],traits:["Abjuration","Plant"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"10 minutes",description:"The target's skin becomes as tough as bark. The target gains a +2 status bonus to AC and gains resistance 2 to bludgeoning and piercing damage.",heightened:[{level:4,effect:"AC bonus increases to +3 and resistance increases to 5"}]},{id:"enlarge-primal",name:"Enlarge",level:2,tradition:["primal"],traits:["Polymorph","Transmutation"],castTime:"2 actions",range:"30 feet",targets:"1 willing creature",duration:"5 minutes",description:"The target grows to Large size. It gains a +2 status bonus to melee damage, a +10-foot status bonus to Speed, and is clumsy 1. The creature takes a -2 status penalty to AC and Reflex saves.",heightened:[{level:4,effect:"The target can grow to Huge size instead"}]},{id:"flaming-sphere-primal",name:"Flaming Sphere",level:2,tradition:["primal"],traits:["Evocation","Fire"],castTime:"2 actions",range:"30 feet",duration:"sustained up to 1 minute",savingThrow:"Reflex",description:"You create a 5-foot-diameter sphere of fire that rolls where you direct it. Each creature in the sphere's space takes 3d6 fire damage with a basic Reflex save. You can Sustain the spell to move the sphere up to 30 feet.",heightened:[{level:3,effect:"Damage increases by 1d6"}]},{id:"resist-energy-primal",name:"Resist Energy",level:2,tradition:["primal"],traits:["Abjuration"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"Choose acid, cold, electricity, fire, or sonic when you cast this spell. The target gains resistance 5 against damage of the chosen type.",heightened:[{level:4,effect:"Resistance increases to 10"},{level:7,effect:"Resistance increases to 15"}]},{id:"spider-climb",name:"Spider Climb",level:2,tradition:["primal"],traits:["Transmutation"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"10 minutes",description:"The target gains a climb Speed equal to its land Speed and can move along vertical surfaces and upside down on ceilings. The target doesn't need to use its hands to climb.",heightened:[{level:5,effect:"Duration increases to 1 hour"}]},{id:"summon-animal-2",name:"Summon Animal",level:2,tradition:["primal"],traits:["Conjuration","Summon"],castTime:"3 actions",range:"30 feet",duration:"sustained up to 1 minute",description:"You conjure a natural animal to fight on your behalf. You summon a common creature that has the animal trait and whose rank is 1. This creature appears in a space within range and acts on your turn.",heightened:[{level:3,effect:"Summon a rank 2 animal"},{level:4,effect:"Summon a rank 3 animal"}]},{id:"tree-shape",name:"Tree Shape",level:2,tradition:["primal"],traits:["Plant","Polymorph","Transmutation"],castTime:"2 actions",range:"self",duration:"8 hours",description:"You transform into a Large tree. While in this form, you gain resistance 5 to physical damage and can use Seek and Perception. You can't move, attack, or cast spells. You can Dismiss the spell.",heightened:[{level:4,effect:"You can become a Huge tree, and resistance increases to 10"}]},{id:"water-breathing",name:"Water Breathing",level:2,tradition:["primal"],traits:["Transmutation","Water"],castTime:"1 minute",range:"30 feet",targets:"up to 5 willing creatures",duration:"1 hour",description:"The targets can breathe underwater. This doesn't grant the ability to breathe air if the creature can't normally do so.",heightened:[{level:3,effect:"Duration increases to 8 hours"}]},{id:"web-primal",name:"Web",level:2,tradition:["primal"],traits:["Conjuration"],castTime:"3 actions",range:"30 feet",area:"10-foot burst",duration:"1 minute",savingThrow:"Reflex",description:"You create a sticky mass of webbing that fills the area. Creatures in the area when you cast the spell or that enter the area must attempt a Reflex save. On a failure, they're immobilized until they Escape. The webs are difficult terrain.",heightened:[{level:4,effect:"Area increases to 20-foot burst"}]},{id:"animal-messenger",name:"Animal Messenger",level:2,tradition:["primal"],traits:["Enchantment","Mental"],castTime:"1 minute",range:"120 feet",targets:"1 Tiny animal",duration:"see text",description:"You compel a Tiny animal to carry a message to a location you specify. Describe the recipient or location in detail. The animal does its best to reach the location within 24 hours and waits up to 1 day for someone matching the description to approach.",heightened:[{level:3,effect:"You can target a Small animal"}]},{id:"earthbind",name:"Earthbind",level:3,tradition:["primal"],traits:["Transmutation"],castTime:"2 actions",range:"120 feet",targets:"1 flying creature",duration:"varies",savingThrow:"Fortitude",description:"You pull a flying creature down to earth. The target must attempt a Fortitude save. On a failure, the target falls 60 feet and can't Fly for 1 minute. On a critical failure, the target falls 120 feet and can't Fly for 1 minute.",heightened:[{level:5,effect:"Duration increases to 10 minutes"}]},{id:"lightning-storm",name:"Lightning Storm",level:3,tradition:["primal"],traits:["Electricity","Evocation"],castTime:"2 actions",range:"120 feet",area:"20-foot burst",duration:"instant",savingThrow:"basic Reflex",description:"You call down a localized lightning storm. Creatures in the area take 4d12 electricity damage with a basic Reflex save.",heightened:[{level:4,effect:"Damage increases by 1d12"}]},{id:"wall-of-thorns",name:"Wall of Thorns",level:3,tradition:["primal"],traits:["Conjuration","Plant"],castTime:"3 actions",range:"120 feet",duration:"1 minute",description:"You create a wall of writhing, thorny vines. The wall is up to 60 feet long, 10 feet high, and 5 feet thick. Creatures that pass through the wall take 3d8 piercing damage with a basic Reflex save. The wall provides standard cover.",heightened:[{level:5,effect:"Damage increases to 5d8"}]},{id:"wall-of-wind",name:"Wall of Wind",level:3,tradition:["primal"],traits:["Air","Evocation"],castTime:"3 actions",range:"120 feet",duration:"1 minute",description:"You create a wall of strong wind. The wall is up to 60 feet long, 20 feet high, and 5 feet thick. Ranged attacks can't pass through the wall. Creatures that move through the wall must succeed at a Fortitude save or be pushed back 10 feet. The wall disperses gas and fog.",heightened:[{level:5,effect:"Height increases to 30 feet"}]},{id:"meld-into-stone",name:"Meld into Stone",level:3,tradition:["primal"],traits:["Earth","Transmutation"],castTime:"2 actions",range:"touch",targets:"1 willing creature",duration:"10 minutes",description:"The target melds into a stone object large enough to hold them, such as a boulder or wall. While melded, the target can see and hear but can't move or take any actions. The target can end the effect early as a free action.",heightened:[{level:5,effect:"Duration increases to 1 hour"}]},{id:"neutralize-poison",name:"Neutralize Poison",level:3,tradition:["primal"],traits:["Healing","Necromancy"],castTime:"2 actions",range:"touch",targets:"1 creature",duration:"instant",description:"You remove poison from the target. Attempt a counteract check against each poison affecting the target. On a success, you reduce the poison's stage by 1. On a critical success, you reduce the poison's stage by 2 or cure it if it's at stage 1.",heightened:[{level:5,effect:"Your counteract rank increases by 1"}]},{id:"speak-with-plants",name:"Speak with Plants",level:3,tradition:["primal"],traits:["Divination","Plant"],castTime:"2 actions",range:"self",area:"30-foot emanation",duration:"10 minutes",description:"You can communicate with plants within the area. Plants can answer questions about recent events they've witnessed. Most plants have limited perspective and vocabulary. This doesn't make plants friendly or cooperative.",heightened:[{level:5,effect:"Area increases to 60-foot emanation"}]},{id:"summon-plant-or-fungus",name:"Summon Plant or Fungus",level:3,tradition:["primal"],traits:["Conjuration","Plant"],castTime:"3 actions",range:"30 feet",duration:"sustained up to 1 minute",description:"You conjure a plant or fungus creature to fight on your behalf. You summon a common creature with the plant or fungus trait whose level is 2. The creature appears in an unoccupied space within range, acts on your turn, and follows your mental commands.",heightened:[{level:4,effect:"Summon a level 3 plant or fungus"},{level:5,effect:"Summon a level 5 plant or fungus"}]},{id:"animal-vision",name:"Animal Vision",level:3,tradition:["primal"],traits:["Divination","Mental"],castTime:"1 minute",range:"120 feet",targets:"1 animal",duration:"1 hour",savingThrow:"Will",description:"You tap into an animal's senses, seeing and hearing what it experiences. The animal can attempt a Will save to resist. On a failure, you can see and hear through the animal's senses for the duration. You can switch between your senses and the animal's as a free action.",heightened:[{level:5,effect:"Duration increases to 8 hours and range increases to 1 mile"}]},{id:"insect-form",name:"Insect Form",level:3,tradition:["primal"],traits:["Polymorph","Transmutation"],castTime:"2 actions",range:"self",duration:"1 minute",description:"You transform into a Tiny insect. You gain a fly Speed of 25 feet, a +2 status bonus to AC, and a +10 status bonus to Stealth checks. You can fit through tiny gaps. Your attacks deal 2d4 damage. You can Dismiss the spell.",heightened:[{level:5,effect:"Duration increases to 10 minutes and fly Speed increases to 30 feet"}]}],xm={spells:vm},bm=[{id:"club",name:"Club",category:"simple",group:"club",damage:"1d6",damageType:"bludgeoning",traits:["thrown 10 ft."],hands:"1",bulk:"1",price:"0 gp"},{id:"dagger",name:"Dagger",category:"simple",group:"knife",damage:"1d4",damageType:"piercing",traits:["agile","finesse","thrown 10 ft.","versatile S"],hands:"1",bulk:"L",price:"2 sp"},{id:"gauntlet",name:"Gauntlet",category:"simple",group:"brawling",damage:"1d4",damageType:"bludgeoning",traits:["agile","free-hand"],hands:"1",bulk:"L",price:"2 sp"},{id:"light-mace",name:"Light Mace",category:"simple",group:"club",damage:"1d4",damageType:"bludgeoning",traits:["agile","finesse","shove"],hands:"1",bulk:"L",price:"4 sp"},{id:"longspear",name:"Longspear",category:"simple",group:"spear",damage:"1d8",damageType:"piercing",traits:["reach"],hands:"2",bulk:"2",price:"5 sp"},{id:"mace",name:"Mace",category:"simple",group:"club",damage:"1d6",damageType:"bludgeoning",traits:["shove"],hands:"1",bulk:"1",price:"1 gp"},{id:"morningstar",name:"Morningstar",category:"simple",group:"club",damage:"1d6",damageType:"bludgeoning",traits:["versatile P"],hands:"1",bulk:"1",price:"1 gp"},{id:"sickle",name:"Sickle",category:"simple",group:"knife",damage:"1d4",damageType:"slashing",traits:["agile","finesse","trip"],hands:"1",bulk:"L",price:"2 sp"},{id:"spear",name:"Spear",category:"simple",group:"spear",damage:"1d6",damageType:"piercing",traits:["thrown 20 ft."],hands:"1",bulk:"1",price:"1 sp"},{id:"staff",name:"Staff",category:"simple",group:"club",damage:"1d4",damageType:"bludgeoning",traits:["two-hand d8"],hands:"1",bulk:"1",price:"0 gp"},{id:"crossbow",name:"Crossbow",category:"simple",group:"bow",damage:"1d8",damageType:"piercing",traits:["reload 1"],range:120,reload:"1",hands:"2",bulk:"1",price:"3 gp"},{id:"dart",name:"Dart",category:"simple",group:"dart",damage:"1d4",damageType:"piercing",traits:["agile","thrown 20 ft."],range:20,hands:"1",bulk:"L",price:"1 cp"},{id:"hand-crossbow",name:"Hand Crossbow",category:"simple",group:"bow",damage:"1d6",damageType:"piercing",traits:["reload 1"],range:60,reload:"1",hands:"1",bulk:"L",price:"3 gp"},{id:"heavy-crossbow",name:"Heavy Crossbow",category:"simple",group:"bow",damage:"1d10",damageType:"piercing",traits:["reload 2"],range:120,reload:"2",hands:"2",bulk:"2",price:"4 gp"},{id:"javelin",name:"Javelin",category:"simple",group:"dart",damage:"1d6",damageType:"piercing",traits:["thrown 30 ft."],range:30,hands:"1",bulk:"L",price:"1 sp"},{id:"sling",name:"Sling",category:"simple",group:"sling",damage:"1d6",damageType:"bludgeoning",traits:["propulsive","reload 1"],range:50,reload:"1",hands:"1",bulk:"L",price:"0 gp"},{id:"bastard-sword",name:"Bastard Sword",category:"martial",group:"sword",damage:"1d8",damageType:"slashing",traits:["two-hand d12"],hands:"1",bulk:"1",price:"4 gp"},{id:"battle-axe",name:"Battle Axe",category:"martial",group:"axe",damage:"1d8",damageType:"slashing",traits:["sweep"],hands:"1",bulk:"1",price:"1 gp"},{id:"bo-staff",name:"Bo Staff",category:"martial",group:"club",damage:"1d8",damageType:"bludgeoning",traits:["monk","parry","reach","trip"],hands:"2",bulk:"2",price:"2 sp"},{id:"falchion",name:"Falchion",category:"martial",group:"sword",damage:"1d10",damageType:"slashing",traits:["forceful","sweep"],hands:"2",bulk:"2",price:"3 gp"},{id:"flail",name:"Flail",category:"martial",group:"flail",damage:"1d6",damageType:"bludgeoning",traits:["disarm","sweep","trip"],hands:"1",bulk:"1",price:"8 sp"},{id:"glaive",name:"Glaive",category:"martial",group:"polearm",damage:"1d8",damageType:"slashing",traits:["deadly d8","forceful","reach"],hands:"2",bulk:"2",price:"1 gp"},{id:"greataxe",name:"Greataxe",category:"martial",group:"axe",damage:"1d12",damageType:"slashing",traits:["sweep"],hands:"2",bulk:"2",price:"2 gp"},{id:"greatclub",name:"Greatclub",category:"martial",group:"club",damage:"1d10",damageType:"bludgeoning",traits:["backswing","shove"],hands:"2",bulk:"2",price:"1 gp"},{id:"greatpick",name:"Greatpick",category:"martial",group:"pick",damage:"1d10",damageType:"piercing",traits:["fatal d12"],hands:"2",bulk:"2",price:"1 gp"},{id:"greatsword",name:"Greatsword",category:"martial",group:"sword",damage:"1d12",damageType:"slashing",traits:["versatile P"],hands:"2",bulk:"2",price:"2 gp"},{id:"guisarme",name:"Guisarme",category:"martial",group:"polearm",damage:"1d10",damageType:"slashing",traits:["reach","trip"],hands:"2",bulk:"2",price:"2 gp"},{id:"halberd",name:"Halberd",category:"martial",group:"polearm",damage:"1d10",damageType:"piercing",traits:["reach","versatile S"],hands:"2",bulk:"2",price:"2 gp"},{id:"hatchet",name:"Hatchet",category:"martial",group:"axe",damage:"1d6",damageType:"slashing",traits:["agile","sweep","thrown 10 ft."],hands:"1",bulk:"L",price:"4 sp"},{id:"lance",name:"Lance",category:"martial",group:"spear",damage:"1d8",damageType:"piercing",traits:["deadly d8","jousting d6","reach"],hands:"2",bulk:"2",price:"1 gp"},{id:"light-hammer",name:"Light Hammer",category:"martial",group:"hammer",damage:"1d6",damageType:"bludgeoning",traits:["agile","thrown 20 ft."],hands:"1",bulk:"L",price:"3 sp"},{id:"light-pick",name:"Light Pick",category:"martial",group:"pick",damage:"1d4",damageType:"piercing",traits:["agile","fatal d8"],hands:"1",bulk:"L",price:"4 sp"},{id:"longsword",name:"Longsword",category:"martial",group:"sword",damage:"1d8",damageType:"slashing",traits:["versatile P"],hands:"1",bulk:"1",price:"1 gp"},{id:"maul",name:"Maul",category:"martial",group:"hammer",damage:"1d12",damageType:"bludgeoning",traits:["shove"],hands:"2",bulk:"2",price:"3 gp"},{id:"pick",name:"Pick",category:"martial",group:"pick",damage:"1d6",damageType:"piercing",traits:["fatal d10"],hands:"1",bulk:"1",price:"7 sp"},{id:"ranseur",name:"Ranseur",category:"martial",group:"polearm",damage:"1d10",damageType:"piercing",traits:["disarm","reach"],hands:"2",bulk:"2",price:"2 gp"},{id:"rapier",name:"Rapier",category:"martial",group:"sword",damage:"1d6",damageType:"piercing",traits:["deadly d8","finesse"],hands:"1",bulk:"1",price:"2 gp"},{id:"sap",name:"Sap",category:"martial",group:"club",damage:"1d6",damageType:"bludgeoning",traits:["agile","nonlethal"],hands:"1",bulk:"L",price:"1 sp"},{id:"scimitar",name:"Scimitar",category:"martial",group:"sword",damage:"1d6",damageType:"slashing",traits:["forceful","sweep"],hands:"1",bulk:"1",price:"1 gp"},{id:"scythe",name:"Scythe",category:"martial",group:"polearm",damage:"1d10",damageType:"slashing",traits:["deadly d10","trip"],hands:"2",bulk:"2",price:"2 gp"},{id:"shortsword",name:"Shortsword",category:"martial",group:"sword",damage:"1d6",damageType:"slashing",traits:["agile","finesse","versatile P"],hands:"1",bulk:"L",price:"9 sp"},{id:"starknife",name:"Starknife",category:"martial",group:"knife",damage:"1d4",damageType:"piercing",traits:["agile","deadly d6","finesse","thrown 20 ft.","versatile S"],hands:"1",bulk:"L",price:"2 gp"},{id:"trident",name:"Trident",category:"martial",group:"spear",damage:"1d8",damageType:"piercing",traits:["thrown 20 ft."],hands:"1",bulk:"1",price:"1 gp"},{id:"war-flail",name:"War Flail",category:"martial",group:"flail",damage:"1d10",damageType:"bludgeoning",traits:["disarm","sweep","trip"],hands:"2",bulk:"2",price:"2 gp"},{id:"warhammer",name:"Warhammer",category:"martial",group:"hammer",damage:"1d8",damageType:"bludgeoning",traits:["shove"],hands:"1",bulk:"1",price:"1 gp"},{id:"whip",name:"Whip",category:"martial",group:"flail",damage:"1d4",damageType:"slashing",traits:["disarm","finesse","nonlethal","reach","trip"],hands:"1",bulk:"1",price:"1 sp"},{id:"composite-longbow",name:"Composite Longbow",category:"martial",group:"bow",damage:"1d8",damageType:"piercing",traits:["deadly d10","propulsive","volley 30 ft."],range:100,reload:"0",hands:"1+",bulk:"1",price:"2 gp"},{id:"composite-shortbow",name:"Composite Shortbow",category:"martial",group:"bow",damage:"1d6",damageType:"piercing",traits:["deadly d10","propulsive"],range:60,reload:"0",hands:"1+",bulk:"1",price:"1 gp 4 sp"},{id:"longbow",name:"Longbow",category:"martial",group:"bow",damage:"1d8",damageType:"piercing",traits:["deadly d10","volley 30 ft."],range:100,reload:"0",hands:"1+",bulk:"2",price:"6 gp"},{id:"shortbow",name:"Shortbow",category:"martial",group:"bow",damage:"1d6",damageType:"piercing",traits:["deadly d10"],range:60,reload:"0",hands:"1+",bulk:"1",price:"3 gp"},{id:"dogslicer",name:"Dogslicer",category:"martial",group:"sword",damage:"1d6",damageType:"slashing",traits:["agile","backstabber","finesse","goblin","uncommon"],hands:"1",bulk:"L",price:"1 gp"},{id:"horsechopper",name:"Horsechopper",category:"martial",group:"polearm",damage:"1d8",damageType:"slashing",traits:["reach","trip","versatile P","goblin","uncommon"],hands:"2",bulk:"2",price:"9 sp"},{id:"elven-curve-blade",name:"Elven Curve Blade",category:"martial",group:"sword",damage:"1d8",damageType:"slashing",traits:["finesse","forceful","elf","uncommon"],hands:"2",bulk:"2",price:"4 gp"},{id:"elven-composite-longbow",name:"Elven Composite Longbow",category:"martial",group:"bow",damage:"1d8",damageType:"piercing",traits:["deadly d10","propulsive","volley 30 ft.","elf","uncommon"],range:100,reload:"0",hands:"1+",bulk:"1",price:"20 gp"},{id:"dwarven-waraxe",name:"Dwarven Waraxe",category:"martial",group:"axe",damage:"1d8",damageType:"slashing",traits:["sweep","two-hand d12","dwarf","uncommon"],hands:"1",bulk:"2",price:"3 gp"},{id:"clan-dagger",name:"Clan Dagger",category:"martial",group:"knife",damage:"1d4",damageType:"piercing",traits:["agile","dwarf","parry","versatile B","uncommon"],hands:"1",bulk:"L",price:"2 gp"},{id:"gnome-hooked-hammer",name:"Gnome Hooked Hammer",category:"martial",group:"hammer",damage:"1d6",damageType:"bludgeoning",traits:["gnome","trip","two-hand d10","uncommon"],hands:"1",bulk:"1",price:"2 gp"},{id:"gnome-flickmace",name:"Gnome Flickmace",category:"martial",group:"flail",damage:"1d8",damageType:"bludgeoning",traits:["gnome","reach","uncommon"],hands:"2",bulk:"3",price:"3 gp"},{id:"halfling-sling-staff",name:"Halfling Sling Staff",category:"martial",group:"sling",damage:"1d10",damageType:"bludgeoning",traits:["halfling","propulsive","uncommon"],range:80,reload:"1",hands:"2",bulk:"1",price:"5 gp"}],km={weapons:bm},wm=[{id:"explorers-clothing",name:"Explorer's Clothing",category:"unarmored",acBonus:0,dexCap:null,checkPenalty:0,speedPenalty:0,strength:0,bulk:"L",group:"cloth",traits:["comfort"],price:"1 sp"},{id:"padded-armor",name:"Padded Armor",category:"light",acBonus:1,dexCap:3,checkPenalty:0,speedPenalty:0,strength:10,bulk:"L",group:"cloth",traits:["comfort"],price:"2 sp"},{id:"leather-armor",name:"Leather Armor",category:"light",acBonus:1,dexCap:4,checkPenalty:-1,speedPenalty:0,strength:10,bulk:"1",group:"leather",traits:[],price:"2 gp"},{id:"studded-leather-armor",name:"Studded Leather Armor",category:"light",acBonus:2,dexCap:3,checkPenalty:-1,speedPenalty:0,strength:12,bulk:"1",group:"leather",traits:[],price:"3 gp"},{id:"chain-shirt",name:"Chain Shirt",category:"light",acBonus:2,dexCap:3,checkPenalty:-1,speedPenalty:0,strength:12,bulk:"1",group:"chain",traits:["flexible","noisy"],price:"5 gp"},{id:"hide-armor",name:"Hide Armor",category:"medium",acBonus:3,dexCap:2,checkPenalty:-2,speedPenalty:-5,strength:14,bulk:"2",group:"leather",traits:[],price:"2 gp"},{id:"scale-mail",name:"Scale Mail",category:"medium",acBonus:3,dexCap:2,checkPenalty:-2,speedPenalty:-5,strength:14,bulk:"2",group:"composite",traits:[],price:"4 gp"},{id:"chain-mail",name:"Chain Mail",category:"medium",acBonus:4,dexCap:1,checkPenalty:-2,speedPenalty:-5,strength:16,bulk:"2",group:"chain",traits:["flexible","noisy"],price:"6 gp"},{id:"breastplate",name:"Breastplate",category:"medium",acBonus:4,dexCap:1,checkPenalty:-2,speedPenalty:-5,strength:16,bulk:"2",group:"plate",traits:[],price:"8 gp"},{id:"splint-mail",name:"Splint Mail",category:"heavy",acBonus:5,dexCap:1,checkPenalty:-3,speedPenalty:-10,strength:16,bulk:"3",group:"composite",traits:[],price:"13 gp"},{id:"half-plate",name:"Half Plate",category:"heavy",acBonus:5,dexCap:1,checkPenalty:-3,speedPenalty:-10,strength:16,bulk:"3",group:"plate",traits:[],price:"18 gp"},{id:"full-plate",name:"Full Plate",category:"heavy",acBonus:6,dexCap:0,checkPenalty:-3,speedPenalty:-10,strength:18,bulk:"4",group:"plate",traits:["bulwark"],price:"30 gp"},{id:"buckler",name:"Buckler",category:"shield",acBonus:1,dexCap:null,checkPenalty:0,speedPenalty:0,strength:0,bulk:"L",group:"shield",traits:[],price:"1 gp",hardness:3,hp:6,bt:3},{id:"wooden-shield",name:"Wooden Shield",category:"shield",acBonus:2,dexCap:null,checkPenalty:0,speedPenalty:0,strength:0,bulk:"1",group:"shield",traits:[],price:"1 gp",hardness:3,hp:12,bt:6},{id:"steel-shield",name:"Steel Shield",category:"shield",acBonus:2,dexCap:null,checkPenalty:0,speedPenalty:0,strength:0,bulk:"1",group:"shield",traits:[],price:"2 gp",hardness:5,hp:20,bt:10},{id:"tower-shield",name:"Tower Shield",category:"shield",acBonus:2,dexCap:null,checkPenalty:0,speedPenalty:-5,strength:0,bulk:"4",group:"shield",traits:[],price:"10 gp",hardness:5,hp:20,bt:10}],Sm={armor:wm},Tm=[{id:"backpack",name:"Backpack",description:"A sturdy leather pack that can hold up to 4 Bulk of items. Items in a backpack are protected from damage.",bulk:"L",price:"1 sp",traits:[],usage:"worn on back"},{id:"bandolier",name:"Bandolier",description:"A bandolier holds up to eight items of light Bulk within easy reach and is usually used for alchemical items or ammunition.",bulk:"L",price:"1 sp",traits:[],usage:"worn"},{id:"bedroll",name:"Bedroll",description:"A rolled-up blanket with a tied leather cord that provides basic comfort and warmth for sleeping outdoors.",bulk:"L",price:"1 cp",traits:[]},{id:"belt-pouch",name:"Belt Pouch",description:"A simple leather pouch that attaches to a belt and can hold up to 4 items of light Bulk.",bulk:"L",price:"4 cp",traits:[],usage:"worn on belt"},{id:"candle",name:"Candle",description:"A simple wax candle that burns for 8 hours, shedding bright light in a 5-foot radius and dim light to 10 feet.",bulk:"",price:"1 cp",traits:[],usage:"held in 1 hand"},{id:"chalk",name:"Chalk",description:"A stick of chalk useful for marking surfaces, drawing diagrams, or leaving messages.",bulk:"",price:"1 cp",traits:[]},{id:"compass",name:"Compass",description:"A magnetic compass that helps determine cardinal directions, granting a +1 item bonus to Survival checks to avoid becoming lost.",bulk:"",price:"1 gp",traits:[],usage:"held in 1 hand"},{id:"crowbar",name:"Crowbar",description:"A heavy iron bar used for prying things open, granting a +1 item bonus to Athletics checks to Force Open.",bulk:"L",price:"5 sp",traits:[],usage:"held in 2 hands"},{id:"flint-and-steel",name:"Flint and Steel",description:"Striking the flint and steel together creates sparks used to start fires, requiring 1 minute to light a torch or similar object.",bulk:"",price:"5 cp",traits:[]},{id:"grappling-hook",name:"Grappling Hook",description:"A four-pronged metal hook attached to a rope, allowing you to anchor the rope to battlements, window ledges, or other edges.",bulk:"L",price:"1 sp",traits:[]},{id:"hammer",name:"Hammer",description:"A simple one-handed hammer used for driving stakes, nails, and spikes.",bulk:"L",price:"1 sp",traits:[],usage:"held in 1 hand"},{id:"healers-tools",name:"Healer's Tools",description:"A set of bandages, herbs, and surgical tools that grants a +1 item bonus to Medicine checks and is required to Treat Wounds.",bulk:"1",price:"5 gp",traits:[],usage:"held in 2 hands"},{id:"holly-and-mistletoe",name:"Holly and Mistletoe",description:"Sacred plants used as a primal spellcasting focus by druids and other primal spellcasters.",bulk:"",price:"5 cp",traits:[]},{id:"hooded-lantern",name:"Hooded Lantern",description:"A lantern that burns oil for 6 hours, shedding bright light in a 30-foot radius and dim light to 60 feet. The hood allows you to direct the light or close it completely.",bulk:"L",price:"7 sp",traits:[],usage:"held in 1 hand"},{id:"ink",name:"Ink",description:"A small vial of black ink suitable for writing with a quill or pen, containing enough ink for about 100 pages.",bulk:"",price:"1 sp",traits:[]},{id:"inkpen",name:"Inkpen",description:"A quill or metal pen used for writing with ink on parchment or paper.",bulk:"",price:"1 cp",traits:[]},{id:"journal",name:"Journal",description:"A blank book of bound parchment or paper, suitable for recording notes, sketches, or observations.",bulk:"L",price:"1 gp",traits:[]},{id:"ladder-10-foot",name:"Ladder (10-foot)",description:"A wooden ladder that can be positioned to climb up or down a 10-foot height.",bulk:"3",price:"3 cp",traits:[]},{id:"lantern-oil",name:"Lantern Oil",description:"A pint of oil that fuels a lantern for 6 hours or can be used as a thrown weapon to spread fire.",bulk:"L",price:"1 cp",traits:["consumable"]},{id:"lock-simple",name:"Lock (Simple)",description:"A basic mechanical lock that can be opened with a key or picked with thieves' tools (DC 15).",bulk:"",price:"2 gp",traits:[]},{id:"magnifying-glass",name:"Magnifying Glass",description:"A handheld lens that grants a +1 item bonus to Perception checks to notice fine details of documents, fabric, and the like.",bulk:"",price:"4 gp",traits:[]},{id:"manacles",name:"Manacles",description:"Heavy metal restraints that bind a creature's wrists or ankles, requiring a successful DC 17 Athletics check to break or DC 17 Thievery check to pick.",bulk:"",price:"3 gp",traits:[]},{id:"mirror",name:"Mirror",description:"A small hand mirror useful for looking around corners or examining your appearance.",bulk:"",price:"1 gp",traits:[]},{id:"piton",name:"Piton",description:"A metal spike that can be driven into a surface to provide an anchor point for ropes.",bulk:"",price:"1 cp",traits:[]},{id:"potion-minor-healing",name:"Potion of Minor Healing",description:"A magical elixir that restores 1d8 Hit Points when consumed with an Interact action.",bulk:"L",price:"4 gp",traits:["consumable","healing","magical","potion"],usage:"held in 1 hand"},{id:"rations",name:"Rations",description:"Preserved food suitable for long journeys, providing enough sustenance for one Medium creature for 1 day.",bulk:"L",price:"4 cp",traits:["consumable"]},{id:"religious-symbol-wooden",name:"Religious Symbol (Wooden)",description:"A wooden symbol of your deity or philosophy, used as a divine spellcasting focus.",bulk:"L",price:"1 sp",traits:[],usage:"held in 1 hand"},{id:"repair-kit",name:"Repair Kit",description:"A portable kit containing tools and materials for fixing damaged equipment, granting a +1 item bonus to Crafting checks to Repair.",bulk:"1",price:"2 gp",traits:[]},{id:"rope-50-feet",name:"Rope (50 feet)",description:"A hempen rope 50 feet long that can hold up to 3,000 pounds and requires a DC 17 Athletics check to Climb.",bulk:"L",price:"5 sp",traits:[]},{id:"sack",name:"Sack",description:"A large cloth bag that can hold up to 8 Bulk worth of items.",bulk:"L",price:"1 cp",traits:[]},{id:"sewing-needle",name:"Sewing Needle",description:"A simple needle and thread used for mending clothes and fabric.",bulk:"",price:"5 cp",traits:[]},{id:"signal-whistle",name:"Signal Whistle",description:"A small metal whistle that produces a loud, piercing sound audible up to 500 feet away.",bulk:"",price:"8 cp",traits:[]},{id:"soap",name:"Soap",description:"A bar of soap useful for bathing and washing clothes.",bulk:"",price:"2 cp",traits:[]},{id:"spellbook-blank",name:"Spellbook (Blank)",description:"A blank book with 100 pages for recording arcane spells, required by wizards and magi to prepare spells.",bulk:"L",price:"1 gp",traits:[]},{id:"tent-pup",name:"Tent (Pup Tent)",description:"A small tent that shelters two Medium creatures from the elements.",bulk:"L",price:"8 sp",traits:[]},{id:"thieves-tools",name:"Thieves' Tools",description:"A set of lockpicks and other tools required to Pick Locks or Disable Devices using Thievery.",bulk:"L",price:"3 gp",traits:[],usage:"held in 2 hands"},{id:"torch",name:"Torch",description:"A wooden rod capped with twisted flax soaked in tallow that burns for 1 hour, shedding bright light in a 20-foot radius and dim light to 40 feet.",bulk:"L",price:"1 cp",traits:[],usage:"held in 1 hand"},{id:"waterskin",name:"Waterskin",description:"A leather container that holds enough drinking water to sustain one Medium creature for 1 day.",bulk:"L",price:"5 cp",traits:[]},{id:"writing-set",name:"Writing Set",description:"A portable set containing ink, inkpen, parchment, and a small knife for trimming quills and scraping away mistakes.",bulk:"L",price:"1 gp",traits:[]},{id:"sheath",name:"Sheath",description:"A leather or wooden case for storing a weapon, keeping it protected and easily accessible.",bulk:"",price:"1 sp",traits:[],usage:"worn"},{id:"alchemists-fire-lesser",name:"Alchemist's Fire (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Bomb","Consumable","Fire","Splash"],description:"A flask of volatile alchemical reagents that explodes into flame on impact. When thrown as a Strike (with a range increment of 20 feet), it deals 1d8 fire damage plus 1 fire splash damage. On a hit, the target takes 1 persistent fire damage. Dealing even 1 point of splash damage to a creature breaks the flask on them, applying 1 persistent fire damage."},{id:"acid-flask-lesser",name:"Acid Flask (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Bomb","Consumable","Acid","Splash"],description:"A flask of concentrated acid that sears through flesh and corrodes metal. When thrown as a Strike (with a range increment of 20 feet), it deals 1d6 acid damage plus 1 acid splash damage. On a hit, the target takes 1 persistent acid damage, and can attempt a DC 15 Fortitude save to reduce the persistent damage by half."},{id:"bottled-lightning-lesser",name:"Bottled Lightning (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Bomb","Consumable","Electricity","Splash"],description:"A carefully sealed vial of crackling electricity. When thrown as a Strike (with a range increment of 20 feet), it deals 1d6 electricity damage plus 1 electricity splash damage. On a hit, the target becomes flat-footed until the start of your next turn."},{id:"thunderstone-lesser",name:"Thunderstone (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Bomb","Consumable","Sonic"],description:"A small stone that releases a thunderous boom upon striking a hard surface. When thrown as a Strike (with a range increment of 20 feet), it deals 1d4 sonic damage. On a hit, the target must succeed at a DC 17 Fortitude save or become deafened for 1 minute (or 1 hour on a critical failure)."},{id:"elixir-of-life-minor",name:"Elixir of Life (Minor)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Elixir","Consumable","Healing"],description:"A potent healing elixir created through alchemical processes. Drinking this elixir takes an Interact action and restores 1d6+1 Hit Points. The elixir has a slightly bitter taste but works quickly to mend wounds and restore vitality."},{id:"antidote-lesser",name:"Antidote (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Elixir","Consumable"],description:"An elixir that bolsters the body's defenses against toxins. Drinking this elixir takes an Interact action and grants a +2 item bonus to Fortitude saves against poisons for 6 hours. If you are afflicted with a poison, you can also immediately attempt a saving throw against it at the normal DC (not a flat check)."},{id:"antiplague-lesser",name:"Antiplague (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Elixir","Consumable"],description:"An elixir that fortifies the body against disease. Drinking this elixir takes an Interact action and grants a +2 item bonus to Fortitude saves against diseases for 24 hours. If you are afflicted with a disease, you can also immediately attempt a saving throw against it at the normal DC (not a flat check)."},{id:"darkvision-elixir-lesser",name:"Darkvision Elixir (Lesser)",bulk:"L",price:"5 gp",level:2,category:"Alchemical",traits:["Alchemical","Elixir","Consumable"],description:"An elixir that temporarily grants the ability to see in darkness. Drinking this elixir takes an Interact action and grants you darkvision for 10 minutes, allowing you to see in darkness and dim light just as well as in bright light. If you already have darkvision, the elixir has no effect."},{id:"smokestick-lesser",name:"Smokestick (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Tool","Consumable"],description:"A small tube that releases thick smoke when activated. You can Activate the smokestick using an Interact action to create a cloud of smoke in a 10-foot burst centered on one corner of your space. All creatures within the smoke become concealed, and all creatures outside the smoke become concealed to creatures within it. The smoke lasts for 1 minute or until dispersed by strong wind."},{id:"sunrod",name:"Sunrod",bulk:"L",price:"3 cp",level:1,category:"Alchemical",traits:["Alchemical","Tool","Consumable","Light"],description:"An alchemical rod that glows brightly when activated. You can Activate the sunrod using an Interact action, causing it to glow with bright light in a 20-foot radius (and dim light to the next 20 feet) for 6 hours. The light is warm and steady, making it ideal for extended exploration. Unlike torches, sunrods don't produce heat or flame."},{id:"tanglefoot-bag-lesser",name:"Tanglefoot Bag (Lesser)",bulk:"L",price:"3 gp",level:1,category:"Alchemical",traits:["Alchemical","Tool","Consumable"],description:"A sack filled with sticky adhesive compounds. When thrown as a Strike (with a range increment of 20 feet), it bursts on impact, covering the target in sticky goo. The target takes a -10-foot status penalty to its Speeds for 1 minute. The target can remove the goo by Escaping (DC 17) or spending 3 Interact actions to carefully remove it."},{id:"tindertwig",name:"Tindertwig",bulk:"",price:"1 cp",level:0,category:"Alchemical",traits:["Alchemical","Tool","Consumable"],description:"An alchemically treated stick that ignites into flame with a simple strike against a rough surface. Using a tindertwig to light a torch (or anything else with tinder and fuel) takes an Interact action. Unlike flint and steel, which takes 1 minute, a tindertwig allows you to light something as part of a single action. Tindertwigs are waterproofed and will even ignite when wet."},{id:"giant-centipede-venom",name:"Giant Centipede Venom",bulk:"L",price:"4 gp",level:1,category:"Alchemical",traits:["Alchemical","Poison","Consumable","Injury"],description:"The extracted venom of a giant centipede, processed for alchemical use. This poison must be applied to a weapon and delivered via a Strike that deals piercing or slashing damage. The target must succeed at a DC 17 Fortitude save or take 1d6 poison damage immediately and 1d6 poison damage again after 1 round. On a critical failure, the target also becomes sickened 1."},{id:"lethargy-poison-lesser",name:"Lethargy Poison (Lesser)",bulk:"L",price:"7 gp",level:2,category:"Alchemical",traits:["Alchemical","Poison","Consumable","Injury"],description:"An insidious poison that saps the target's speed and reflexes. This poison must be applied to a weapon and delivered via a Strike that deals piercing or slashing damage. The target must succeed at a DC 18 Fortitude save or become slowed 1 for 1 minute. On a critical failure, the target is slowed 2 instead. The target can attempt a new save at the end of each of its turns to reduce the slowed condition by 1."},{id:"black-adder-venom",name:"Black Adder Venom",bulk:"L",price:"6 gp",level:2,category:"Alchemical",traits:["Alchemical","Poison","Consumable","Injury"],description:"A deadly toxin harvested from black adders that weakens the body. This poison must be applied to a weapon and delivered via a Strike that deals piercing or slashing damage. The target must succeed at a DC 18 Fortitude save or take 1d4 poison damage and become enfeebled 1 for 1 minute. On a critical failure, the target takes double damage and is enfeebled 2 instead."}],jm={items:Tm};class F{static getAllAncestries(){return this.ancestries}static getAncestryById(t){return this.ancestries.find(a=>a.id===t)}static getHeritagesForAncestry(t){return this.heritages.filter(a=>a.ancestryId===t)}static getHeritageById(t){return this.heritages.find(a=>a.id===t)}static getAllBackgrounds(){return this.backgrounds}static getBackgroundById(t){return this.backgrounds.find(a=>a.id===t)}static getAllClasses(){return this.classes}static getClassById(t){return this.classes.find(a=>a.id===t)}static getAllSkills(){return this.skills}static getSkillById(t){return this.skills.find(a=>a.id===t)}static getSkillByName(t){return this.skills.find(a=>a.name.toLowerCase()===t.toLowerCase())}static getAllFeats(){return this.feats}static getFeatById(t){return this.feats.find(a=>a.id===t)}static getFeatsByType(t){return this.feats.filter(a=>a.type===t)}static searchFeats(t){const a=t.toLowerCase();return this.feats.filter(n=>n.name.toLowerCase().includes(a)||n.description.toLowerCase().includes(a)||n.benefit.toLowerCase().includes(a))}static getAllSpells(){return this.spells}static getSpellById(t){return this.spells.find(a=>a.id===t)}static getSpellsByTradition(t){return this.spells.filter(a=>a.tradition.includes(t))}static getSpellsByLevel(t){return this.spells.filter(a=>a.level===t)}static getSpellsByTraditionAndLevel(t,a){return this.spells.filter(n=>n.tradition.includes(t)&&n.level===a)}static searchSpells(t){const a=t.toLowerCase();return this.spells.filter(n=>n.name.toLowerCase().includes(a)||n.description.toLowerCase().includes(a)||n.traits.some(i=>i.toLowerCase().includes(a)))}static searchAncestries(t){const a=t.toLowerCase();return this.ancestries.filter(n=>n.name.toLowerCase().includes(a)||n.description.toLowerCase().includes(a))}static searchBackgrounds(t){const a=t.toLowerCase();return this.backgrounds.filter(n=>n.name.toLowerCase().includes(a)||n.description.toLowerCase().includes(a))}static searchClasses(t){const a=t.toLowerCase();return this.classes.filter(n=>n.name.toLowerCase().includes(a)||n.description.toLowerCase().includes(a))}static getAllWeapons(){return this.weapons}static getWeaponById(t){return this.weapons.find(a=>a.id===t)}static getWeaponsByCategory(t){return this.weapons.filter(a=>a.category===t)}static getAllArmor(){return this.armor}static getArmorById(t){return this.armor.find(a=>a.id===t)}static getArmorByCategory(t){return this.armor.filter(a=>a.category===t)}static getAllItems(){return this.items}static getItemById(t){return this.items.find(a=>a.id===t)}static searchEquipment(t){const a=t.toLowerCase(),n=this.weapons.filter(o=>o.name.toLowerCase().includes(a)),i=this.armor.filter(o=>o.name.toLowerCase().includes(a)),r=this.items.filter(o=>o.name.toLowerCase().includes(a)||o.description.toLowerCase().includes(a));return[...n,...i,...r]}}_e(F,"ancestries",am),_e(F,"heritages",nm),_e(F,"backgrounds",im),_e(F,"classes",rm),_e(F,"skills",sm),_e(F,"feats",[...lm.feats,...cm.feats,...um.feats,...dm.feats]),_e(F,"spells",[...mm.spells,...pm.spells,...ym.spells,...xm.spells]),_e(F,"weapons",km.weapons),_e(F,"armor",Sm.armor),_e(F,"items",jm.items);function Cm(e){const t=Nm(e),a=Am(e),n=Ym(e),i=Em(e),r=Pm(e),o=Lm(e);return{hp:t,maxHp:t,ac:a,perception:i,classDC:n,saves:r,speed:o}}function Nm(e){var r,o;const t=e.basics.level,a=ee(e.abilityScores.constitution);let n=8;if((r=e.ancestry)!=null&&r.ancestry){const l=F.getAllAncestries().find(d=>{var f;return d.name===((f=e.ancestry)==null?void 0:f.ancestry)});l&&(n=l.hitPoints)}let i=10;if((o=e.class)!=null&&o.class){const l=F.getAllClasses().find(d=>{var f;return d.name===((f=e.class)==null?void 0:f.class)});l&&(i=l.hitPoints)}return n+(i+a)*t}function Am(e){const t=ee(e.abilityScores.dexterity),a=e.basics.level,n=_.Trained,i=ut(a,n);return 10+t+i}function Ym(e){const t=e.basics.level,a=[ee(e.abilityScores.strength),ee(e.abilityScores.dexterity),ee(e.abilityScores.constitution),ee(e.abilityScores.intelligence),ee(e.abilityScores.wisdom),ee(e.abilityScores.charisma)],n=Math.max(...a),i=ut(t,_.Trained);return 10+n+i}function Em(e){const t=ee(e.abilityScores.wisdom),a=e.basics.level,n=ut(a,_.Trained);return t+n}function Pm(e){const t=e.basics.level,a=ee(e.abilityScores.constitution),n=ee(e.abilityScores.dexterity),i=ee(e.abilityScores.wisdom),r=ut(t,_.Trained);return{fortitude:a+r,reflex:n+r,will:i+r}}function Lm(e){var a;let t=25;if((a=e.ancestry)!=null&&a.ancestry){const i=F.getAllAncestries().find(r=>{var o;return r.name===((o=e.ancestry)==null?void 0:o.ancestry)});i&&(t=i.speed)}return t}function Bm(e,t,a){const n=ee(e.abilityScores[a]),i=e.basics.level,r=e.skills[t]||_.Untrained,o=ut(i,r);return n+o}function Ot(e,t){let a=10;const n=t.filter(i=>i.ability===e);for(const i of n)a>=18?a+=1:a+=2;return a}function lr(e){return{strength:Ot("strength",e),dexterity:Ot("dexterity",e),constitution:Ot("constitution",e),intelligence:Ot("intelligence",e),wisdom:Ot("wisdom",e),charisma:Ot("charisma",e),boosts:e}}function Vn(e,t){return t.filter(a=>a.source===e)}function Im(e,t){const a=Vn("free",t);return a.filter(i=>i.ability===e).length>=1?{valid:!1,reason:"Cannot apply more than one free boost to the same ability at level 1"}:a.length>=4?{valid:!1,reason:"Already used all 4 free boosts"}:{valid:!0}}const Dm={strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"},Fm={strength:"STR",dexterity:"DEX",constitution:"CON",intelligence:"INT",wisdom:"WIS",charisma:"CHA"},Mm=["strength","dexterity","constitution","intelligence","wisdom","charisma"],ju=L.createContext(void 0);function ul({children:e}){const[t,a]=L.useState(cl());L.useEffect(()=>{a(y=>({...y,derivedStats:Cm(y)}))},[t.abilityScores,t.ancestry,t.class,t.equipment,t.skills]);const m={character:t,updateBasics:y=>{a(k=>({...k,basics:{...k.basics,...y}}))},updateAncestry:y=>{a(k=>({...k,ancestry:y}))},updateBackground:y=>{a(k=>({...k,background:y}))},updateClass:y=>{a(k=>({...k,class:y}))},updateAbilityScore:(y,k)=>{a(T=>({...T,abilityScores:{...T.abilityScores,[y]:k}}))},updateAbilityScores:y=>{a(k=>({...k,abilityScores:{...k.abilityScores,...y}}))},addAbilityBoost:y=>{a(k=>{const T=[...k.abilityScores.boosts,y],N=lr(T);return{...k,abilityScores:N}})},removeAbilityBoost:y=>{a(k=>{const T=k.abilityScores.boosts.filter(Y=>!(Y.ability===y.ability&&Y.source===y.source)),N=lr(T);return{...k,abilityScores:N}})},applyAbilityBoosts:y=>{const k=lr(y);a(T=>({...T,abilityScores:k}))},updateSkill:(y,k)=>{a(T=>({...T,skills:{...T.skills,[y]:k}}))},addFeat:(y,k)=>{a(T=>({...T,feats:{...T.feats,[y]:[...T.feats[y],k]}}))},removeFeat:(y,k)=>{a(T=>({...T,feats:{...T.feats,[y]:T.feats[y].filter(N=>N!==k)}}))},updateSpells:y=>{a(k=>({...k,spells:y}))},updateEquipment:y=>{a(k=>({...k,equipment:{...k.equipment,...y}}))},loadCharacter:y=>{a(y)},resetCharacter:()=>{a(cl())}};return s.jsx(ju.Provider,{value:m,children:e})}function zm({characterName:e,currentStep:t,totalSteps:a,onNewCharacter:n,onSaveCharacter:i,onLoadCharacter:r,onExportText:o}){const[c,l]=L.useState(!1),d=L.useRef(null);L.useEffect(()=>{function p(v){d.current&&!d.current.contains(v.target)&&l(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=p=>{p(),l(!1)};return s.jsx("header",{className:"bg-pf-bg-card border-b border-pf-border px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-pf-accent",children:"PenPaperRPG"}),s.jsx("p",{className:"text-xs text-pf-text-muted",children:"Pathfinder 2e Character Creator"})]}),e&&s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-pf-text",children:e}),t&&s.jsxs("p",{className:"text-xs text-pf-text-muted",children:["Step ",t," of ",a]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",ref:d,children:[s.jsxs("button",{onClick:()=>l(!c),className:"text-sm text-pf-text-muted hover:text-pf-accent transition-colors flex items-center gap-1",title:"File operations",children:[" File",s.jsx("span",{className:"text-xs",children:c?"":""})]}),c&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-pf-bg-card border border-pf-border rounded-lg shadow-glow overflow-hidden z-50",children:[n&&s.jsxs("button",{onClick:()=>f(n),className:"w-full text-left px-4 py-2.5 text-sm text-pf-text hover:bg-pf-hover transition-colors flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"New Character"})]}),i&&s.jsxs("button",{onClick:()=>f(i),className:"w-full text-left px-4 py-2.5 text-sm text-pf-text hover:bg-pf-hover transition-colors flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Save Character"})]}),r&&s.jsxs("button",{onClick:()=>f(r),className:"w-full text-left px-4 py-2.5 text-sm text-pf-text hover:bg-pf-hover transition-colors flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Load Character"})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-pf-border my-1"}),s.jsxs("button",{onClick:()=>f(o),className:"w-full text-left px-4 py-2.5 text-sm text-pf-text hover:bg-pf-hover transition-colors flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Export as Text"})]})]})]})]}),s.jsx("button",{className:"text-sm text-pf-text-muted hover:text-pf-accent transition-colors",title:"Help",children:" Help"})]})]})})}function Rm({character:e}){const t=a=>ve(ee(a));return s.jsxs("aside",{className:"w-80 bg-pf-bg-card border-r border-pf-border p-4 overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent mb-4",children:"Character Stats"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Name:"})," ",s.jsx("span",{className:"text-pf-text",children:e.basics.name||"Unnamed Character"})]}),s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Level:"})," ",s.jsx("span",{className:"text-pf-text",children:e.basics.level})]}),e.ancestry&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Ancestry:"})," ",s.jsx("span",{className:"text-pf-text",children:e.ancestry.ancestry})]}),e.background&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Background:"})," ",s.jsx("span",{className:"text-pf-text",children:e.background})]}),e.class&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Class:"})," ",s.jsx("span",{className:"text-pf-text",children:e.class.class})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-pf-accent mb-2",children:"Ability Scores"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e.abilityScores).map(([a,n])=>s.jsxs("div",{className:"bg-pf-bg-dark rounded px-2 py-1 text-center",children:[s.jsx("div",{className:"text-xs text-pf-text-muted capitalize",children:a.slice(0,3)}),s.jsx("div",{className:"text-lg font-bold text-pf-text",children:t(n)}),s.jsx("div",{className:"text-xs text-pf-text-muted",children:n})]},a))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-pf-accent mb-2",children:"Combat"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"HP:"}),s.jsxs("span",{className:"text-pf-text",children:[e.derivedStats.hp," / ",e.derivedStats.maxHp]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"AC:"}),s.jsx("span",{className:"text-pf-text",children:e.derivedStats.ac})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Class DC:"}),s.jsx("span",{className:"text-pf-text",children:e.derivedStats.classDC})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Perception:"}),s.jsxs("span",{className:"text-pf-text",children:[e.derivedStats.perception>=0?"+":"",e.derivedStats.perception]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Speed:"}),s.jsxs("span",{className:"text-pf-text",children:[e.derivedStats.speed," ft"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-pf-accent mb-2",children:"Saving Throws"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Fortitude:"}),s.jsxs("span",{className:"text-pf-text",children:[e.derivedStats.saves.fortitude>=0?"+":"",e.derivedStats.saves.fortitude]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Reflex:"}),s.jsxs("span",{className:"text-pf-text",children:[e.derivedStats.saves.reflex>=0?"+":"",e.derivedStats.saves.reflex]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Will:"}),s.jsxs("span",{className:"text-pf-text",children:[e.derivedStats.saves.will>=0?"+":"",e.derivedStats.saves.will]})]})]})]})]})}function Ze({children:e,onClick:t,variant:a="primary",size:n="md",disabled:i=!1,type:r="button",className:o="",fullWidth:c=!1}){const l="font-medium rounded transition-all focus:outline-none focus:ring-2 focus:ring-pf-accent",d={primary:"btn-primary",secondary:"btn-secondary",danger:"bg-red-700 hover:bg-red-600 text-white",ghost:"bg-transparent hover:bg-gray-700 text-pf-text border border-gray-600"},f={sm:"py-1 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"},p=i?"opacity-50 cursor-not-allowed":"cursor-pointer",v=c?"w-full":"";return s.jsx("button",{type:r,onClick:t,disabled:i,className:`${l} ${d[a]} ${f[n]} ${p} ${v} ${o}`,children:e})}function Om({onBack:e,onNext:t,onSave:a,onViewSheet:n,backLabel:i="Back",nextLabel:r="Next",canGoBack:o=!0,canGoNext:c=!0,isFirstStep:l=!1,isLastStep:d=!1}){return s.jsx("footer",{className:"bg-pf-bg-card border-t border-pf-border px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:!l&&e&&s.jsxs(Ze,{onClick:e,variant:"secondary",disabled:!o,children:[" ",i]})}),s.jsxs("div",{className:"flex gap-3",children:[a&&s.jsx(Ze,{onClick:a,variant:"ghost",size:"sm",children:" Save Draft"}),n&&s.jsx(Ze,{onClick:n,variant:"secondary",size:"sm",children:" View Character Sheet"})]}),s.jsx("div",{children:t&&s.jsx(Ze,{onClick:t,variant:"primary",disabled:!c,children:d?" Finish":`${r} `})})]})})}function _m({steps:e,currentStep:t,onStepClick:a}){var i;const n=((i=e.find(r=>r.id===t))==null?void 0:i.order)||1;return s.jsx("div",{className:"bg-pf-bg-card border-b border-pf-border px-6 py-3",children:s.jsx("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:e.map((r,o)=>{const c=r.id===t,l=r.order<n,d=a&&(l||c);return s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ${c?"border-pf-accent bg-pf-accent text-white font-bold shadow-glow":l?"border-pf-accent bg-pf-bg-dark text-pf-accent":"border-pf-border bg-pf-bg-dark text-pf-text-muted"} ${d?"cursor-pointer hover:scale-110":""}`,onClick:d?()=>a(r.id):void 0,title:r.label,children:l?"":r.order}),s.jsx("div",{className:"ml-2 hidden lg:block",children:s.jsx("div",{className:`text-xs font-medium ${c?"text-pf-accent":"text-pf-text-muted"}`,children:r.label})}),o<e.length-1&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 ${l?"bg-pf-accent":"bg-pf-border"}`})]},r.id)})})})}function pe({children:e,className:t="",onClick:a,selected:n=!1,hoverable:i=!1}){const r="card",o=a||i?"cursor-pointer transition-all":"",c=i?"hover:border-pf-accent hover:shadow-lg":"",l=n?"border-pf-accent border-2 shadow-lg":"";return s.jsx("div",{className:`${r} ${o} ${c} ${l} ${t}`,onClick:a,role:a?"button":void 0,tabIndex:a?0:void 0,onKeyDown:a?d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),a())}:void 0,children:e})}function dl({value:e,onChange:t,label:a,placeholder:n,type:i="text",disabled:r=!1,required:o=!1,min:c,max:l,className:d="",error:f}){const p=v=>{t(v.target.value)};return s.jsxs("div",{className:`flex flex-col gap-1 ${d}`,children:[a&&s.jsxs("label",{className:"text-sm font-medium text-pf-text",children:[a,o&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("input",{type:i,value:e,onChange:p,placeholder:n,disabled:r,required:o,min:c,max:l,className:`input-field ${f?"border-red-500":""} ${r?"opacity-50 cursor-not-allowed":""}`}),f&&s.jsx("span",{className:"text-sm text-red-500",children:f})]})}function Zs({value:e,onChange:t,options:a,label:n,placeholder:i,disabled:r=!1,required:o=!1,className:c="",error:l}){const d=f=>{t(f.target.value)};return s.jsxs("div",{className:`flex flex-col gap-1 ${c}`,children:[n&&s.jsxs("label",{className:"text-sm font-medium text-pf-text",children:[n,o&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("select",{value:e,onChange:d,disabled:r,required:o,className:`input-field ${l?"border-red-500":""} ${r?"opacity-50 cursor-not-allowed":""}`,children:[i&&s.jsx("option",{value:"",disabled:!0,children:i}),a.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))]}),l&&s.jsx("span",{className:"text-sm text-red-500",children:l})]})}function tt(){const e=L.useContext(ju);if(e===void 0)throw new Error("useCharacter must be used within a CharacterProvider");return e}function gt(){const[e,t]=L.useState([]),[a,n]=L.useState([]),[i,r]=L.useState([]),[o,c]=L.useState([]),[l,d]=L.useState([]),[f,p]=L.useState([]),[v,x]=L.useState([]),[b,w]=L.useState([]),[C,h]=L.useState([]);return L.useEffect(()=>{t(F.getAllAncestries()),n(F.getAllBackgrounds()),r(F.getAllClasses()),c(F.getAllSkills()),d(F.getAllFeats()),p(F.getAllSpells()),x(F.getAllWeapons()),w(F.getAllArmor()),h(F.getAllItems())},[]),{ancestries:e,backgrounds:a,classes:i,skills:o,feats:l,spells:f,weapons:v,armor:b,items:C,getHeritagesForAncestry:I=>F.getHeritagesForAncestry(I),getHeritageById:I=>F.getHeritageById(I),getAncestryById:I=>F.getAncestryById(I),getBackgroundById:I=>F.getBackgroundById(I),getClassById:I=>F.getClassById(I),getSkillById:I=>F.getSkillById(I),getSkillByName:I=>F.getSkillByName(I),getFeatById:I=>F.getFeatById(I),getFeatsByType:I=>F.getFeatsByType(I),searchFeats:I=>F.searchFeats(I),getSpellById:I=>F.getSpellById(I),getSpellsByTradition:I=>F.getSpellsByTradition(I),getSpellsByLevel:I=>F.getSpellsByLevel(I),getSpellsByTraditionAndLevel:(I,nt)=>F.getSpellsByTraditionAndLevel(I,nt),searchSpells:I=>F.searchSpells(I),getWeaponById:I=>F.getWeaponById(I),getWeaponsByCategory:I=>F.getWeaponsByCategory(I),getArmorById:I=>F.getArmorById(I),getArmorByCategory:I=>F.getArmorByCategory(I),getItemById:I=>F.getItemById(I),searchEquipment:I=>F.searchEquipment(I)}}function Wm(){var x;const{character:e,updateAncestry:t,updateAbilityScores:a}=tt(),{ancestries:n,getHeritagesForAncestry:i}=gt(),[r,o]=L.useState(null),[c,l]=L.useState(""),[d,f]=L.useState([]),p=b=>{o(b),l("");const w=i(b.id);f(w);const C={...e.abilityScores};b.id==="human"?(C.strength+=2,C.intelligence+=2):b.id==="elf"?(C.dexterity+=2,C.intelligence+=2):b.id==="dwarf"&&(C.constitution+=2,C.wisdom+=2),a(C)},v=()=>{r&&c&&t({ancestry:r.name,heritage:c,ancestryFeat:null})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent mb-4",children:"Choose Your Ancestry"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(b=>s.jsxs(pe,{hoverable:!0,selected:(r==null?void 0:r.id)===b.id,onClick:()=>p(b),className:"cursor-pointer",children:[s.jsx("h4",{className:"text-pf-accent font-semibold mb-2",children:b.name}),s.jsx("p",{className:"text-sm text-pf-text-muted mb-3",children:b.description}),s.jsxs("div",{className:"text-xs text-pf-text space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"HP:"})," ",b.hitPoints]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Size:"})," ",b.size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Speed:"})," ",b.speed," ft"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Languages:"})," ",b.languages.join(", ")]})]})]},b.id))})]}),r&&d.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent mb-4",children:"Choose Your Heritage"}),s.jsxs("div",{className:"max-w-md",children:[s.jsx(Zs,{label:"Heritage",value:c,onChange:l,options:d.map(b=>({value:b.name,label:b.name})),placeholder:"Select a heritage...",required:!0}),c&&s.jsx("div",{className:"mt-4 p-4 bg-pf-bg-dark rounded",children:(x=d.find(b=>b.name===c))==null?void 0:x.description})]})]}),r&&c&&s.jsxs("div",{className:"pt-4",children:[s.jsx(Ze,{onClick:v,variant:"primary",children:"Confirm Selection"}),e.ancestry&&s.jsxs("p",{className:"text-sm text-green-500 mt-2",children:[" ",e.ancestry.ancestry," (",e.ancestry.heritage,") selected"]})]})]})}function Hm(){const{character:e,updateBackground:t,updateAbilityScores:a}=tt(),{backgrounds:n}=gt(),[i,r]=L.useState(null),o=l=>{r(l)},c=()=>{if(i){t(i.name);const l={...e.abilityScores};if(i.abilityBoosts.length>0){const d=i.abilityBoosts[0];if(d.type==="choice"&&d.abilities&&d.abilities.length>0){const f=d.abilities[0];l[f]+=2}i.abilityBoosts.length>1&&(l.intelligence+=2)}a(l)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent mb-4",children:"Choose Your Background"}),s.jsx("p",{className:"text-sm text-pf-text-muted mb-4",children:"Your background represents your life before becoming an adventurer."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(l=>s.jsxs(pe,{hoverable:!0,selected:(i==null?void 0:i.id)===l.id,onClick:()=>o(l),className:"cursor-pointer",children:[s.jsx("h4",{className:"text-pf-accent font-semibold mb-2",children:l.name}),s.jsx("p",{className:"text-sm text-pf-text-muted mb-3",children:l.description}),s.jsxs("div",{className:"text-xs text-pf-text space-y-1 border-t border-gray-700 pt-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Skill Training:"})," ",l.skillTraining]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Feat:"})," ",l.featGranted]})]})]},l.id))})]}),i&&s.jsxs("div",{className:"bg-pf-bg-dark p-4 rounded border border-gray-700",children:[s.jsxs("h4",{className:"text-pf-accent font-semibold mb-2",children:[i.name," - Benefits"]}),s.jsxs("ul",{className:"text-sm text-pf-text space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:["Trained in ",i.skillTraining]}),s.jsxs("li",{children:["Gain ",i.featGranted," feat"]}),s.jsxs("li",{children:["Ability Boosts:"," ",i.abilityBoosts.map((l,d)=>l.type==="choice"&&l.abilities?s.jsxs("span",{children:[l.abilities.join(" or "),l.count&&l.count>1?` (${l.count})`:""]},d):l.type==="free"?"Free choice":"").join(", ")]})]})]}),i&&s.jsxs("div",{className:"pt-4",children:[s.jsx(Ze,{onClick:c,variant:"primary",children:"Confirm Selection"}),e.background&&s.jsxs("p",{className:"text-sm text-green-500 mt-2",children:[" ",e.background," selected"]})]})]})}function qm(){const{character:e,updateClass:t,updateAbilityScores:a}=tt(),{classes:n}=gt(),[i,r]=L.useState(null),o=l=>{r(l)},c=()=>{if(i){t({class:i.name,subclass:null,classFeat:null});const l={...e.abilityScores};if(i.keyAbility.length>0){const d=i.keyAbility[0];l[d]+=2}a(l)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent mb-4",children:"Choose Your Class"}),s.jsx("p",{className:"text-sm text-pf-text-muted mb-4",children:"Your class determines your role in combat and your special abilities."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(l=>s.jsxs(pe,{hoverable:!0,selected:(i==null?void 0:i.id)===l.id,onClick:()=>o(l),className:"cursor-pointer",children:[s.jsx("h4",{className:"text-pf-accent font-semibold mb-2",children:l.name}),s.jsx("p",{className:"text-sm text-pf-text-muted mb-3",children:l.description}),s.jsxs("div",{className:"text-xs text-pf-text space-y-1 border-t border-gray-700 pt-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"HP per Level:"})," ",l.hitPoints]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Key Ability:"})," ",l.keyAbility.map(d=>d.toUpperCase().slice(0,3)).join(" or ")]}),l.spellcasting&&s.jsxs("div",{className:"text-pf-accent",children:[" Spellcaster (",l.spellcasting.tradition,")"]})]})]},l.id))})]}),i&&s.jsxs("div",{className:"bg-pf-bg-dark p-4 rounded border border-gray-700",children:[s.jsxs("h4",{className:"text-pf-accent font-semibold mb-3",children:[i.name," - Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-pf-text",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-pf-accent text-xs mb-2",children:"BASIC STATS"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{children:["HP per Level: ",i.hitPoints]}),s.jsxs("li",{children:["Key Ability: ",i.keyAbility.map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" or ")]}),s.jsxs("li",{children:["Perception: ",Ie(i.initialProficiencies.perception)]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-pf-accent text-xs mb-2",children:"SAVING THROWS"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{children:["Fortitude: ",Ie(i.initialProficiencies.fortitude)]}),s.jsxs("li",{children:["Reflex: ",Ie(i.initialProficiencies.reflex)]}),s.jsxs("li",{children:["Will: ",Ie(i.initialProficiencies.will)]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-pf-accent text-xs mb-2",children:"SKILLS"}),s.jsxs("p",{children:["Trained in ",i.initialProficiencies.skills.trained," skills"]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-pf-accent text-xs mb-2",children:"ATTACKS"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{children:["Simple: ",Ie(i.initialProficiencies.attacks.simple)]}),s.jsxs("li",{children:["Martial:"," ",Ie(i.initialProficiencies.attacks.martial)]}),s.jsxs("li",{children:["Unarmed:"," ",Ie(i.initialProficiencies.attacks.unarmed)]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-pf-accent text-xs mb-2",children:"DEFENSES"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{children:["Unarmored:"," ",Ie(i.initialProficiencies.defenses.unarmored)]}),s.jsxs("li",{children:["Light: ",Ie(i.initialProficiencies.defenses.light)]}),s.jsxs("li",{children:["Medium:"," ",Ie(i.initialProficiencies.defenses.medium)]}),s.jsxs("li",{children:["Heavy: ",Ie(i.initialProficiencies.defenses.heavy)]})]})]}),i.spellcasting&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-pf-accent text-xs mb-2",children:"SPELLCASTING"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{children:["Tradition:"," ",i.spellcasting.tradition.charAt(0).toUpperCase()+i.spellcasting.tradition.slice(1)]}),s.jsxs("li",{children:["Type:"," ",i.spellcasting.type.charAt(0).toUpperCase()+i.spellcasting.type.slice(1)]}),s.jsxs("li",{children:["Key Ability:"," ",i.spellcasting.keyAbility.charAt(0).toUpperCase()+i.spellcasting.keyAbility.slice(1)]})]})]})]})]}),i&&s.jsxs("div",{className:"pt-4",children:[s.jsx(Ze,{onClick:c,variant:"primary",children:"Confirm Selection"}),e.class&&s.jsxs("p",{className:"text-sm text-green-500 mt-2",children:[" ",e.class.class," selected"]})]})]})}function Gm(){const{character:e,addAbilityBoost:t,removeAbilityBoost:a,applyAbilityBoosts:n}=tt(),{ancestries:i,backgrounds:r,classes:o}=gt(),[c,l]=L.useState([]);L.useEffect(()=>{var C,h;const p=e.abilityScores.boosts,v=Vn("ancestry",p).length>0,x=Vn("background",p).length>0,b=Vn("class",p).length>0,w=[...p];if(!v&&((C=e.ancestry)!=null&&C.ancestry)){const u=i.find(m=>{var y;return m.name===((y=e.ancestry)==null?void 0:y.ancestry)});if(u&&u.abilityBoosts.length>0){for(const m of u.abilityBoosts)if(m.type==="specific"&&m.abilities&&m.abilities.length>0)for(const y of m.abilities)w.push({ability:y,source:"ancestry"})}}if(!x&&e.background){const u=r.find(m=>m.name===e.background);if(u&&u.abilityBoosts.length>0){for(const m of u.abilityBoosts)if(m.type==="specific"&&m.abilities&&m.abilities.length>0)for(const y of m.abilities)w.push({ability:y,source:"background"})}}if(!b&&((h=e.class)!=null&&h.class)){const u=o.find(m=>{var y;return m.name===((y=e.class)==null?void 0:y.class)});if(u&&u.keyAbility.length>0){const m=u.keyAbility[0].toLowerCase();w.push({ability:m,source:"class"})}}w.length>p.length&&n(w)},[e.ancestry,e.background,e.class,i,r,o]);const d=p=>{if(c.includes(p))l(c.filter(x=>x!==p)),a({ability:p,source:"free"});else{const x=Im(p,e.abilityScores.boosts);x.valid?(l([...c,p]),t({ability:p,source:"free"})):alert(x.reason)}},f=4-c.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-pf-accent mb-2",children:"Ability Scores"}),s.jsx("p",{className:"text-gray-300",children:"Your ability scores start at 10. Apply boosts from your ancestry, background, and class, then choose 4 free boosts."}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Each boost adds +2 to an ability score (or +1 if the score is already 18 or higher). You cannot apply more than one free boost to the same ability."})]}),s.jsxs("div",{className:"bg-pf-bg-card p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-pf-accent mb-2",children:["Free Boosts Remaining: ",f," / 4"]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Click on an ability below to apply a free boost"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Mm.map(p=>{const v=Ot(p,e.abilityScores.boosts),x=ee(v),b=e.abilityScores.boosts.filter(y=>y.ability===p),w=b.filter(y=>y.source==="ancestry").length,C=b.filter(y=>y.source==="background").length,h=b.filter(y=>y.source==="class").length,u=b.filter(y=>y.source==="free").length,m=c.includes(p);return s.jsxs(pe,{hoverable:!0,selected:m,onClick:()=>d(p),className:"cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-pf-accent",children:Dm[p]}),s.jsx("p",{className:"text-xs text-gray-400",children:Fm[p]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:v}),s.jsxs("div",{className:"text-sm text-gray-400",children:[ve(x)," mod"]})]})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Base:"}),s.jsx("span",{children:"10"})]}),w>0&&s.jsxs("div",{className:"flex justify-between text-blue-400",children:[s.jsx("span",{children:"Ancestry:"}),s.jsxs("span",{children:["+",w*2]})]}),C>0&&s.jsxs("div",{className:"flex justify-between text-green-400",children:[s.jsx("span",{children:"Background:"}),s.jsxs("span",{children:["+",C*2]})]}),h>0&&s.jsxs("div",{className:"flex justify-between text-purple-400",children:[s.jsx("span",{children:"Class:"}),s.jsxs("span",{children:["+",h*2]})]}),u>0&&s.jsxs("div",{className:"flex justify-between text-pf-accent",children:[s.jsx("span",{children:"Free:"}),s.jsxs("span",{children:["+",u*2]})]})]}),u===0&&f>0&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Click to add free boost"})}),m&&s.jsx("div",{className:"mt-3 pt-3 border-t border-pf-accent",children:s.jsx("p",{className:"text-xs text-pf-accent text-center font-semibold",children:" Free boost applied"})})]},p)})}),f===0&&s.jsx("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4",children:s.jsx("p",{className:"text-green-400 font-semibold",children:" All ability boosts applied! You can now proceed to the next step."})}),s.jsxs("div",{className:"bg-pf-bg-card p-4 rounded-lg",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-300 mb-2",children:"How Boosts Work"}),s.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[s.jsx("li",{children:" All abilities start at 10"}),s.jsx("li",{children:" Each boost adds +2 to the ability score"}),s.jsx("li",{children:" If an ability is 18 or higher, boosts only add +1"}),s.jsx("li",{children:" You get 4 free boosts to assign as you choose"}),s.jsx("li",{children:" You cannot assign more than one free boost to the same ability at level 1"})]})]})]})}function $m(){const{character:e,updateSkill:t}=tt(),{skills:a,backgrounds:n,classes:i,getSkillByName:r}=gt(),[o,c]=L.useState([]),l=ee(e.abilityScores.intelligence),d=Math.max(1,l),f=n.find(h=>h.name===e.background),p=(f==null?void 0:f.skillTraining)||null,v=i.find(h=>{var u;return h.name===((u=e.class)==null?void 0:u.class)}),x=(v==null?void 0:v.initialProficiencies.skills.trained)||0,b=x+d;L.useEffect(()=>{if(p){const h=r(p);h&&e.skills[h.id]!==_.Trained&&t(h.id,_.Trained)}},[p,e.skills,r,t]);const w=h=>{var k;if(p&&((k=r(p))==null?void 0:k.id)===h)return;(e.skills[h]||_.Untrained)>=_.Trained?(t(h,_.Untrained),c(o.filter(T=>T!==h))):o.length<b?(t(h,_.Trained),c([...o,h])):alert(`You can only train ${b} skills from your class and Intelligence.`)},C=b-o.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-pf-accent mb-2",children:"Skill Training"}),s.jsx("p",{className:"text-gray-300",children:"Select which skills your character is trained in. Training increases your proficiency bonus and improves your chances of success."})]}),s.jsxs("div",{className:"bg-pf-bg-card p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Background skill:"}),s.jsxs("span",{className:"text-blue-400 font-semibold",children:[p||"None"," (automatic)"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Class skills:"}),s.jsx("span",{className:"text-purple-400 font-semibold",children:x})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Intelligence bonus:"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["+",d," ",l<0&&"(minimum 1)"]})]}),s.jsxs("div",{className:"flex justify-between border-t border-gray-600 pt-2 mt-2",children:[s.jsx("span",{className:"text-gray-200 font-semibold",children:"Skills remaining:"}),s.jsxs("span",{className:"text-pf-accent font-bold text-lg",children:[C," / ",b]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(h=>{var N;const u=e.skills[h.id]||_.Untrained,m=u>=_.Trained,y=Bm(e,h.id,h.ability),k=ee(e.abilityScores[h.ability]),T=p&&((N=r(p))==null?void 0:N.id)===h.id;return s.jsxs(pe,{hoverable:!T,selected:m,onClick:()=>w(h.id),className:`cursor-pointer ${T?"ring-2 ring-blue-500":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-pf-accent",children:h.name}),s.jsx("p",{className:"text-xs text-gray-400 uppercase",children:h.ability.toUpperCase()}),T&&s.jsx("span",{className:"text-xs text-blue-400 font-semibold",children:"(Background)"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:ve(y)}),s.jsx("div",{className:"text-xs text-gray-400",children:Ie(u)})]})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:h.description}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Ability modifier:"}),s.jsx("span",{children:ve(k)})]}),s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Proficiency:"}),s.jsx("span",{children:u===_.Untrained?ve(0):ve(e.basics.level+u)})]}),s.jsxs("div",{className:"flex justify-between text-gray-300 font-semibold border-t border-gray-600 pt-1",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:ve(y)})]})]}),m&&!T&&s.jsx("div",{className:"mt-3 pt-3 border-t border-pf-accent",children:s.jsx("p",{className:"text-xs text-pf-accent text-center font-semibold",children:" Trained"})}),!m&&C>0&&!T&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Click to train"})})]},h.id)})}),C===0&&s.jsx("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4",children:s.jsx("p",{className:"text-green-400 font-semibold",children:" All skills assigned! You can now proceed to the next step."})}),s.jsxs("div",{className:"bg-pf-bg-card p-4 rounded-lg",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-300 mb-2",children:"How Skills Work"}),s.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[s.jsx("li",{children:" Skill checks: d20 + ability modifier + proficiency bonus"}),s.jsx("li",{children:" Untrained: +0 proficiency bonus"}),s.jsxs("li",{children:[" Trained: +",e.basics.level+2," at level ",e.basics.level]}),s.jsx("li",{children:" Your background automatically trains you in one skill"}),s.jsxs("li",{children:[" Your class grants ",x," trained skills"]}),s.jsxs("li",{children:[" Your Intelligence modifier grants ",d," additional skill",d!==1?"s":""," (minimum 1)"]})]})]})]})}function Um(){const{character:e,addFeat:t}=tt(),{getFeatsByType:a}=gt(),[n,i]=L.useState("ancestry"),[r,o]=L.useState(""),[c,l]=L.useState(null),d=L.useMemo(()=>{var b,w;let x=a(n);if(n==="ancestry"&&((b=e.ancestry)!=null&&b.ancestry)&&(x=x.filter(C=>C.prerequisites.some(h=>{var u;return h.toLowerCase()===((u=e.ancestry)==null?void 0:u.ancestry.toLowerCase())})||C.prerequisites.length===0)),n==="class"&&((w=e.class)!=null&&w.class)&&(x=x.filter(C=>C.prerequisites.some(h=>{var u;return h.toLowerCase()===((u=e.class)==null?void 0:u.class.toLowerCase())})||C.prerequisites.length===0)),r){const C=r.toLowerCase();x=x.filter(h=>h.name.toLowerCase().includes(C)||h.description.toLowerCase().includes(C)||h.benefit.toLowerCase().includes(C))}return x},[n,e.ancestry,e.class,r,a]),f=x=>{l(c===x?null:x)},p=()=>{c&&(t(n,c),l(null),alert("Feat added to your character!"))},v=e.feats.ancestry.length>0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-pf-accent mb-2",children:"Select Feats"}),s.jsx("p",{className:"text-gray-300",children:"Choose feats to customize your character. At level 1, you gain an ancestry feat."})]}),s.jsxs("div",{className:"bg-pf-bg-card p-4 rounded-lg space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Feats Available"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Ancestry Feats:"}),s.jsx("p",{className:`font-semibold ${v?"text-green-400":"text-pf-accent"}`,children:v?" Selected":"1 available"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Type"}),s.jsx(Zs,{value:n,onChange:x=>i(x),options:[{value:"ancestry",label:"Ancestry Feats"},{value:"class",label:"Class Feats"},{value:"skill",label:"Skill Feats"},{value:"general",label:"General Feats"}]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Feats"}),s.jsx("input",{type:"text",value:r,onChange:x=>o(x.target.value),placeholder:"Search by name or description...",className:"w-full px-3 py-2 bg-pf-bg-dark border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-pf-accent"})]})]}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",d.length," ",n," feats"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:d.map(x=>{const b=c===x.id,w=e.feats[n].includes(x.id);return s.jsx(pe,{hoverable:!w,selected:b,onClick:()=>!w&&f(x.id),className:`${w?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-pf-accent",children:x.name}),s.jsxs("p",{className:"text-xs text-gray-400",children:[x.type.charAt(0).toUpperCase()+x.type.slice(1),"  Level ",x.level]})]}),w&&s.jsx("span",{className:"text-xs bg-green-900 text-green-300 px-2 py-1 rounded",children:"Taken"})]}),s.jsx("p",{className:"text-sm text-gray-300",children:x.description}),x.prerequisites.length>0&&s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Prerequisites:"})," ",x.prerequisites.join(", ")]}),x.traits.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:x.traits.map(C=>s.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded",children:C},C))}),s.jsx("div",{className:"pt-2 border-t border-gray-600",children:s.jsxs("p",{className:"text-sm text-gray-200",children:[s.jsx("span",{className:"font-semibold",children:"Benefit:"})," ",x.benefit]})}),x.frequency&&s.jsxs("p",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Frequency:"})," ",x.frequency]}),x.trigger&&s.jsxs("p",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Trigger:"})," ",x.trigger]})]})},x.id)})}),c&&s.jsx("div",{className:"flex justify-center",children:s.jsx(Ze,{onClick:p,variant:"primary",children:"Confirm Feat Selection"})}),d.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:s.jsx("p",{children:"No feats found matching your criteria."})})]})}function Vm(){var we;const{character:e,updateSpells:t}=tt(),{classes:a,getSpellsByTraditionAndLevel:n}=gt(),[i,r]=L.useState(""),[o,c]=L.useState(0),[l,d]=L.useState([]),[f,p]=L.useState([]),v=a.find(S=>{var g;return S.name===((g=e.class)==null?void 0:g.class)});if(!((v==null?void 0:v.spellcasting)!==void 0))return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-pf-accent mb-2",children:"Spell Selection"}),s.jsxs("p",{className:"text-gray-300",children:["Your class (",((we=e.class)==null?void 0:we.class)||"None",") does not have spellcasting abilities."]})]}),s.jsx(pe,{className:"p-8",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-lg text-gray-400",children:"This step is for spellcasting classes only. You may proceed to the next step."})})})]});const b=v.spellcasting,w=b.tradition,C=b.type==="prepared",h=b.keyAbility,u=ee(e.abilityScores[h]),m=ut(e.basics.level,_.Trained),y=10+u+m,k=u+m,T=L.useMemo(()=>n(w,0),[w,n]),N=L.useMemo(()=>n(w,1),[w,n]),Y=L.useMemo(()=>{const S=o===0?T:N;if(!i)return S;const g=i.toLowerCase();return S.filter(P=>P.name.toLowerCase().includes(g)||P.description.toLowerCase().includes(g)||P.traits.some(H=>H.toLowerCase().includes(g)))},[T,N,o,i]),R=5,B=C?2:4,ne=(S,g)=>{g?l.includes(S)?d(l.filter(P=>P!==S)):l.length<R&&d([...l,S]):f.includes(S)?p(f.filter(P=>P!==S)):f.length<B&&p([...f,S])};return L.useEffect(()=>{(l.length>0||f.length>0)&&t({tradition:Tu[w.charAt(0).toUpperCase()+w.slice(1)],spellsKnown:[...l,...f],spellsPrepared:C?f:[]})},[l,f,w,C,t]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-pf-accent mb-2",children:"Spell Selection"}),s.jsxs("p",{className:"text-gray-300",children:["Select your ",C?"prepared":"known"," spells for your ",v.name,"."]})]}),s.jsxs("div",{className:"bg-pf-bg-card p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Tradition:"}),s.jsx("p",{className:"text-lg font-semibold text-pf-accent capitalize",children:w})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Spell DC:"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:y})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Spell Attack:"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:ve(k)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Type:"}),s.jsx("p",{className:"text-lg font-semibold text-purple-400 capitalize",children:b.type})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-600",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Cantrips Selected:"}),s.jsxs("p",{className:`text-lg font-bold ${l.length===R?"text-green-400":"text-pf-accent"}`,children:[l.length," / ",R]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Level 1 Spells Selected:"}),s.jsxs("p",{className:`text-lg font-bold ${f.length===B?"text-green-400":"text-pf-accent"}`,children:[f.length," / ",B]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Spell Level"}),s.jsx(Zs,{value:o.toString(),onChange:S=>c(parseInt(S)),options:[{value:"0",label:"Cantrips (Level 0)"},{value:"1",label:"Level 1 Spells"}]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Spells"}),s.jsx("input",{type:"text",value:i,onChange:S=>r(S.target.value),placeholder:"Search by name, description, or trait...",className:"w-full px-3 py-2 bg-pf-bg-dark border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-pf-accent"})]})]}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",Y.length," ",o===0?"cantrips":"level 1 spells"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:Y.map(S=>{const g=S.level===0,H=(g?l:f).includes(S.id),at=g?l.length>=R:f.length>=B;return s.jsx(pe,{hoverable:!at||H,selected:H,onClick:()=>ne(S.id,g),className:`cursor-pointer ${at&&!H?"opacity-50":""}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-pf-accent",children:S.name}),s.jsxs("p",{className:"text-xs text-gray-400",children:[S.level===0?"Cantrip":`Level ${S.level}`,"  ",S.castTime]})]}),H&&s.jsx("span",{className:"text-xs bg-pf-accent text-white px-2 py-1 rounded",children:" Selected"})]}),s.jsx("p",{className:"text-sm text-gray-300",children:S.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Range:"})," ",s.jsx("span",{className:"text-white",children:S.range})]}),S.targets&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Targets:"})," ",s.jsx("span",{className:"text-white",children:S.targets})]}),S.area&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Area:"})," ",s.jsx("span",{className:"text-white",children:S.area})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Duration:"})," ",s.jsx("span",{className:"text-white",children:S.duration})]}),S.savingThrow&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Save:"})," ",s.jsx("span",{className:"text-white",children:S.savingThrow})]})]}),S.traits.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:S.traits.map(A=>s.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded",children:A},A))})]})},S.id)})}),Y.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:s.jsx("p",{children:"No spells found matching your criteria."})}),l.length===R&&f.length===B&&s.jsx("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4",children:s.jsx("p",{className:"text-green-400 font-semibold",children:" All spells selected! You can now proceed to the next step."})})]})}function Qm(){const{character:e,updateEquipment:t}=tt(),{weapons:a,armor:n,items:i,getClassById:r}=gt(),[o,c]=L.useState(e.equipment.weapons||[]),[l,d]=L.useState(e.equipment.armor||null),[f,p]=L.useState(e.equipment.items||[]),[v,x]=L.useState(""),[b,w]=L.useState("weapons"),C=e.class?r(e.class.class):null,h=15,u=L.useMemo(()=>{let S=0;if(o.forEach(g=>{const P=a.find(H=>H.id===g);P&&(S+=cr(P.price))}),l){const g=n.find(P=>P.id===l);g&&(S+=cr(g.price))}return f.forEach(g=>{const P=i.find(H=>H.id===g);P&&(S+=cr(P.price))}),S},[o,l,f,a,n,i]),m=h-u,y=L.useMemo(()=>{let S=0;if(o.forEach(g=>{const P=a.find(H=>H.id===g);P&&(S+=ur(P.bulk))}),l){const g=n.find(P=>P.id===l);g&&(S+=ur(g.bulk))}return f.forEach(g=>{const P=i.find(H=>H.id===g);P&&(S+=ur(P.bulk))}),S},[o,l,f,a,n,i]),k=L.useMemo(()=>C?a.filter(S=>{const g=C.initialProficiencies.attacks;return S.category==="simple"&&g.simple>=_.Trained||S.category==="martial"&&g.martial>=_.Trained}):[],[a,C]),T=L.useMemo(()=>C?n.filter(S=>{if(S.category==="unarmored"||S.category==="shield")return!0;const g=C.initialProficiencies.defenses;return S.category==="light"?g.light>=_.Trained:S.category==="medium"?g.medium>=_.Trained:S.category==="heavy"?g.heavy>=_.Trained:!1}):[],[n,C]),N=k.filter(S=>S.name.toLowerCase().includes(v.toLowerCase())),Y=T.filter(S=>S.name.toLowerCase().includes(v.toLowerCase())),R=i.filter(S=>S.name.toLowerCase().includes(v.toLowerCase())),B=S=>{const g=o.includes(S)?o.filter(P=>P!==S):[...o,S];c(g),t({weapons:g,armor:l,items:f,gold:m})},ne=S=>{d(S),t({weapons:o,armor:S,items:f,gold:m})},we=S=>{const g=f.includes(S)?f.filter(P=>P!==S):[...f,S];p(g),t({weapons:o,armor:l,items:g,gold:m})};return s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs(pe,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-pf-text-muted text-sm mb-1",children:"Starting Gold"}),s.jsxs("div",{className:"text-2xl font-bold text-pf-accent",children:[h," gp"]})]}),s.jsxs(pe,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-pf-text-muted text-sm mb-1",children:"Remaining"}),s.jsxs("div",{className:`text-2xl font-bold ${m<0?"text-red-500":"text-pf-accent"}`,children:[m.toFixed(2)," gp"]})]}),s.jsxs(pe,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-pf-text-muted text-sm mb-1",children:"Total Bulk"}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:y.toFixed(1)})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>w("weapons"),className:`px-4 py-2 rounded ${b==="weapons"?"bg-pf-accent text-pf-bg":"bg-pf-bg-card text-pf-text"}`,children:["Weapons (",o.length,")"]}),s.jsxs("button",{onClick:()=>w("armor"),className:`px-4 py-2 rounded ${b==="armor"?"bg-pf-accent text-pf-bg":"bg-pf-bg-card text-pf-text"}`,children:["Armor ",l?"(1)":""]}),s.jsxs("button",{onClick:()=>w("items"),className:`px-4 py-2 rounded ${b==="items"?"bg-pf-accent text-pf-bg":"bg-pf-bg-card text-pf-text"}`,children:["Items (",f.length,")"]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search equipment...",value:v,onChange:S=>x(S.target.value),className:"w-full px-4 py-2 bg-pf-bg-card border border-gray-700 rounded text-pf-text"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[b==="weapons"&&N.map(S=>s.jsx(Km,{weapon:S,selected:o.includes(S.id),onToggle:()=>B(S.id)},S.id)),b==="armor"&&Y.map(S=>s.jsx(Xm,{armor:S,selected:l===S.id,onSelect:()=>ne(l===S.id?null:S.id)},S.id)),b==="items"&&R.map(S=>s.jsx(Zm,{item:S,selected:f.includes(S.id),onToggle:()=>we(S.id)},S.id))]})]})}function cr(e){const t=e.match(/(\d+(?:\.\d+)?)\s*(\w+)/);if(!t)return 0;const a=parseFloat(t[1]),n=t[2].toLowerCase();return n==="gp"||n==="gold"?a:n==="sp"||n==="silver"?a/10:n==="cp"||n==="copper"?a/100:0}function ur(e){return e==="L"||e==="l"?.1:e===""||e==="-"?0:parseFloat(e)||0}function Km({weapon:e,selected:t,onToggle:a}){return s.jsxs(pe,{className:`p-4 cursor-pointer transition-all ${t?"ring-2 ring-pf-accent":""}`,onClick:a,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"font-semibold text-pf-text",children:e.name}),s.jsx("div",{className:"text-xs text-pf-text-muted",children:e.price})]}),s.jsxs("div",{className:"text-xs text-pf-accent-light mb-2",children:[e.category,"  ",e.group]}),s.jsxs("div",{className:"text-sm text-pf-text-muted mb-2",children:[e.damage," ",e.damageType]}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:["Hands: ",e.hands,"  Bulk: ",e.bulk]}),e.traits.length>0&&s.jsx("div",{className:"text-xs text-pf-accent-light mt-2",children:e.traits.join(", ")})]})}function Xm({armor:e,selected:t,onSelect:a}){return s.jsxs(pe,{className:`p-4 cursor-pointer transition-all ${t?"ring-2 ring-pf-accent":""}`,onClick:a,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"font-semibold text-pf-text",children:e.name}),s.jsx("div",{className:"text-xs text-pf-text-muted",children:e.price})]}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-2",children:e.category}),s.jsxs("div",{className:"text-sm text-pf-text-muted mb-2",children:["AC Bonus: +",e.acBonus,e.dexCap!==null&&`  Dex Cap: +${e.dexCap}`]}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:["Bulk: ",e.bulk,e.checkPenalty!==0&&`  Check Penalty: ${e.checkPenalty}`]}),e.traits.length>0&&s.jsx("div",{className:"text-xs text-pf-accent-light mt-2",children:e.traits.join(", ")})]})}function Zm({item:e,selected:t,onToggle:a}){return s.jsxs(pe,{className:`p-4 cursor-pointer transition-all ${t?"ring-2 ring-pf-accent":""}`,onClick:a,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"font-semibold text-pf-text",children:e.name}),s.jsx("div",{className:"text-xs text-pf-text-muted",children:e.price})]}),s.jsx("div",{className:"text-sm text-pf-text-muted mb-2",children:e.description}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:["Bulk: ",e.bulk]}),e.traits.length>0&&s.jsx("div",{className:"text-xs text-pf-accent-light mt-2",children:e.traits.join(", ")})]})}var V=(e=>(e.Basics="basics",e.Ancestry="ancestry",e.Background="background",e.Class="class",e.Abilities="abilities",e.Skills="skills",e.Feats="feats",e.Spells="spells",e.Equipment="equipment",e.Review="review",e))(V||{});const it=[{id:"basics",label:"Character Basics",description:"Name and basic information",order:1},{id:"ancestry",label:"Ancestry",description:"Choose your ancestry and heritage",order:2},{id:"background",label:"Background",description:"Choose your background",order:3},{id:"class",label:"Class",description:"Choose your class",order:4},{id:"abilities",label:"Ability Scores",description:"Assign ability boosts",order:5},{id:"skills",label:"Skills",description:"Select skill proficiencies",order:6},{id:"feats",label:"Feats",description:"Choose your feats",order:7},{id:"spells",label:"Spells",description:"Select spells (if applicable)",order:8},{id:"equipment",label:"Equipment",description:"Choose starting equipment",order:9},{id:"review",label:"Review",description:"Review and finalize",order:10}];async function Jm(e){const t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"}),n=e.basics.name?`${e.basics.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_character.json`:"character.json",i=URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}async function ef(){return new Promise(e=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async a=>{var i;const n=(i=a.target.files)==null?void 0:i[0];if(!n){e(null);return}try{const r=await n.text(),o=JSON.parse(r);if(!o.id||!o.basics||!o.abilityScores)throw new Error("Invalid character file format");e(o)}catch(r){console.error("Error loading character:",r),alert("Failed to load character file. Please check the file format."),e(null)}},t.click()})}function tf(e){const t=[];return t.push("".repeat(60)),t.push(`  ${e.basics.name||"Unnamed Character"}`.toUpperCase()),t.push("".repeat(60)),t.push(""),t.push("BASICS"),t.push("".repeat(60)),t.push(`Player: ${e.basics.playerName||"Unknown"}`),t.push(`Level: ${e.basics.level}`),e.ancestry&&t.push(`Ancestry: ${e.ancestry.ancestry}${e.ancestry.heritage?` (${e.ancestry.heritage})`:""}`),e.background&&t.push(`Background: ${e.background}`),e.class&&t.push(`Class: ${e.class.class}`),t.push(""),t.push("ABILITY SCORES"),t.push("".repeat(60)),["strength","dexterity","constitution","intelligence","wisdom","charisma"].forEach(i=>{const r=e.abilityScores[i],o=Math.floor((r-10)/2);t.push(`${i.charAt(0).toUpperCase()+i.slice(1).padEnd(12)}: ${r.toString().padStart(2)} (${o>=0?"+":""}${o})`)}),t.push(""),t.push("COMBAT STATS"),t.push("".repeat(60)),t.push(`HP: ${e.derivedStats.maxHp}`),t.push(`AC: ${e.derivedStats.ac}`),t.push(`Perception: ${e.derivedStats.perception>=0?"+":""}${e.derivedStats.perception}`),t.push(`Class DC: ${e.derivedStats.classDC}`),t.push(`Speed: ${e.derivedStats.speed} ft`),t.push(""),t.push("SAVING THROWS"),t.push("".repeat(60)),t.push(`Fortitude: ${e.derivedStats.saves.fortitude>=0?"+":""}${e.derivedStats.saves.fortitude}`),t.push(`Reflex: ${e.derivedStats.saves.reflex>=0?"+":""}${e.derivedStats.saves.reflex}`),t.push(`Will: ${e.derivedStats.saves.will>=0?"+":""}${e.derivedStats.saves.will}`),t.push(""),Object.keys(e.skills).length>0&&(t.push("SKILLS"),t.push("".repeat(60)),Object.entries(e.skills).forEach(([i,r])=>{t.push(`${i.charAt(0).toUpperCase()+i.slice(1)}: Proficiency ${r}`)}),t.push("")),[...e.feats.ancestry,...e.feats.class,...e.feats.skill,...e.feats.general].length>0&&(t.push("FEATS"),t.push("".repeat(60)),e.feats.ancestry.length>0&&t.push(`Ancestry: ${e.feats.ancestry.join(", ")}`),e.feats.class.length>0&&t.push(`Class: ${e.feats.class.join(", ")}`),e.feats.skill.length>0&&t.push(`Skill: ${e.feats.skill.join(", ")}`),e.feats.general.length>0&&t.push(`General: ${e.feats.general.join(", ")}`),t.push("")),e.spells&&(e.spells.spellsKnown.length>0||e.spells.spellsPrepared.length>0)&&(t.push("SPELLS"),t.push("".repeat(60)),t.push(`Tradition: ${e.spells.tradition}`),e.spells.spellsKnown.length>0&&t.push(`Spells Known: ${e.spells.spellsKnown.join(", ")}`),e.spells.spellsPrepared.length>0&&t.push(`Spells Prepared: ${e.spells.spellsPrepared.join(", ")}`),t.push("")),(e.equipment.weapons.length>0||e.equipment.armor||e.equipment.items.length>0)&&(t.push("EQUIPMENT"),t.push("".repeat(60)),e.equipment.weapons.length>0&&t.push(`Weapons: ${e.equipment.weapons.join(", ")}`),e.equipment.armor&&t.push(`Armor: ${e.equipment.armor}`),e.equipment.items.length>0&&t.push(`Items: ${e.equipment.items.join(", ")}`),t.push(`Gold: ${e.equipment.gold} gp`),t.push("")),t.push("".repeat(60)),t.push("Generated by PenPaperRPG Character Creator"),t.push("".repeat(60)),t.join(`
`)}function af(e){const t=tf(e),a=new Blob([t],{type:"text/plain"}),n=e.basics.name?`${e.basics.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_character.txt`:"character.txt",i=URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}function nf({onViewSheet:e}){const{character:t,updateBasics:a,loadCharacter:n,resetCharacter:i}=tt(),[r,o]=L.useState(V.Basics),c=it.find(C=>C.id===r),l=it.findIndex(C=>C.id===r),d=()=>{l<it.length-1&&o(it[l+1].id)},f=()=>{l>0&&o(it[l-1].id)},p=C=>{o(C)},v=()=>{confirm("Are you sure you want to create a new character? All unsaved progress will be lost.")&&(i(),o(V.Basics))},x=async()=>{try{await Jm(t)}catch(C){console.error("Error saving character:",C),alert("Failed to save character. Please try again.")}},b=async()=>{if(confirm("Loading a character will replace your current character. Continue?"))try{const C=await ef();C&&(n(C),o(V.Basics))}catch(C){console.error("Error loading character:",C),alert("Failed to load character. Please check the file format.")}},w=()=>{try{af(t)}catch(C){console.error("Error exporting character:",C),alert("Failed to export character. Please try again.")}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(zm,{characterName:t.basics.name,currentStep:c==null?void 0:c.order.toString(),totalSteps:it.length,onNewCharacter:v,onSaveCharacter:x,onLoadCharacter:b,onExportText:w}),s.jsx(_m,{steps:it,currentStep:r,onStepClick:p}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(Rm,{character:t}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-pf-accent mb-2",children:c==null?void 0:c.label}),s.jsx("p",{className:"text-pf-text-muted mb-6",children:c==null?void 0:c.description}),r===V.Basics&&s.jsx(pe,{className:"p-6",children:s.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[s.jsx(dl,{label:"Character Name",value:t.basics.name,onChange:C=>a({name:C}),placeholder:"Enter character name",required:!0}),s.jsx(dl,{label:"Player Name",value:t.basics.playerName,onChange:C=>a({playerName:C}),placeholder:"Enter player name"}),s.jsxs("div",{className:"pt-4 border-t border-pf-border",children:[s.jsxs("p",{className:"text-sm text-pf-text-muted mb-2",children:["Level: ",t.basics.level]}),s.jsx("p",{className:"text-xs text-pf-text-muted",children:"Watch the sidebar update as you enter information!"})]})]})}),r===V.Abilities&&s.jsx(Gm,{}),r===V.Ancestry&&s.jsx(Wm,{}),r===V.Background&&s.jsx(Hm,{}),r===V.Class&&s.jsx(qm,{}),r===V.Skills&&s.jsx($m,{}),r===V.Feats&&s.jsx(Um,{}),r===V.Spells&&s.jsx(Vm,{}),r===V.Equipment&&s.jsx(Qm,{}),r!==V.Basics&&r!==V.Abilities&&r!==V.Ancestry&&r!==V.Background&&r!==V.Class&&r!==V.Skills&&r!==V.Feats&&r!==V.Spells&&r!==V.Equipment&&s.jsx(pe,{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg text-pf-text mb-4",children:r===V.Review&&"Review your character"}),s.jsx("p",{className:"text-sm text-pf-text-muted",children:"Coming in future phases"})]})})]})})]}),s.jsx(Om,{onBack:f,onNext:d,onSave:x,onViewSheet:e,canGoBack:l>0,canGoNext:l<it.length-1,isFirstStep:l===0,isLastStep:l===it.length-1})]})}function rf(){var ne,we,S;const{character:e}=tt(),{getAncestryById:t,getHeritageById:a,getBackgroundById:n,getClassById:i,getFeatById:r,getSpellById:o,getWeaponById:c,getArmorById:l,getItemById:d}=gt(),f=e.ancestry?t(e.ancestry.ancestry):null,p=(ne=e.ancestry)!=null&&ne.heritage?a(e.ancestry.heritage):null,v=e.background?n(e.background):null,x=e.class?i(e.class.class):null,b=e.feats.ancestry.map(g=>r(g)).filter(g=>g!==void 0),w=e.feats.class.map(g=>r(g)).filter(g=>g!==void 0),C=e.feats.skill.map(g=>r(g)).filter(g=>g!==void 0),h=e.feats.general.map(g=>r(g)).filter(g=>g!==void 0),u=(we=e.spells)==null?void 0:we.spellsKnown.map(g=>o(g)).filter(g=>g!==void 0),m=(S=e.spells)==null?void 0:S.spellsPrepared.map(g=>o(g)).filter(g=>g!==void 0),y=e.equipment.weapons.map(g=>c(g)).filter(g=>g!==void 0),k=e.equipment.armor?l(e.equipment.armor):null,T=e.equipment.items.map(g=>d(g)).filter(g=>g!==void 0),N=L.useMemo(()=>{const g={},P={acrobatics:"dexterity",arcana:"intelligence",athletics:"strength",crafting:"intelligence",deception:"charisma",diplomacy:"charisma",intimidation:"charisma",medicine:"wisdom",nature:"wisdom",occultism:"intelligence",performance:"charisma",religion:"wisdom",society:"intelligence",stealth:"dexterity",survival:"wisdom",thievery:"dexterity"};return Object.entries(e.skills).forEach(([H,at])=>{const A=P[H],D=ee(e.abilityScores[A]),M=ut(e.basics.level,at);g[H]=D+M}),g},[e]),Y=L.useMemo(()=>{if(!(x!=null&&x.spellcasting))return null;const g=x.spellcasting.keyAbility,P=ee(e.abilityScores[g]),H=ut(e.basics.level,_.Trained);return 10+P+H},[x,e]),R=L.useMemo(()=>{if(!(x!=null&&x.spellcasting))return null;const g=x.spellcasting.keyAbility,P=ee(e.abilityScores[g]),H=ut(e.basics.level,_.Trained);return P+H},[x,e]),B=g=>ve(ee(g));return s.jsx("div",{className:"min-h-screen bg-pf-bg p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-pf-accent mb-2",children:e.basics.name||"Unnamed Character"}),s.jsxs("p",{className:"text-pf-text-muted text-lg",children:["Level ",e.basics.level," ",(f==null?void 0:f.name)&&`${f.name} `,x==null?void 0:x.name]})]}),s.jsxs("div",{className:"space-y-1 text-right",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Player: "}),s.jsx("span",{className:"text-pf-text",children:e.basics.playerName||"Unknown"})]}),p&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Heritage: "}),s.jsx("span",{className:"text-pf-text",children:p.name})]}),v&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Background: "}),s.jsx("span",{className:"text-pf-text",children:v.name})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent mb-4",children:"Ability Scores"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(e.abilityScores).filter(g=>g!=="boosts").map(g=>s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 text-center border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted uppercase mb-1",children:g.slice(0,3)}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:B(e.abilityScores[g])}),s.jsx("div",{className:"text-sm text-pf-text-muted",children:e.abilityScores[g]})]},g))})]}),s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent mb-4",children:"Combat Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Hit Points"}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:e.derivedStats.maxHp})]}),s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Armor Class"}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:e.derivedStats.ac})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700 flex-1",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Speed"}),s.jsxs("div",{className:"text-lg font-bold text-pf-text",children:[e.derivedStats.speed," ft"]})]}),s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700 flex-1",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Perception"}),s.jsx("div",{className:"text-lg font-bold text-pf-text",children:ve(e.derivedStats.perception)})]})]}),s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Class DC"}),s.jsx("div",{className:"text-lg font-bold text-pf-text",children:e.derivedStats.classDC})]})]})]}),s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent mb-4",children:"Saving Throws"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Fortitude"}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:ve(e.derivedStats.saves.fortitude)})]}),s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Reflex"}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:ve(e.derivedStats.saves.reflex)})]}),s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:"Will"}),s.jsx("div",{className:"text-2xl font-bold text-pf-accent",children:ve(e.derivedStats.saves.will)})]})]})]})]}),s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent mb-4",children:"Skills"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(N).map(([g,P])=>s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700 flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-pf-text capitalize",children:g}),s.jsx("span",{className:"text-lg font-bold text-pf-accent",children:ve(P)})]},g))})]}),s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent mb-4",children:"Feats & Features"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Ancestry"}),p&&s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:p.name}),s.jsx("div",{className:"text-sm text-pf-text-muted",children:p.description})]}),b.map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-2",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsx("div",{className:"text-sm text-pf-text-muted",children:g.description}),g.benefit&&s.jsxs("div",{className:"text-sm text-pf-text mt-2",children:[s.jsx("span",{className:"font-semibold",children:"Benefit: "}),g.benefit]})]},g.id)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Class"}),w.map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-2",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsx("div",{className:"text-sm text-pf-text-muted",children:g.description}),g.benefit&&s.jsxs("div",{className:"text-sm text-pf-text mt-2",children:[s.jsx("span",{className:"font-semibold",children:"Benefit: "}),g.benefit]})]},g.id)})]}),C.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Skill Feats"}),C.map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-2",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsx("div",{className:"text-sm text-pf-text-muted",children:g.description}),g.benefit&&s.jsxs("div",{className:"text-sm text-pf-text mt-2",children:[s.jsx("span",{className:"font-semibold",children:"Benefit: "}),g.benefit]})]},g.id)})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"General Feats"}),h.map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-2",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsx("div",{className:"text-sm text-pf-text-muted",children:g.description}),g.benefit&&s.jsxs("div",{className:"text-sm text-pf-text mt-2",children:[s.jsx("span",{className:"font-semibold",children:"Benefit: "}),g.benefit]})]},g.id)})]})]})]}),(y.length>0||k||T.length>0)&&s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent",children:"Equipment"}),s.jsxs("div",{className:"text-sm text-pf-text-muted",children:["Gold: ",e.equipment.gold.toFixed(2)," gp"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Weapons"}),y.map(g=>s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:g.name}),s.jsxs("div",{className:"text-xs text-pf-accent-light mb-2",children:[g.category,"  ",g.group]}),s.jsxs("div",{className:"text-sm text-pf-text-muted mb-2",children:["Damage: ",g.damage," ",g.damageType]}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:["Hands: ",g.hands,"  Bulk: ",g.bulk,g.range&&`  Range: ${g.range} ft`]}),g.traits.length>0&&s.jsx("div",{className:"text-xs text-pf-accent-light mt-2",children:g.traits.join(", ")})]},g.id))]}),k&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Armor"}),s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-4 border border-gray-700 mb-3",children:[s.jsx("div",{className:"font-semibold text-pf-text mb-1",children:k.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-2",children:k.category}),s.jsxs("div",{className:"text-sm text-pf-text-muted mb-2",children:["AC Bonus: +",k.acBonus,k.dexCap!==null&&`  Dex Cap: +${k.dexCap}`]}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:["Bulk: ",k.bulk,k.checkPenalty!==0&&`  Check Penalty: ${k.checkPenalty}`]}),k.traits.length>0&&s.jsx("div",{className:"text-xs text-pf-accent-light mt-2",children:k.traits.join(", ")})]})]}),T.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Items"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:T.map(g=>s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"font-semibold text-pf-text text-sm mb-1",children:g.name}),s.jsx("div",{className:"text-xs text-pf-text-muted mb-1",children:g.description}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:["Bulk: ",g.bulk]})]},g.id))})]})]})]}),e.spells&&(u||m)&&s.jsxs("div",{className:"bg-pf-bg-card rounded-lg border border-gray-700 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-pf-accent",children:"Spells"}),s.jsxs("div",{className:"text-right",children:[Y&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Spell DC: "}),s.jsx("span",{className:"text-lg font-bold text-pf-accent",children:Y})]}),R!==null&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-pf-text-muted",children:"Spell Attack: "}),s.jsx("span",{className:"text-lg font-bold text-pf-accent",children:ve(R)})]})]})]}),u&&u.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Spells Known"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-pf-text mb-2",children:"Cantrips (Level 0)"}),u.filter(g=>g.level===0).map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700 mb-2",children:[s.jsx("div",{className:"font-semibold text-pf-text",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-1",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:[g.castTime,"  ",g.range]})]},g.id)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-pf-text mb-2",children:"Level 1 Spells"}),u.filter(g=>g.level===1).map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700 mb-2",children:[s.jsx("div",{className:"font-semibold text-pf-text",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-1",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:[g.castTime,"  ",g.range]})]},g.id)})]})]})]}),m&&m.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-pf-accent-light mb-3",children:"Prepared Spells"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.filter(g=>g.level===1).map(g=>{var P;return s.jsxs("div",{className:"bg-pf-bg-dark rounded-lg p-3 border border-gray-700",children:[s.jsx("div",{className:"font-semibold text-pf-text",children:g.name}),s.jsx("div",{className:"text-xs text-pf-accent-light mb-1",children:(P=g.traits)==null?void 0:P.join(", ")}),s.jsxs("div",{className:"text-xs text-pf-text-muted",children:[g.castTime,"  ",g.range]})]},g.id)})})]})]})]})})}function sf(){const[e,t]=L.useState("landing");return e==="creator"?s.jsx(ul,{children:s.jsx(nf,{onViewSheet:()=>t("sheet")})}):e==="sheet"?s.jsx(ul,{children:s.jsxs("div",{className:"min-h-screen flex flex-col bg-pf-bg",children:[s.jsxs("header",{className:"bg-pf-bg-card border-b border-pf-border px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-pf-accent",children:"PenPaperRPG"}),s.jsx("p",{className:"text-sm text-pf-text-muted",children:"Character Sheet"})]}),s.jsx(Ze,{onClick:()=>t("creator"),children:"Back to Creator"})]}),s.jsx(rf,{})]})}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsxs("header",{className:"bg-pf-bg-card border-b border-pf-border px-6 py-4",children:[s.jsx("h1",{className:"text-pf-accent",children:"PenPaperRPG"}),s.jsx("p",{className:"text-sm text-pf-text-muted",children:"Pathfinder 2e Character Creator"})]}),s.jsx("main",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"card text-center py-12",children:[s.jsx("h2",{className:"text-pf-accent mb-4",children:"Welcome to PenPaperRPG"}),s.jsx("p",{className:"text-pf-text-muted mb-6",children:"A comprehensive character creator for Pathfinder Second Edition"}),s.jsx("p",{className:"text-sm text-pf-text-muted mb-8",children:"Phase 5: Character Creation Steps - Complete"}),s.jsx(Ze,{onClick:()=>t("creator"),children:"Create New Character"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-pf-accent mb-2",children:"Deep Character Creation"}),s.jsx("p",{className:"text-sm text-pf-text-muted",children:"Full support for ancestries, backgrounds, classes, and feats"})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-pf-accent mb-2",children:"Modern Interface"}),s.jsx("p",{className:"text-sm text-pf-text-muted",children:"Clean, intuitive UI with progressive disclosure"})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-pf-accent mb-2",children:"Local Storage"}),s.jsx("p",{className:"text-sm text-pf-text-muted",children:"Save and manage characters on your computer"})]})]})]})}),s.jsxs("footer",{className:"bg-pf-bg-card border-t border-pf-border px-6 py-4 text-center text-sm text-pf-text-muted",children:[s.jsx("p",{children:"This application uses the Pathfinder Second Edition system under the ORC License"}),s.jsx("p",{className:"mt-1",children:"Pathfinder and associated marks are trademarks of Paizo Inc."})]})]})}dr.createRoot(document.getElementById("root")).render(s.jsx(qu.StrictMode,{children:s.jsx(sf,{})}));
