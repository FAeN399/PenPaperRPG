"use strict";const o=require("electron"),n=require("path");process.env.DIST=n.join(__dirname,"../dist");process.env.VITE_PUBLIC=o.app.isPackaged?process.env.DIST:n.join(process.env.DIST,"../public");let e;function s(){e=new o.BrowserWindow({width:1400,height:900,minWidth:1024,minHeight:768,icon:n.join(process.env.VITE_PUBLIC,"icon.png"),webPreferences:{preload:n.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0},backgroundColor:"#1a1a1a",show:!1}),e.once("ready-to-show",()=>{e==null||e.show()}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),process.env.VITE_DEV_SERVER_URL?(e.loadURL(process.env.VITE_DEV_SERVER_URL),e.webContents.openDevTools()):e.loadFile(n.join(process.env.DIST,"index.html"))}o.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(o.app.quit(),e=null)});o.app.on("activate",()=>{o.BrowserWindow.getAllWindows().length===0&&s()});o.app.whenReady().then(s);
